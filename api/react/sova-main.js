!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="/",t(0)}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"function":break;case"object":e[t]=function(t){var n=t.slice(1),r=e[t[0]];return function(e,t,o){r.apply(this,[e,t,o].concat(n))}}(e[t]);break;default:e[t]=e[e[t]]}return e}([function(e,t,n){n(229),e.exports=n(120)},function(e,t,n){"use strict";e.exports=n(230)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.common=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=n(1),s=r(a),l=function(e){if(window.navigator){var t=/iPhone/i,n=/iPod/i,r=/iPad/i,o=/\bAndroid(?:.+)Mobile\b/i,i=/Android/i,a=/\bAndroid(?:.+)SD4930UR\b/i,s=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,l=/Windows Phone/i,u=/\bWindows(?:.+)ARM\b/i,c=/BlackBerry/i,f=/BB10/i,d=/Opera Mini/i,p=/\b(CriOS|Chrome)(?:.+)Mobile/i,h=/Mobile(?:.+)Firefox\b/i,g=function(e,t){return e.test(t)},y=navigator.userAgent,m=y.split("[FBAN");m[1]&&(y=m[0]),(m=y.split("Twitter"))[1]&&(y=m[0]);var v={apple:{phone:g(t,y)&&!g(l,y),ipod:g(n,y),tablet:!g(t,y)&&g(r,y)&&!g(l,y),device:(g(t,y)||g(n,y)||g(r,y))&&!g(l,y)},amazon:{phone:g(a,y),tablet:!g(a,y)&&g(s,y),device:g(a,y)||g(s,y)},android:{phone:!g(l,y)&&g(a,y)||!g(l,y)&&g(o,y),tablet:!g(l,y)&&!g(a,y)&&!g(o,y)&&(g(s,y)||g(i,y)),device:!g(l,y)&&(g(a,y)||g(s,y)||g(o,y)||g(i,y))},windows:{phone:g(l,y),tablet:g(u,y),device:g(l,y)||g(u,y)},other:{blackberry:g(c,y),blackberry10:g(f,y),opera:g(d,y),firefox:g(h,y),chrome:g(p,y),device:g(c,y)||g(f,y)||g(d,y)||g(h,y)||g(p,y)},any:!1,phone:!1,tablet:!1};return v.any=v.apple.device||v.android.device||v.windows.device||v.other.device,v.phone=v.apple.phone||v.android.phone||v.windows.phone,v.tablet=v.apple.tablet||v.android.tablet||v.windows.tablet,v}}(),u=t.common={recalc:{CCTYPE:function(e,t,n){if(n){var r=n.split("|");e.setField("CCTYPE_ALIAS",r[0]);var o=parseInt(r[1],10);if(isNaN(o))e.setField("CCDA","");else{var i=e.getField("DOCDA");i=i?new Date(i+" 00:00:00"):new Date;var a=new Date(i.valueOf()+864e5*o);0===a.getUTCDay()?a=new Date(a.valueOf()-1728e5):6===a.getUTCDay()&&(a=new Date(a.valueOf()-864e5)),e.setField("CCDA",a)}}else e.setField("CCTYPE_ALIAS",""),e.setField("CCDA","")}}},c=function(e,t){if(t)return e;var n=void 0,r=/<<[\s\S]+?>>/g,o=e.match(r);if(!o)return e;var i=e.split(r);return n=[i[0]||null],o.forEach(function(e,t){var r=void 0,o=void 0;switch(e[2]){case"R":o={color:"red"};break;case"G":o={color:"green"};break;case"B":o={color:"blue"};break;case"W":o={color:"white}"};break;case"C":o={};break;default:r=e}r||("+"===e[3]&&(o.fontWeight="bold"),r=s.default.createElement("span",{key:t,style:o},e.slice(4,-2))),n.push(r),i[t+1]&&n.push(i[t+1])}),n},f={},d=t.Util={isMobile:l,anyMobile:l.any,getField:function(e,t,n){var r=t.toUpperCase().trim(),o=r in e.register&&e.register[r].getValue?e.register[r].getValue(n):r in e.hideNewValues?e.hideNewValues[r]:e.fieldValues[r];return o},setField:function(e,t,n,r){var o=t.toUpperCase();e.register[o]&&e.register[o].setValue?e.register[o].setValue(n,r):e.hideNewValues[o]=n},setFocus:function(e,t){var n=void 0;if("number"==typeof t)n=e.focusRows[Math.max(0,Math.min(t,e.focusRows.length-1))];else{if(!t)return;n=t.toUpperCase()}n&&e.register[n]&&e.register[n].setFocus&&!e.register[n].props.readOnly?e.register[n].setFocus():(n=e.focusRows&&e.focusRows[0],n&&e.register[n]&&e.register[n].setFocus&&!e.register[n].props.readOnly?e.register[n].setFocus():e.mainDiv&&e.mainDiv.current&&e.mainDiv.current.focus())},xopen:function(e){e in f&&!f[e].closed?/Firefox/.test(navigator.userAgent)?f[e].alert("Окно уже открыто"):f[e].focus():f[e]=window.open(e)},serverAction:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise(function(i,a){return d.doPost(e,"api.post/"+t,n,r,o).then(function(e){return i(e)}).catch(function(e){return a(e)})})},doPost:function(e,t,n,r,o){return new Promise(function(i,a){var s={credentials:"include",method:"post",headers:{"Content-type":"text/plain; charset=UTF-8"},body:n};e.waitLoad=!0,setTimeout(function(t){return e.waitLoad&&e.setState({spinner:!0})},500),fetch(t,s).then(function(t){if(e.waitLoad=!1,e.setState({spinner:!1}),200!==t.status){var n=t.status+"\n"+t.statusText;return!r&&e.msg.error(n),a(n)}return o?t.json():t.text()}).then(function(e){return i(e)}).catch(function(t){e.waitLoad=!1,e.setState({spinner:!1});var n="string"==typeof t?t:t.message;!r&&e.msg.error(n,"Util.doPost-error:"),a(n)})})},upDown:function(e,t,n,r){return 38!==e.keyCode||e.altKey||e.shiftKey||e.ctrlKey?40!==e.keyCode||e.altKey||e.shiftKey||e.ctrlKey?void 0:(r&&(e.stopPropagation(),e.preventDefault()),d.runCmd(t,"keyDownDown",n)?null:"down"):(r&&(e.stopPropagation(),e.preventDefault()),d.runCmd(t,"keyDownUp",n)?null:"up")},recalc:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,o=e.props.doc,i=e.props.xName;u.recalc[i]&&(setTimeout(function(e){return u.recalc[i](o,t,n,r)},10)||!0)||o.sova&&o.sova.recalc&&o.sova.recalc[i]&&setTimeout(function(e){return o.sova.recalc[i](o,t,n,r)},10)},runCmd:function(e,t,n,r){return e.sova&&e.sova.cmd&&e.sova.cmd[t]?e.sova.cmd[t](e,n,r):e.cmdList&&e.cmdList[t]&&e.cmdList[t](n,r)},runCmdYesNo:function(e,t,n,r){return new Promise(function(o,i){return e.sova&&e.sova.cmdYN&&e.sova.cmdYN[t]?e.sova.cmdYN[t](e,n,r).then(o).catch(i):(console.log('Command "'+t+'" not found'),void o())})},_on_:function(e){if(!e||!Object.keys(e).length)return null;var t={};return Object.keys(e).forEach(function(n){if(n.startsWith("on"))if("string"==typeof e[n]){var r=d.partition(e[n],"|"),o=i(r,2),a=o[0],s=o[1];t[n]=function(t){t.preventDefault(),t.stopPropagation(),d.runCmd(e.doc,a,s)}}else t[n]=function(t){return e[n](t)}}),t},hide:function(e,t){return t&&e.sova.hide&&e.sova.hide[t]?e.sova.hide[t](e):e.hideList[t]?e.hideList[t]():void 0},readOnly:function(e,t){return t&&e.sova.readOnly&&e.sova.readOnly[t]&&e.sova.readOnly[t](e)},label:function(e,t,n){var r=e||" ";return n?t?{_teg:"div",text:r,attributes:{style:Object.assign({},n,{width:t}),className:"label"}}:{_teg:"div",text:r,attributes:{style:Object.assign({},n),className:"label"}}:t?{_teg:"div",text:r,attributes:{style:{width:t},className:"label"}}:{_teg:"div",text:r,attributes:{className:"label"}}},partition:function(e,t,n){if(e){var r=e.split(t);return n?r.length>1?[r[0],r.slice(1).join(t)]:[e,""]:r.length>1?[r[0].trim(),r.slice(1).join(t).trim()]:[e.trim(),""]}return["",""]},dtRus:function(e){var t=(e||"").split("\n").map(function(e){if("string"!=typeof e)return"";if(e.indexOf("-")<0)return e;var t=d.partition(e," "),n=i(t,2),r=n[0],o=n[1];return r.slice(-2)+"."+r.slice(5,7)+"."+r.slice(0,4)+(o?" "+o:"")});return t.join("\n")},dtDB:function(e){var t=e.split("\n").map(function(e){if("string"!=typeof e)return"";if(e.indexOf(".")<0)return e;var t=d.partition(e," "),n=i(t,2),r=n[0],o=n[1];return r.slice(-4)+"-"+r.slice(3,5)+"-"+r.slice(0,2)+(o?" "+o:"")});return t.join("\n")},formatDate:function(e){return("0"+e.getUTCDate()).slice(-2)+"."+("0"+(e.getUTCMonth()+1)).slice(-2)+"."+e.getUTCFullYear()},formatDateTime:function(e){return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)+" "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)},addJson:function(e,t,n){var r=n||"";return(t||"")===r||e.endsWith("_FD")||e.endsWith(".FD")||e.startsWith("BTN_")?"":'"'+e+'":['+JSON.stringify(t||"")+","+JSON.stringify(r)+"],"},jsonByUrl:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"get",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new Promise(function(o,i){var a={credentials:"include"};"get"===n?a.cache=t.startsWith("api.getc")||t.startsWith("list?")?"force-cache":"no-store":(a.method="post",a.headers={"Content-type":"text/plain; charset=UTF-8"},a.body=r),e.waitLoad=!0,setTimeout(function(t){return e.waitLoad&&e.setState({spinner:!0})},500),fetch(t,a).then(function(e){return 200===e.status?e.json():i("jsonByUrl.js.fetch-status: "+e.status)}).then(function(t){o(t),e.waitLoad=!1,e.setState({spinner:!1})}).catch(function(t){e.waitLoad=!1,e.setState({spinner:!1}),console.error("jsonByUrl.js.fetch-error:",t.message),i(t.message)})})},jsCssFiles:[],addJsCSS:function(e,t){if(!e)return t();var n=[];if(e.forEach(function(e){e&&!d.jsCssFiles.includes(e)&&(n.push(e),d.jsCssFiles.push(e))}),!n.length)return t();var r=0,o=function e(o){var i=void 0;d.partition(n[r],"::")[0].endsWith(".css")?(i=document.createElement("link"),i.rel="stylesheet",i.href=n[r]):(i=document.createElement("script"),i.src=n[r]),window.owlDebug&&console.log("include",i.rel||"script",n[r]),document.head.appendChild(i),r++,i.onload=function(o){return r>=n.length?t():e()},i.onerror=function(o){return r>=n.length?t():e()}};o()},cmpObj:function(e,t){if("undefined"==typeof e&&"undefined"==typeof t)return!0;if(("undefined"==typeof e?"undefined":o(e))!==("undefined"==typeof t?"undefined":o(t)))return!1;for(var n in e){if(e.hasOwnProperty(n)!==t.hasOwnProperty(n))return!1;if("object"===o(e[n])){if(!d.cmpObj(e[n],t[n]))return!1}else if(e[n]!==t[n])return!1}for(var r in t)if("undefined"==typeof e[r])return!1;return!0},splitText:function(e,t){return e?e.includes("\n")&&t.br?e.split("\n").map(function(e,n){return t.s2&&n===t.s2-1?"p"===t.br&&e?s.default.createElement("p",{key:n},s.default.createElement("b",null,c(e))):s.default.createElement("span",{key:n},s.default.createElement("b",null,n?s.default.createElement("br",null):null,c(e))):"p"===t.br&&e?s.default.createElement("p",{key:n},c(e)):s.default.createElement("span",{key:n},n?s.default.createElement("br",null):null,c(e))}):1===t.s2?s.default.createElement("b",null,c(e)):c(e):null},sleep:function(e){return new Promise(function(t,n){return setTimeout(t,e)})},addChildPage:function(e,t){var n=Object.assign({},t,{owner:e,key:Math.random(),docProps:{}});return n.frameStyle=Object.assign({},t.frameStyle),n.docProps.unid=n.unid=t.unid||"0001".repeat(8),["dbAlias","rsMode","focus","form","newForm"].forEach(function(e){return n.docProps[e]=t[e]||""}),e.zIndexArr=e.zIndexArr||[],n.avatar?(e.sovaPages.unshift(n),void e.zIndexArr.unshift(t.pageName)):(e.sovaPages.push(n),e.zIndexArr.push(t.pageName),e.zIndex=t.pageName,n.pont&&(n.frameStyle.transition="all 0.5s ease",setTimeout(function(t){return e.forceUpdate()},1)),void e.forceUpdate())},copyToClipboard:function(e){if(navigator.clipboard)navigator.clipboard.writeText(e).then(function(e){}).catch(function(t){if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var n=document.createElement("textarea");n.textContent=e,n.style.position="fixed",document.body.appendChild(n),n.select();try{return document.execCommand("copy")}catch(e){console.warn("Copy to clipboard failed.",e)}finally{document.body.removeChild(n)}}});else if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var t=document.createElement("textarea");t.textContent=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch(e){console.warn("Copy to clipboard failed.",e)}finally{document.body.removeChild(t)}}},_div:function(e,t,n){var r={_teg:"div"};return e&&(r.attributes=e),t&&(r.children=t),n&&(r.text=n),r},getDom:function(e,t){var n=t.toUpperCase().trim();return n in e.register&&e.register[n].getDom&&e.register[n].getDom()},getRect:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,r=e.mainDiv.current.getBoundingClientRect(),o=r.left,i=r.top,a=r.width,s=r.height;return t<=100||n<=100?(o+=Math.floor(a*(100-t)/200),i+=Math.floor(s*(100-n)/200),a=Math.floor(a*t/100),s=Math.floor(s*n/100)):(o+=t<a-10?(a-t)/2:5,i+=n<s-10?(s-n)/2:5,a=t<a-10?t:a-10,s=n<s-10?n:s-10),{left:o,top:i,width:a,height:s}}};t.default=d},function(e,t,n){!function(t,n){e.exports=n()}(this,function(){"use strict";function e(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function t(e){return i(e)?e:T(e)}function n(e){return a(e)?e:N(e)}function r(e){return s(e)?e:I(e)}function o(e){return i(e)&&!l(e)?e:M(e)}function i(e){return!(!e||!e[un])}function a(e){return!(!e||!e[cn])}function s(e){return!(!e||!e[fn])}function l(e){return a(e)||s(e)}function u(e){return!(!e||!e[dn])}function c(e){return e.value=!1,e}function f(e){e&&(e.value=!0)}function d(){}function p(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),o=0;o<n;o++)r[o]=e[o+t];return r}function h(e){return void 0===e.size&&(e.size=e.__iterate(y)),e.size}function g(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?h(e)+t:t}function y(){return!0}function m(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function v(e,t){return w(e,t,0)}function b(e,t){return w(e,t,t)}function w(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}function _(e){this.next=e}function x(e,t,n,r){var o=0===e?t:1===e?n:[t,n];return r?r.value=o:r={value:o,done:!1},r}function S(){return{value:void 0,done:!0}}function k(e){return!!O(e)}function E(e){return e&&"function"==typeof e.next}function C(e){var t=O(e);return t&&t.call(e)}function O(e){var t=e&&(Sn&&e[Sn]||e[kn]);if("function"==typeof t)return t}function D(e){return e&&"number"==typeof e.length}function T(e){return null===e||void 0===e?L():i(e)?e.toSeq():z(e)}function N(e){return null===e||void 0===e?L().toKeyedSeq():i(e)?a(e)?e.toSeq():e.fromEntrySeq():F(e)}function I(e){return null===e||void 0===e?L():i(e)?a(e)?e.entrySeq():e.toIndexedSeq():K(e)}function M(e){return(null===e||void 0===e?L():i(e)?a(e)?e.entrySeq():e:K(e)).toSetSeq()}function P(e){this._array=e,this.size=e.length}function B(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function A(e){this._iterable=e,this.size=e.length||e.size}function R(e){this._iterator=e,this._iteratorCache=[]}function j(e){return!(!e||!e[Cn])}function L(){return On||(On=new P([]))}function F(e){var t=Array.isArray(e)?new P(e).fromEntrySeq():E(e)?new R(e).fromEntrySeq():k(e)?new A(e).fromEntrySeq():"object"==typeof e?new B(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function K(e){var t=U(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function z(e){var t=U(e)||"object"==typeof e&&new B(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function U(e){return D(e)?new P(e):E(e)?new R(e):k(e)?new A(e):void 0}function V(e,t,n,r){var o=e._cache;if(o){for(var i=o.length-1,a=0;a<=i;a++){var s=o[n?i-a:a];if(t(s[1],r?s[0]:a,e)===!1)return a+1}return a}return e.__iterateUncached(t,n)}function H(e,t,n,r){var o=e._cache;if(o){var i=o.length-1,a=0;return new _(function(){var e=o[n?i-a:a];return a++>i?S():x(t,r?e[0]:a-1,e[1])})}return e.__iteratorUncached(t,n)}function W(e,t){return t?q(t,e,"",{"":e}):Y(e)}function q(e,t,n,r){return Array.isArray(t)?e.call(r,n,I(t).map(function(n,r){return q(e,n,r,t)})):X(t)?e.call(r,n,N(t).map(function(n,r){return q(e,n,r,t)})):t}function Y(e){return Array.isArray(e)?I(e).map(Y).toList():X(e)?N(e).map(Y).toMap():e}function X(e){return e&&(e.constructor===Object||void 0===e.constructor)}function J(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function G(e,t){if(e===t)return!0;if(!i(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||a(e)!==a(t)||s(e)!==s(t)||u(e)!==u(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!l(e);if(u(e)){var r=e.entries();return t.every(function(e,t){var o=r.next().value;return o&&J(o[1],e)&&(n||J(o[0],t))})&&r.next().done}var o=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{o=!0;var c=e;e=t,t=c}var f=!0,d=t.__iterate(function(t,r){if(n?!e.has(t):o?!J(t,e.get(r,mn)):!J(e.get(r,mn),t))return f=!1,!1});return f&&e.size===d}function $(e,t){if(!(this instanceof $))return new $(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(Dn)return Dn;Dn=this}}function Q(e,t){if(!e)throw new Error(t)}function Z(e,t,n){if(!(this instanceof Z))return new Z(e,t,n);if(Q(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(Tn)return Tn;Tn=this}}function ee(){throw TypeError("Abstract")}function te(){}function ne(){}function re(){}function oe(e){return e>>>1&1073741824|3221225471&e}function ie(e){if(e===!1||null===e||void 0===e)return 0;if("function"==typeof e.valueOf&&(e=e.valueOf(),e===!1||null===e||void 0===e))return 0;if(e===!0)return 1;var t=typeof e;if("number"===t){var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)e/=4294967295,n^=e;return oe(n)}if("string"===t)return e.length>jn?ae(e):se(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return le(e);if("function"==typeof e.toString)return se(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function ae(e){var t=Kn[e];return void 0===t&&(t=se(e),Fn===Ln&&(Fn=0,Kn={}),Fn++,Kn[e]=t),t}function se(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return oe(t)}function le(e){var t;if(Bn&&(t=Nn.get(e),void 0!==t))return t;if(t=e[Rn],void 0!==t)return t;if(!Pn){if(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Rn],void 0!==t)return t;if(t=ue(e),void 0!==t)return t}if(t=++An,1073741824&An&&(An=0),Bn)Nn.set(e,t);else{if(void 0!==Mn&&Mn(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Pn)Object.defineProperty(e,Rn,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Rn]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Rn]=t}}return t}function ue(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function ce(e){Q(e!==1/0,"Cannot perform this action with an infinite size.")}function fe(e){return null===e||void 0===e?xe():de(e)&&!u(e)?e:xe().withMutations(function(t){var r=n(e);ce(r.size),r.forEach(function(e,n){return t.set(n,e)})})}function de(e){return!(!e||!e[zn])}function pe(e,t){this.ownerID=e,this.entries=t}function he(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function ge(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function ye(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function me(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function ve(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&we(e._root)}function be(e,t){return x(e,t[0],t[1])}function we(e,t){return{node:e,index:0,__prev:t}}function _e(e,t,n,r){var o=Object.create(Un);return o.size=e,o._root=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function xe(){return Vn||(Vn=_e(0))}function Se(e,t,n){var r,o;if(e._root){var i=c(vn),a=c(bn);if(r=ke(e._root,e.__ownerID,0,void 0,t,n,i,a),!a.value)return e;o=e.size+(i.value?n===mn?-1:1:0)}else{if(n===mn)return e;o=1,r=new pe(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=o,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?_e(o,r):xe()}function ke(e,t,n,r,o,i,a,s){return e?e.update(t,n,r,o,i,a,s):i===mn?e:(f(s),f(a),new me(t,r,[o,i]))}function Ee(e){return e.constructor===me||e.constructor===ye}function Ce(e,t,n,r,o){if(e.keyHash===r)return new ye(t,r,[e.entry,o]);var i,a=(0===n?e.keyHash:e.keyHash>>>n)&yn,s=(0===n?r:r>>>n)&yn,l=a===s?[Ce(e,t,n+hn,r,o)]:(i=new me(t,r,o),a<s?[e,i]:[i,e]);return new he(t,1<<a|1<<s,l)}function Oe(e,t,n,r){e||(e=new d);for(var o=new me(e,ie(n),[n,r]),i=0;i<t.length;i++){var a=t[i];o=o.update(e,0,void 0,a[0],a[1])}return o}function De(e,t,n,r){for(var o=0,i=0,a=new Array(n),s=0,l=1,u=t.length;s<u;s++,l<<=1){var c=t[s];void 0!==c&&s!==r&&(o|=l,a[i++]=c)}return new he(e,o,a)}function Te(e,t,n,r,o){for(var i=0,a=new Array(gn),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[i++]:void 0;return a[r]=o,new ge(e,i+1,a)}function Ne(e,t,r){for(var o=[],a=0;a<r.length;a++){var s=r[a],l=n(s);i(s)||(l=l.map(function(e){return W(e)})),o.push(l)}return Pe(e,t,o)}function Ie(e,t,n){return e&&e.mergeDeep&&i(t)?e.mergeDeep(t):J(e,t)?e:t}function Me(e){return function(t,n,r){if(t&&t.mergeDeepWith&&i(n))return t.mergeDeepWith(e,n);var o=e(t,n,r);return J(t,o)?t:o}}function Pe(e,t,n){return n=n.filter(function(e){return 0!==e.size}),0===n.length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations(function(e){for(var r=t?function(n,r){e.update(r,mn,function(e){return e===mn?n:t(e,n,r)})}:function(t,n){e.set(n,t)},o=0;o<n.length;o++)n[o].forEach(r)}):e.constructor(n[0])}function Be(e,t,n,r){var o=e===mn,i=t.next();if(i.done){var a=o?n:e,s=r(a);return s===a?e:s}Q(o||e&&e.set,"invalid keyPath");var l=i.value,u=o?mn:e.get(l,mn),c=Be(u,t,n,r);return c===u?e:c===mn?e.remove(l):(o?xe():e).set(l,c)}function Ae(e){return e-=e>>1&1431655765,e=(858993459&e)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,127&e}function Re(e,t,n,r){var o=r?e:p(e);return o[t]=n,o}function je(e,t,n,r){var o=e.length+1;if(r&&t+1===o)return e[t]=n,e;for(var i=new Array(o),a=0,s=0;s<o;s++)s===t?(i[s]=n,a=-1):i[s]=e[s+a];return i}function Le(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var o=new Array(r),i=0,a=0;a<r;a++)a===t&&(i=1),o[a]=e[a+i];return o}function Fe(e){var t=He();if(null===e||void 0===e)return t;if(Ke(e))return e;var n=r(e),o=n.size;return 0===o?t:(ce(o),o>0&&o<gn?Ve(0,o,hn,null,new ze(n.toArray())):t.withMutations(function(e){e.setSize(o),n.forEach(function(t,n){return e.set(n,t)})}))}function Ke(e){return!(!e||!e[Yn])}function ze(e,t){this.array=e,this.ownerID=t}function Ue(e,t){function n(e,t,n){return 0===t?r(e,n):o(e,t,n)}function r(e,n){var r=n===s?l&&l.array:e&&e.array,o=n>i?0:i-n,u=a-n;return u>gn&&(u=gn),function(){if(o===u)return Gn;var e=t?--u:o++;return r&&r[e]}}function o(e,r,o){var s,l=e&&e.array,u=o>i?0:i-o>>r,c=(a-o>>r)+1;return c>gn&&(c=gn),function(){for(;;){if(s){var e=s();if(e!==Gn)return e;s=null}if(u===c)return Gn;var i=t?--c:u++;s=n(l&&l[i],r-hn,o+(i<<r))}}}var i=e._origin,a=e._capacity,s=$e(a),l=e._tail;return n(e._root,e._level,0)}function Ve(e,t,n,r,o,i,a){var s=Object.create(Xn);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function He(){return Jn||(Jn=Ve(0,0,hn))}function We(e,t,n){if(t=g(e,t),t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(e){t<0?Je(e,t).set(0,n):Je(e,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,o=e._root,i=c(bn);return t>=$e(e._capacity)?r=qe(r,e.__ownerID,0,t,n,i):o=qe(o,e.__ownerID,e._level,t,n,i),i.value?e.__ownerID?(e._root=o,e._tail=r,e.__hash=void 0,e.__altered=!0,e):Ve(e._origin,e._capacity,e._level,o,r):e}function qe(e,t,n,r,o,i){var a=r>>>n&yn,s=e&&a<e.array.length;if(!s&&void 0===o)return e;var l;if(n>0){var u=e&&e.array[a],c=qe(u,t,n-hn,r,o,i);return c===u?e:(l=Ye(e,t),l.array[a]=c,l)}return s&&e.array[a]===o?e:(f(i),l=Ye(e,t),void 0===o&&a===l.array.length-1?l.array.pop():l.array[a]=o,l)}function Ye(e,t){return t&&e&&t===e.ownerID?e:new ze(e?e.array.slice():[],t)}function Xe(e,t){if(t>=$e(e._capacity))return e._tail;if(t<1<<e._level+hn){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&yn],r-=hn;return n}}function Je(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new d,o=e._origin,i=e._capacity,a=o+t,s=void 0===n?i:n<0?i+n:o+n;if(a===o&&s===i)return e;if(a>=s)return e.clear();for(var l=e._level,u=e._root,c=0;a+c<0;)u=new ze(u&&u.array.length?[void 0,u]:[],r),l+=hn,c+=1<<l;c&&(a+=c,o+=c,s+=c,i+=c);for(var f=$e(i),p=$e(s);p>=1<<l+hn;)u=new ze(u&&u.array.length?[u]:[],r),l+=hn;var h=e._tail,g=p<f?Xe(e,s-1):p>f?new ze([],r):h;if(h&&p>f&&a<i&&h.array.length){u=Ye(u,r);for(var y=u,m=l;m>hn;m-=hn){var v=f>>>m&yn;y=y.array[v]=Ye(y.array[v],r)}y.array[f>>>hn&yn]=h}if(s<i&&(g=g&&g.removeAfter(r,0,s)),a>=p)a-=p,s-=p,l=hn,u=null,g=g&&g.removeBefore(r,0,a);else if(a>o||p<f){for(c=0;u;){var b=a>>>l&yn;if(b!==p>>>l&yn)break;b&&(c+=(1<<l)*b),l-=hn,u=u.array[b]}u&&a>o&&(u=u.removeBefore(r,l,a-c)),u&&p<f&&(u=u.removeAfter(r,l,p-c)),c&&(a-=c,s-=c)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=l,e._root=u,e._tail=g,e.__hash=void 0,e.__altered=!0,e):Ve(a,s,l,u,g)}function Ge(e,t,n){for(var o=[],a=0,s=0;s<n.length;s++){var l=n[s],u=r(l);u.size>a&&(a=u.size),i(l)||(u=u.map(function(e){return W(e)})),o.push(u)}return a>e.size&&(e=e.setSize(a)),Pe(e,t,o)}function $e(e){return e<gn?0:e-1>>>hn<<hn}function Qe(e){return null===e||void 0===e?tt():Ze(e)?e:tt().withMutations(function(t){var r=n(e);ce(r.size),r.forEach(function(e,n){return t.set(n,e)})})}function Ze(e){return de(e)&&u(e)}function et(e,t,n,r){var o=Object.create(Qe.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=n,o.__hash=r,o}function tt(){return $n||($n=et(xe(),He()))}function nt(e,t,n){var r,o,i=e._map,a=e._list,s=i.get(t),l=void 0!==s;if(n===mn){if(!l)return e;a.size>=gn&&a.size>=2*i.size?(o=a.filter(function(e,t){return void 0!==e&&s!==t}),r=o.toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(r.__ownerID=o.__ownerID=e.__ownerID)):(r=i.remove(t),o=s===a.size-1?a.pop():a.set(s,void 0))}else if(l){if(n===a.get(s)[1])return e;r=i,o=a.set(s,[t,n])}else r=i.set(t,a.size),o=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=o,e.__hash=void 0,e):et(r,o)}function rt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function ot(e){this._iter=e,this.size=e.size}function it(e){this._iter=e,this.size=e.size}function at(e){this._iter=e,this.size=e.size}function st(e){var t=Dt(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=Tt,t.__iterateUncached=function(t,n){var r=this;return e.__iterate(function(e,n){return t(n,e,r)!==!1},n)},t.__iteratorUncached=function(t,n){if(t===xn){var r=e.__iterator(t,n);return new _(function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===_n?wn:_n,n)},t}function lt(e,t,n){var r=Dt(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,o){var i=e.get(r,mn);return i===mn?o:t.call(n,i,r,e)},r.__iterateUncached=function(r,o){var i=this;return e.__iterate(function(e,o,a){return r(t.call(n,e,o,a),o,i)!==!1},o)},r.__iteratorUncached=function(r,o){var i=e.__iterator(xn,o);return new _(function(){var o=i.next();if(o.done)return o;var a=o.value,s=a[0];return x(r,s,t.call(n,a[1],s,e),o)})},r}function ut(e,t){var n=Dt(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=st(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=Tt,n.__iterate=function(t,n){var r=this;return e.__iterate(function(e,n){return t(e,n,r)},!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function ct(e,t,n,r){var o=Dt(e);return r&&(o.has=function(r){var o=e.get(r,mn);return o!==mn&&!!t.call(n,o,r,e)},o.get=function(r,o){var i=e.get(r,mn);return i!==mn&&t.call(n,i,r,e)?i:o}),o.__iterateUncached=function(o,i){var a=this,s=0;return e.__iterate(function(e,i,l){if(t.call(n,e,i,l))return s++,o(e,r?i:s-1,a)},i),s},o.__iteratorUncached=function(o,i){var a=e.__iterator(xn,i),s=0;return new _(function(){for(;;){var i=a.next();if(i.done)return i;var l=i.value,u=l[0],c=l[1];if(t.call(n,c,u,e))return x(o,r?u:s++,c,i)}})},o}function ft(e,t,n){var r=fe().asMutable();return e.__iterate(function(o,i){r.update(t.call(n,o,i,e),0,function(e){return e+1})}),r.asImmutable()}function dt(e,t,n){var r=a(e),o=(u(e)?Qe():fe()).asMutable();e.__iterate(function(i,a){o.update(t.call(n,i,a,e),function(e){return e=e||[],e.push(r?[a,i]:i),e})});var i=Ot(e);return o.map(function(t){return kt(e,i(t))})}function pt(e,t,n,r){var o=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n|=0),m(t,n,o))return e;var i=v(t,o),a=b(n,o);if(i!==i||a!==a)return pt(e.toSeq().cacheResult(),t,n,r);var s,l=a-i;l===l&&(s=l<0?0:l);var u=Dt(e);return u.size=0===s?s:e.size&&s||void 0,!r&&j(e)&&s>=0&&(u.get=function(t,n){return t=g(this,t),t>=0&&t<s?e.get(t+i,n):n}),u.__iterateUncached=function(t,n){var o=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,l=!0,u=0;return e.__iterate(function(e,n){if(!l||!(l=a++<i))return u++,t(e,r?n:u-1,o)!==!1&&u!==s}),u},u.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);var o=0!==s&&e.__iterator(t,n),a=0,l=0;return new _(function(){for(;a++<i;)o.next();if(++l>s)return S();var e=o.next();return r||t===_n?e:t===wn?x(t,l-1,void 0,e):x(t,l-1,e.value[1],e)})},u}function ht(e,t,n){var r=Dt(e);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var a=0;return e.__iterate(function(e,o,s){return t.call(n,e,o,s)&&++a&&r(e,o,i)}),a},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var a=e.__iterator(xn,o),s=!0;return new _(function(){if(!s)return S();var e=a.next();if(e.done)return e;var o=e.value,l=o[0],u=o[1];return t.call(n,u,l,i)?r===xn?e:x(r,l,u,e):(s=!1,S())})},r}function gt(e,t,n,r){var o=Dt(e);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var s=!0,l=0;return e.__iterate(function(e,i,u){if(!s||!(s=t.call(n,e,i,u)))return l++,o(e,r?i:l-1,a)}),l},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var s=e.__iterator(xn,i),l=!0,u=0;return new _(function(){var e,i,c;do{if(e=s.next(),e.done)return r||o===_n?e:o===wn?x(o,u++,void 0,e):x(o,u++,e.value[1],e);var f=e.value;i=f[0],c=f[1],l&&(l=t.call(n,c,i,a))}while(l);return o===xn?e:x(o,i,c,e)})},o}function yt(e,t){var r=a(e),o=[e].concat(t).map(function(e){return i(e)?r&&(e=n(e)):e=r?F(e):K(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===o.length)return e;if(1===o.length){var l=o[0];if(l===e||r&&a(l)||s(e)&&s(l))return l}var u=new P(o);return r?u=u.toKeyedSeq():s(e)||(u=u.toSetSeq()),u=u.flatten(!0),u.size=o.reduce(function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}},0),u}function mt(e,t,n){var r=Dt(e);return r.__iterateUncached=function(r,o){
function a(e,u){var c=this;e.__iterate(function(e,o){return(!t||u<t)&&i(e)?a(e,u+1):r(e,n?o:s++,c)===!1&&(l=!0),!l},o)}var s=0,l=!1;return a(e,0),s},r.__iteratorUncached=function(r,o){var a=e.__iterator(r,o),s=[],l=0;return new _(function(){for(;a;){var e=a.next();if(e.done===!1){var u=e.value;if(r===xn&&(u=u[1]),t&&!(s.length<t)||!i(u))return n?e:x(r,l++,u,e);s.push(a),a=u.__iterator(r,o)}else a=s.pop()}return S()})},r}function vt(e,t,n){var r=Ot(e);return e.toSeq().map(function(o,i){return r(t.call(n,o,i,e))}).flatten(!0)}function bt(e,t){var n=Dt(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var o=this,i=0;return e.__iterate(function(e,r){return(!i||n(t,i++,o)!==!1)&&n(e,i++,o)!==!1},r),i},n.__iteratorUncached=function(n,r){var o,i=e.__iterator(_n,r),a=0;return new _(function(){return(!o||a%2)&&(o=i.next(),o.done)?o:a%2?x(n,a++,t):x(n,a++,o.value,o)})},n}function wt(e,t,n){t||(t=Nt);var r=a(e),o=0,i=e.toSeq().map(function(t,r){return[r,t,o++,n?n(t,r,e):t]}).toArray();return i.sort(function(e,n){return t(e[3],n[3])||e[2]-n[2]}).forEach(r?function(e,t){i[t].length=2}:function(e,t){i[t]=e[1]}),r?N(i):s(e)?I(i):M(i)}function _t(e,t,n){if(t||(t=Nt),n){var r=e.toSeq().map(function(t,r){return[t,n(t,r,e)]}).reduce(function(e,n){return xt(t,e[1],n[1])?n:e});return r&&r[0]}return e.reduce(function(e,n){return xt(t,e,n)?n:e})}function xt(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(void 0===n||null===n||n!==n)||r>0}function St(e,n,r){var o=Dt(e);return o.size=new P(r).map(function(e){return e.size}).min(),o.__iterate=function(e,t){for(var n,r=this.__iterator(_n,t),o=0;!(n=r.next()).done&&e(n.value,o++,this)!==!1;);return o},o.__iteratorUncached=function(e,o){var i=r.map(function(e){return e=t(e),C(o?e.reverse():e)}),a=0,s=!1;return new _(function(){var t;return s||(t=i.map(function(e){return e.next()}),s=t.some(function(e){return e.done})),s?S():x(e,a++,n.apply(null,t.map(function(e){return e.value})))})},o}function kt(e,t){return j(e)?t:e.constructor(t)}function Et(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Ct(e){return ce(e.size),h(e)}function Ot(e){return a(e)?n:s(e)?r:o}function Dt(e){return Object.create((a(e)?N:s(e)?I:M).prototype)}function Tt(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):T.prototype.cacheResult.call(this)}function Nt(e,t){return e>t?1:e<t?-1:0}function It(e){var n=C(e);if(!n){if(!D(e))throw new TypeError("Expected iterable or array-like: "+e);n=C(t(e))}return n}function Mt(e,t){var n,r=function(i){if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var a=Object.keys(e);At(o,a),o.size=a.length,o._name=t,o._keys=a,o._defaultValues=e}this._map=fe(i)},o=r.prototype=Object.create(Qn);return o.constructor=r,r}function Pt(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function Bt(e){return e._name||e.constructor.name||"Record"}function At(e,t){try{t.forEach(Rt.bind(void 0,e))}catch(e){}}function Rt(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){Q(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function jt(e){return null===e||void 0===e?zt():Lt(e)&&!u(e)?e:zt().withMutations(function(t){var n=o(e);ce(n.size),n.forEach(function(e){return t.add(e)})})}function Lt(e){return!(!e||!e[Zn])}function Ft(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function Kt(e,t){var n=Object.create(er);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function zt(){return tr||(tr=Kt(xe()))}function Ut(e){return null===e||void 0===e?Wt():Vt(e)?e:Wt().withMutations(function(t){var n=o(e);ce(n.size),n.forEach(function(e){return t.add(e)})})}function Vt(e){return Lt(e)&&u(e)}function Ht(e,t){var n=Object.create(nr);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Wt(){return rr||(rr=Ht(tt()))}function qt(e){return null===e||void 0===e?Jt():Yt(e)?e:Jt().unshiftAll(e)}function Yt(e){return!(!e||!e[or])}function Xt(e,t,n,r){var o=Object.create(ir);return o.size=e,o._head=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Jt(){return ar||(ar=Xt(0))}function Gt(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}function $t(e,t){return t}function Qt(e,t){return[t,e]}function Zt(e){return function(){return!e.apply(this,arguments)}}function en(e){return function(){return-e.apply(this,arguments)}}function tn(e){return"string"==typeof e?JSON.stringify(e):e}function nn(){return p(arguments)}function rn(e,t){return e<t?1:e>t?-1:0}function on(e){if(e.size===1/0)return 0;var t=u(e),n=a(e),r=t?1:0,o=e.__iterate(n?t?function(e,t){r=31*r+sn(ie(e),ie(t))|0}:function(e,t){r=r+sn(ie(e),ie(t))|0}:t?function(e){r=31*r+ie(e)|0}:function(e){r=r+ie(e)|0});return an(o,r)}function an(e,t){return t=In(t,3432918353),t=In(t<<15|t>>>-15,461845907),t=In(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=In(t^t>>>16,2246822507),t=In(t^t>>>13,3266489909),t=oe(t^t>>>16)}function sn(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var ln=Array.prototype.slice;e(n,t),e(r,t),e(o,t),t.isIterable=i,t.isKeyed=a,t.isIndexed=s,t.isAssociative=l,t.isOrdered=u,t.Keyed=n,t.Indexed=r,t.Set=o;var un="@@__IMMUTABLE_ITERABLE__@@",cn="@@__IMMUTABLE_KEYED__@@",fn="@@__IMMUTABLE_INDEXED__@@",dn="@@__IMMUTABLE_ORDERED__@@",pn="delete",hn=5,gn=1<<hn,yn=gn-1,mn={},vn={value:!1},bn={value:!1},wn=0,_n=1,xn=2,Sn="function"==typeof Symbol&&Symbol.iterator,kn="@@iterator",En=Sn||kn;_.prototype.toString=function(){return"[Iterator]"},_.KEYS=wn,_.VALUES=_n,_.ENTRIES=xn,_.prototype.inspect=_.prototype.toSource=function(){return this.toString()},_.prototype[En]=function(){return this},e(T,t),T.of=function(){return T(arguments)},T.prototype.toSeq=function(){return this},T.prototype.toString=function(){return this.__toString("Seq {","}")},T.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},T.prototype.__iterate=function(e,t){return V(this,e,t,!0)},T.prototype.__iterator=function(e,t){return H(this,e,t,!0)},e(N,T),N.prototype.toKeyedSeq=function(){return this},e(I,T),I.of=function(){return I(arguments)},I.prototype.toIndexedSeq=function(){return this},I.prototype.toString=function(){return this.__toString("Seq [","]")},I.prototype.__iterate=function(e,t){return V(this,e,t,!1)},I.prototype.__iterator=function(e,t){return H(this,e,t,!1)},e(M,T),M.of=function(){return M(arguments)},M.prototype.toSetSeq=function(){return this},T.isSeq=j,T.Keyed=N,T.Set=M,T.Indexed=I;var Cn="@@__IMMUTABLE_SEQ__@@";T.prototype[Cn]=!0,e(P,I),P.prototype.get=function(e,t){return this.has(e)?this._array[g(this,e)]:t},P.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,o=0;o<=r;o++)if(e(n[t?r-o:o],o,this)===!1)return o+1;return o},P.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,o=0;return new _(function(){return o>r?S():x(e,o,n[t?r-o++:o++])})},e(B,N),B.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},B.prototype.has=function(e){return this._object.hasOwnProperty(e)},B.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,o=r.length-1,i=0;i<=o;i++){var a=r[t?o-i:i];if(e(n[a],a,this)===!1)return i+1}return i},B.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,o=r.length-1,i=0;return new _(function(){var a=r[t?o-i:i];return i++>o?S():x(e,a,n[a])})},B.prototype[dn]=!0,e(A,I),A.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=this._iterable,r=C(n),o=0;if(E(r))for(var i;!(i=r.next()).done&&e(i.value,o++,this)!==!1;);return o},A.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterable,r=C(n);if(!E(r))return new _(S);var o=0;return new _(function(){var t=r.next();return t.done?t:x(e,o++,t.value)})},e(R,I),R.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n=this._iterator,r=this._iteratorCache,o=0;o<r.length;)if(e(r[o],o++,this)===!1)return o;for(var i;!(i=n.next()).done;){var a=i.value;if(r[o]=a,e(a,o++,this)===!1)break}return o},R.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,o=0;return new _(function(){if(o>=r.length){var t=n.next();if(t.done)return t;r[o]=t.value}return x(e,o,r[o++])})};var On;e($,I),$.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},$.prototype.get=function(e,t){return this.has(e)?this._value:t},$.prototype.includes=function(e){return J(this._value,e)},$.prototype.slice=function(e,t){var n=this.size;return m(e,t,n)?this:new $(this._value,b(t,n)-v(e,n))},$.prototype.reverse=function(){return this},$.prototype.indexOf=function(e){return J(this._value,e)?0:-1},$.prototype.lastIndexOf=function(e){return J(this._value,e)?this.size:-1},$.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(e(this._value,n,this)===!1)return n+1;return n},$.prototype.__iterator=function(e,t){var n=this,r=0;return new _(function(){return r<n.size?x(e,r++,n._value):S()})},$.prototype.equals=function(e){return e instanceof $?J(this._value,e._value):G(e)};var Dn;e(Z,I),Z.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},Z.prototype.get=function(e,t){return this.has(e)?this._start+g(this,e)*this._step:t},Z.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},Z.prototype.slice=function(e,t){return m(e,t,this.size)?this:(e=v(e,this.size),t=b(t,this.size),t<=e?new Z(0,0):new Z(this.get(e,this._end),this.get(t,this._end),this._step))},Z.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step===0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},Z.prototype.lastIndexOf=function(e){return this.indexOf(e)},Z.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,i=0;i<=n;i++){if(e(o,i,this)===!1)return i+1;o+=t?-r:r}return i},Z.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,i=0;return new _(function(){var a=o;return o+=t?-r:r,i>n?S():x(e,i++,a)})},Z.prototype.equals=function(e){return e instanceof Z?this._start===e._start&&this._end===e._end&&this._step===e._step:G(this,e)};var Tn;e(ee,t),e(te,ee),e(ne,ee),e(re,ee),ee.Keyed=te,ee.Indexed=ne,ee.Set=re;var Nn,In="function"==typeof Math.imul&&Math.imul(4294967295,2)===-2?Math.imul:function(e,t){e|=0,t|=0;var n=65535&e,r=65535&t;return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0},Mn=Object.isExtensible,Pn=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),Bn="function"==typeof WeakMap;Bn&&(Nn=new WeakMap);var An=0,Rn="__immutablehash__";"function"==typeof Symbol&&(Rn=Symbol(Rn));var jn=16,Ln=255,Fn=0,Kn={};e(fe,te),fe.prototype.toString=function(){return this.__toString("Map {","}")},fe.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},fe.prototype.set=function(e,t){return Se(this,e,t)},fe.prototype.setIn=function(e,t){return this.updateIn(e,mn,function(){return t})},fe.prototype.remove=function(e){return Se(this,e,mn)},fe.prototype.deleteIn=function(e){return this.updateIn(e,function(){return mn})},fe.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},fe.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=Be(this,It(e),t,n);return r===mn?void 0:r},fe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):xe()},fe.prototype.merge=function(){return Ne(this,void 0,arguments)},fe.prototype.mergeWith=function(e){var t=ln.call(arguments,1);return Ne(this,e,t)},fe.prototype.mergeIn=function(e){var t=ln.call(arguments,1);return this.updateIn(e,xe(),function(e){return"function"==typeof e.merge?e.merge.apply(e,t):t[t.length-1]})},fe.prototype.mergeDeep=function(){return Ne(this,Ie,arguments)},fe.prototype.mergeDeepWith=function(e){var t=ln.call(arguments,1);return Ne(this,Me(e),t)},fe.prototype.mergeDeepIn=function(e){var t=ln.call(arguments,1);return this.updateIn(e,xe(),function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,t):t[t.length-1]})},fe.prototype.sort=function(e){return Qe(wt(this,e))},fe.prototype.sortBy=function(e,t){return Qe(wt(this,t,e))},fe.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},fe.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new d)},fe.prototype.asImmutable=function(){return this.__ensureOwner()},fe.prototype.wasAltered=function(){return this.__altered},fe.prototype.__iterator=function(e,t){return new ve(this,e,t)},fe.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate(function(t){return r++,e(t[1],t[0],n)},t),r},fe.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?_e(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},fe.isMap=de;var zn="@@__IMMUTABLE_MAP__@@",Un=fe.prototype;Un[zn]=!0,Un[pn]=Un.remove,Un.removeIn=Un.deleteIn,pe.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(J(n,o[i][0]))return o[i][1];return r},pe.prototype.update=function(e,t,n,r,o,i,a){for(var s=o===mn,l=this.entries,u=0,c=l.length;u<c&&!J(r,l[u][0]);u++);var d=u<c;if(d?l[u][1]===o:s)return this;if(f(a),(s||!d)&&f(i),!s||1!==l.length){if(!d&&!s&&l.length>=Hn)return Oe(e,l,r,o);var h=e&&e===this.ownerID,g=h?l:p(l);return d?s?u===c-1?g.pop():g[u]=g.pop():g[u]=[r,o]:g.push([r,o]),h?(this.entries=g,this):new pe(e,g)}},he.prototype.get=function(e,t,n,r){void 0===t&&(t=ie(n));var o=1<<((0===e?t:t>>>e)&yn),i=this.bitmap;return 0===(i&o)?r:this.nodes[Ae(i&o-1)].get(e+hn,t,n,r)},he.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=ie(r));var s=(0===t?n:n>>>t)&yn,l=1<<s,u=this.bitmap,c=0!==(u&l);if(!c&&o===mn)return this;var f=Ae(u&l-1),d=this.nodes,p=c?d[f]:void 0,h=ke(p,e,t+hn,n,r,o,i,a);if(h===p)return this;if(!c&&h&&d.length>=Wn)return Te(e,d,u,s,h);if(c&&!h&&2===d.length&&Ee(d[1^f]))return d[1^f];if(c&&h&&1===d.length&&Ee(h))return h;var g=e&&e===this.ownerID,y=c?h?u:u^l:u|l,m=c?h?Re(d,f,h,g):Le(d,f,g):je(d,f,h,g);return g?(this.bitmap=y,this.nodes=m,this):new he(e,y,m)},ge.prototype.get=function(e,t,n,r){void 0===t&&(t=ie(n));var o=(0===e?t:t>>>e)&yn,i=this.nodes[o];return i?i.get(e+hn,t,n,r):r},ge.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=ie(r));var s=(0===t?n:n>>>t)&yn,l=o===mn,u=this.nodes,c=u[s];if(l&&!c)return this;var f=ke(c,e,t+hn,n,r,o,i,a);if(f===c)return this;var d=this.count;if(c){if(!f&&(d--,d<qn))return De(e,u,d,s)}else d++;var p=e&&e===this.ownerID,h=Re(u,s,f,p);return p?(this.count=d,this.nodes=h,this):new ge(e,d,h)},ye.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(J(n,o[i][0]))return o[i][1];return r},ye.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=ie(r));var s=o===mn;if(n!==this.keyHash)return s?this:(f(a),f(i),Ce(this,e,t,n,[r,o]));for(var l=this.entries,u=0,c=l.length;u<c&&!J(r,l[u][0]);u++);var d=u<c;if(d?l[u][1]===o:s)return this;if(f(a),(s||!d)&&f(i),s&&2===c)return new me(e,this.keyHash,l[1^u]);var h=e&&e===this.ownerID,g=h?l:p(l);return d?s?u===c-1?g.pop():g[u]=g.pop():g[u]=[r,o]:g.push([r,o]),h?(this.entries=g,this):new ye(e,this.keyHash,g)},me.prototype.get=function(e,t,n,r){return J(n,this.entry[0])?this.entry[1]:r},me.prototype.update=function(e,t,n,r,o,i,a){var s=o===mn,l=J(r,this.entry[0]);return(l?o===this.entry[1]:s)?this:(f(a),s?void f(i):l?e&&e===this.ownerID?(this.entry[1]=o,this):new me(e,this.keyHash,[r,o]):(f(i),Ce(this,e,t,ie(r),[r,o])))},pe.prototype.iterate=ye.prototype.iterate=function(e,t){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(e(n[t?o-r:r])===!1)return!1},he.prototype.iterate=ge.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[t?o-r:r];if(i&&i.iterate(e,t)===!1)return!1}},me.prototype.iterate=function(e,t){return e(this.entry)},e(ve,_),ve.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,o=t.index++;if(r.entry){if(0===o)return be(e,r.entry)}else if(r.entries){if(n=r.entries.length-1,o<=n)return be(e,r.entries[this._reverse?n-o:o])}else if(n=r.nodes.length-1,o<=n){var i=r.nodes[this._reverse?n-o:o];if(i){if(i.entry)return be(e,i.entry);t=this._stack=we(i,t)}continue}t=this._stack=this._stack.__prev}return S()};var Vn,Hn=gn/4,Wn=gn/2,qn=gn/4;e(Fe,ne),Fe.of=function(){return this(arguments)},Fe.prototype.toString=function(){return this.__toString("List [","]")},Fe.prototype.get=function(e,t){if(e=g(this,e),e>=0&&e<this.size){e+=this._origin;var n=Xe(this,e);return n&&n.array[e&yn]}return t},Fe.prototype.set=function(e,t){return We(this,e,t)},Fe.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},Fe.prototype.insert=function(e,t){return this.splice(e,0,t)},Fe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=hn,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):He()},Fe.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(n){Je(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])})},Fe.prototype.pop=function(){return Je(this,0,-1)},Fe.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){Je(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])})},Fe.prototype.shift=function(){return Je(this,1)},Fe.prototype.merge=function(){return Ge(this,void 0,arguments)},Fe.prototype.mergeWith=function(e){var t=ln.call(arguments,1);return Ge(this,e,t)},Fe.prototype.mergeDeep=function(){return Ge(this,Ie,arguments)},Fe.prototype.mergeDeepWith=function(e){var t=ln.call(arguments,1);return Ge(this,Me(e),t)},Fe.prototype.setSize=function(e){return Je(this,0,e)},Fe.prototype.slice=function(e,t){var n=this.size;return m(e,t,n)?this:Je(this,v(e,n),b(t,n))},Fe.prototype.__iterator=function(e,t){var n=0,r=Ue(this,t);return new _(function(){var t=r();return t===Gn?S():x(e,n++,t)})},Fe.prototype.__iterate=function(e,t){for(var n,r=0,o=Ue(this,t);(n=o())!==Gn&&e(n,r++,this)!==!1;);return r},Fe.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Ve(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},Fe.isList=Ke;var Yn="@@__IMMUTABLE_LIST__@@",Xn=Fe.prototype;Xn[Yn]=!0,Xn[pn]=Xn.remove,Xn.setIn=Un.setIn,Xn.deleteIn=Xn.removeIn=Un.removeIn,Xn.update=Un.update,Xn.updateIn=Un.updateIn,Xn.mergeIn=Un.mergeIn,Xn.mergeDeepIn=Un.mergeDeepIn,Xn.withMutations=Un.withMutations,Xn.asMutable=Un.asMutable,Xn.asImmutable=Un.asImmutable,Xn.wasAltered=Un.wasAltered,ze.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&yn;if(r>=this.array.length)return new ze([],e);var o,i=0===r;if(t>0){var a=this.array[r];if(o=a&&a.removeBefore(e,t-hn,n),o===a&&i)return this}if(i&&!o)return this;var s=Ye(this,e);if(!i)for(var l=0;l<r;l++)s.array[l]=void 0;return o&&(s.array[r]=o),s},ze.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r=n-1>>>t&yn;if(r>=this.array.length)return this;var o;if(t>0){var i=this.array[r];if(o=i&&i.removeAfter(e,t-hn,n),o===i&&r===this.array.length-1)return this}var a=Ye(this,e);return a.array.splice(r+1),o&&(a.array[r]=o),a};var Jn,Gn={};e(Qe,fe),Qe.of=function(){return this(arguments)},Qe.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Qe.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},Qe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):tt()},Qe.prototype.set=function(e,t){return nt(this,e,t)},Qe.prototype.remove=function(e){return nt(this,e,mn)},Qe.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Qe.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],n)},t)},Qe.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Qe.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?et(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},Qe.isOrderedMap=Ze,Qe.prototype[dn]=!0,Qe.prototype[pn]=Qe.prototype.remove;var $n;e(rt,N),rt.prototype.get=function(e,t){return this._iter.get(e,t)},rt.prototype.has=function(e){return this._iter.has(e)},rt.prototype.valueSeq=function(){return this._iter.valueSeq()},rt.prototype.reverse=function(){var e=this,t=ut(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},rt.prototype.map=function(e,t){var n=this,r=lt(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},rt.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?Ct(this):0,function(o){return e(o,t?--n:n++,r)}),t)},rt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(_n,t),r=t?Ct(this):0;return new _(function(){var o=n.next();return o.done?o:x(e,t?--r:r++,o.value,o)})},rt.prototype[dn]=!0,e(ot,I),ot.prototype.includes=function(e){return this._iter.includes(e)},ot.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate(function(t){return e(t,r++,n)},t)},ot.prototype.__iterator=function(e,t){var n=this._iter.__iterator(_n,t),r=0;return new _(function(){var t=n.next();return t.done?t:x(e,r++,t.value,t)})},e(it,M),it.prototype.has=function(e){return this._iter.includes(e)},it.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){return e(t,t,n)},t)},it.prototype.__iterator=function(e,t){var n=this._iter.__iterator(_n,t);return new _(function(){var t=n.next();return t.done?t:x(e,t.value,t.value,t)})},e(at,N),at.prototype.entrySeq=function(){return this._iter.toSeq()},at.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){if(t){Et(t);var r=i(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}},t)},at.prototype.__iterator=function(e,t){var n=this._iter.__iterator(_n,t);return new _(function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){Et(r);var o=i(r);return x(e,o?r.get(0):r[0],o?r.get(1):r[1],t)}}})},ot.prototype.cacheResult=rt.prototype.cacheResult=it.prototype.cacheResult=at.prototype.cacheResult=Tt,e(Mt,te),Mt.prototype.toString=function(){return this.__toString(Bt(this)+" {","}")},Mt.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},Mt.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},Mt.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=Pt(this,xe()))},Mt.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+Bt(this));var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:Pt(this,n)},Mt.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:Pt(this,t)},Mt.prototype.wasAltered=function(){return this._map.wasAltered()},Mt.prototype.__iterator=function(e,t){var r=this;return n(this._defaultValues).map(function(e,t){return r.get(t)}).__iterator(e,t)},Mt.prototype.__iterate=function(e,t){var r=this;return n(this._defaultValues).map(function(e,t){return r.get(t)}).__iterate(e,t)},Mt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?Pt(this,t,e):(this.__ownerID=e,this._map=t,this)};var Qn=Mt.prototype;Qn[pn]=Qn.remove,Qn.deleteIn=Qn.removeIn=Un.removeIn,Qn.merge=Un.merge,Qn.mergeWith=Un.mergeWith,Qn.mergeIn=Un.mergeIn,Qn.mergeDeep=Un.mergeDeep,Qn.mergeDeepWith=Un.mergeDeepWith,Qn.mergeDeepIn=Un.mergeDeepIn,Qn.setIn=Un.setIn,Qn.update=Un.update,Qn.updateIn=Un.updateIn,Qn.withMutations=Un.withMutations,Qn.asMutable=Un.asMutable,Qn.asImmutable=Un.asImmutable,e(jt,re),jt.of=function(){return this(arguments)},jt.fromKeys=function(e){return this(n(e).keySeq())},jt.prototype.toString=function(){return this.__toString("Set {","}")},jt.prototype.has=function(e){return this._map.has(e)},jt.prototype.add=function(e){return Ft(this,this._map.set(e,!0))},jt.prototype.remove=function(e){return Ft(this,this._map.remove(e))},jt.prototype.clear=function(){return Ft(this,this._map.clear())},jt.prototype.union=function(){var e=ln.call(arguments,0);return e=e.filter(function(e){return 0!==e.size}),0===e.length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations(function(t){for(var n=0;n<e.length;n++)o(e[n]).forEach(function(e){return t.add(e)})}):this.constructor(e[0])},jt.prototype.intersect=function(){var e=ln.call(arguments,0);if(0===e.length)return this;e=e.map(function(e){return o(e)});var t=this;return this.withMutations(function(n){t.forEach(function(t){e.every(function(e){return e.includes(t)})||n.remove(t)})})},jt.prototype.subtract=function(){var e=ln.call(arguments,0);if(0===e.length)return this;e=e.map(function(e){return o(e)});var t=this;return this.withMutations(function(n){t.forEach(function(t){e.some(function(e){return e.includes(t)})&&n.remove(t)})})},jt.prototype.merge=function(){return this.union.apply(this,arguments)},jt.prototype.mergeWith=function(e){var t=ln.call(arguments,1);return this.union.apply(this,t)},jt.prototype.sort=function(e){return Ut(wt(this,e))},jt.prototype.sortBy=function(e,t){return Ut(wt(this,t,e))},jt.prototype.wasAltered=function(){return this._map.wasAltered()},jt.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate(function(t,r){return e(r,r,n)},t)},jt.prototype.__iterator=function(e,t){return this._map.map(function(e,t){return t}).__iterator(e,t)},jt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},jt.isSet=Lt;var Zn="@@__IMMUTABLE_SET__@@",er=jt.prototype;er[Zn]=!0,er[pn]=er.remove,er.mergeDeep=er.merge,er.mergeDeepWith=er.mergeWith,er.withMutations=Un.withMutations,er.asMutable=Un.asMutable,er.asImmutable=Un.asImmutable,er.__empty=zt,er.__make=Kt;var tr;e(Ut,jt),Ut.of=function(){return this(arguments)},Ut.fromKeys=function(e){return this(n(e).keySeq())},Ut.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Ut.isOrderedSet=Vt;var nr=Ut.prototype;nr[dn]=!0,nr.__empty=Wt,nr.__make=Ht;var rr;e(qt,ne),qt.of=function(){return this(arguments)},qt.prototype.toString=function(){return this.__toString("Stack [","]")},qt.prototype.get=function(e,t){var n=this._head;for(e=g(this,e);n&&e--;)n=n.next;return n?n.value:t},qt.prototype.peek=function(){return this._head&&this._head.value},qt.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Xt(e,t)},qt.prototype.pushAll=function(e){if(e=r(e),0===e.size)return this;ce(e.size);var t=this.size,n=this._head;return e.reverse().forEach(function(e){t++,n={value:e,next:n}}),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Xt(t,n)},qt.prototype.pop=function(){return this.slice(1)},qt.prototype.unshift=function(){return this.push.apply(this,arguments)},qt.prototype.unshiftAll=function(e){return this.pushAll(e)},qt.prototype.shift=function(){return this.pop.apply(this,arguments)},qt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Jt()},qt.prototype.slice=function(e,t){if(m(e,t,this.size))return this;var n=v(e,this.size),r=b(t,this.size);if(r!==this.size)return ne.prototype.slice.call(this,e,t);for(var o=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=o,this._head=i,this.__hash=void 0,this.__altered=!0,this):Xt(o,i)},qt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Xt(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},qt.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&e(r.value,n++,this)!==!1;)r=r.next;return n},qt.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new _(function(){if(r){var t=r.value;return r=r.next,x(e,n++,t)}return S()})},qt.isStack=Yt;var or="@@__IMMUTABLE_STACK__@@",ir=qt.prototype;ir[or]=!0,ir.withMutations=Un.withMutations,ir.asMutable=Un.asMutable,ir.asImmutable=Un.asImmutable,ir.wasAltered=Un.wasAltered;var ar;t.Iterator=_,Gt(t,{toArray:function(){ce(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate(function(t,n){e[n]=t}),e},toIndexedSeq:function(){return new ot(this)},toJS:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJS?e.toJS():e}).__toJS()},toJSON:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e}).__toJS()},toKeyedSeq:function(){return new rt(this,!0)},toMap:function(){return fe(this.toKeyedSeq())},toObject:function(){ce(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e},toOrderedMap:function(){return Qe(this.toKeyedSeq())},toOrderedSet:function(){return Ut(a(this)?this.valueSeq():this)},toSet:function(){return jt(a(this)?this.valueSeq():this)},toSetSeq:function(){return new it(this)},toSeq:function(){return s(this)?this.toIndexedSeq():a(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return qt(a(this)?this.valueSeq():this)},toList:function(){return Fe(a(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var e=ln.call(arguments,0);return kt(this,yt(this,e))},includes:function(e){return this.some(function(t){return J(t,e)})},entries:function(){return this.__iterator(xn)},every:function(e,t){ce(this.size);var n=!0;return this.__iterate(function(r,o,i){if(!e.call(t,r,o,i))return n=!1,!1}),n},filter:function(e,t){return kt(this,ct(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},findEntry:function(e,t){var n;return this.__iterate(function(r,o,i){if(e.call(t,r,o,i))return n=[o,r],!1}),n},findLastEntry:function(e,t){return this.toSeq().reverse().findEntry(e,t)},forEach:function(e,t){return ce(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){ce(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate(function(r){n?n=!1:t+=e,t+=null!==r&&void 0!==r?r.toString():""}),t},keys:function(){return this.__iterator(wn)},map:function(e,t){return kt(this,lt(this,e,t))},reduce:function(e,t,n){ce(this.size);var r,o;return arguments.length<2?o=!0:r=t,this.__iterate(function(t,i,a){o?(o=!1,r=t):r=e.call(n,r,t,i,a)}),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return kt(this,ut(this,!0))},slice:function(e,t){return kt(this,pt(this,e,t,!0))},some:function(e,t){return!this.every(Zt(e),t)},sort:function(e){return kt(this,wt(this,e))},values:function(){return this.__iterator(_n)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){
return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return h(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return ft(this,e,t)},equals:function(e){return G(this,e)},entrySeq:function(){var e=this;if(e._cache)return new P(e._cache);var t=e.toSeq().map(Qt).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(Zt(e),t)},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},first:function(){return this.find(y)},flatMap:function(e,t){return kt(this,vt(this,e,t))},flatten:function(e){return kt(this,mt(this,e,!0))},fromEntrySeq:function(){return new at(this)},get:function(e,t){return this.find(function(t,n){return J(n,e)},void 0,t)},getIn:function(e,t){for(var n,r=this,o=It(e);!(n=o.next()).done;){var i=n.value;if(r=r&&r.get?r.get(i,mn):mn,r===mn)return t}return r},groupBy:function(e,t){return dt(this,e,t)},has:function(e){return this.get(e,mn)!==mn},hasIn:function(e){return this.getIn(e,mn)!==mn},isSubset:function(e){return e="function"==typeof e.includes?e:t(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return e="function"==typeof e.isSubset?e:t(e),e.isSubset(this)},keySeq:function(){return this.toSeq().map($t).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(e){return _t(this,e)},maxBy:function(e,t){return _t(this,t,e)},min:function(e){return _t(this,e?en(e):rn)},minBy:function(e,t){return _t(this,t?en(t):rn,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return kt(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return kt(this,gt(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(Zt(e),t)},sortBy:function(e,t){return kt(this,wt(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return kt(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return kt(this,ht(this,e,t))},takeUntil:function(e,t){return this.takeWhile(Zt(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=on(this))}});var sr=t.prototype;sr[un]=!0,sr[En]=sr.values,sr.__toJS=sr.toArray,sr.__toStringMapper=tn,sr.inspect=sr.toSource=function(){return this.toString()},sr.chain=sr.flatMap,sr.contains=sr.includes,function(){try{Object.defineProperty(sr,"length",{get:function(){if(!t.noLengthWarning){var e;try{throw new Error}catch(t){e=t.stack}if(e.indexOf("_wrapObject")===-1)return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+e),this.size}}})}catch(e){}}(),Gt(n,{flip:function(){return kt(this,st(this))},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLastKey:function(e,t){return this.toSeq().reverse().findKey(e,t)},keyOf:function(e){return this.findKey(function(t){return J(t,e)})},lastKeyOf:function(e){return this.findLastKey(function(t){return J(t,e)})},mapEntries:function(e,t){var n=this,r=0;return kt(this,this.toSeq().map(function(o,i){return e.call(t,[i,o],r++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return kt(this,this.toSeq().flip().map(function(r,o){return e.call(t,r,o,n)}).flip())}});var lr=n.prototype;lr[cn]=!0,lr[En]=sr.entries,lr.__toJS=sr.toObject,lr.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+tn(e)},Gt(r,{toKeyedSeq:function(){return new rt(this,!1)},filter:function(e,t){return kt(this,ct(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.toKeyedSeq().keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.toKeyedSeq().reverse().keyOf(e);return void 0===t?-1:t},reverse:function(){return kt(this,ut(this,!1))},slice:function(e,t){return kt(this,pt(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=v(e,e<0?this.count():this.size);var r=this.slice(0,e);return kt(this,1===n?r:r.concat(p(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.toKeyedSeq().findLastKey(e,t);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(e){return kt(this,mt(this,e,!1))},get:function(e,t){return e=g(this,e),e<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find(function(t,n){return n===e},void 0,t)},has:function(e){return e=g(this,e),e>=0&&(void 0!==this.size?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return kt(this,bt(this,e))},interleave:function(){var e=[this].concat(p(arguments)),t=St(this.toSeq(),I.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),kt(this,n)},last:function(){return this.get(-1)},skipWhile:function(e,t){return kt(this,gt(this,e,t,!1))},zip:function(){var e=[this].concat(p(arguments));return kt(this,St(this,nn,e))},zipWith:function(e){var t=p(arguments);return t[0]=this,kt(this,St(this,e,t))}}),r.prototype[fn]=!0,r.prototype[dn]=!0,Gt(o,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=sr.includes,Gt(N,n.prototype),Gt(I,r.prototype),Gt(M,o.prototype),Gt(te,n.prototype),Gt(ne,r.prototype),Gt(re,o.prototype);var ur={Iterable:t,Seq:T,Collection:ee,Map:fe,OrderedMap:Qe,List:Fe,Stack:qt,Set:jt,OrderedSet:Ut,Record:Mt,Range:Z,Repeat:$,is:J,fromJS:W};return ur})},function(e,t,n){"use strict";function r(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(o(t),!e){var a;if(void 0===t)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;a=new Error(t.replace(/%s/g,function(){return String(r[s++])})),a.name="Invariant Violation"}throw a.framesToPop=1,a}}var o=function(e){};e.exports=r},function(e,t,n){e.exports=n(227)},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t,n){return E.set(e,{selection:t,forceSelection:n,nativelyRenderedContent:null,inlineStyleOverride:null})}function a(e,t){return e.getBlockMap().map(function(n){return p.generate(e,n,t)}).toOrderedMap()}function s(e,t,n,r){var o=e.getCurrentContent().set("entityMap",n),i=o.getBlockMap(),a=e.getImmutable().get("treeMap");return a.merge(t.toSeq().filter(function(e,t){return e!==i.get(t)}).map(function(e){return p.generate(o,e,r)}))}function l(e,t,n,r,o){return n.merge(t.toSeq().filter(function(t){return r.getDecorations(t,e)!==o.getDecorations(t,e)}).map(function(t){return p.generate(e,t,r)}))}function u(e,t){var n=e.getLastChangeType();return t!==n||"insert-characters"!==t&&"backspace-character"!==t&&"delete-character"!==t}function c(e,t){var n=t.getStartKey(),r=t.getStartOffset(),o=e.getBlockForKey(n);return r>0?o.getInlineStyleAt(r-1):o.getLength()?o.getInlineStyleAt(0):d(e,n)}function f(e,t){var n=t.getStartKey(),r=t.getStartOffset(),o=e.getBlockForKey(n);return r<o.getLength()?o.getInlineStyleAt(r):r>0?o.getInlineStyleAt(r-1):d(e,n)}function d(e,t){var n=e.getBlockMap().reverse().skipUntil(function(e,n){return n===t}).skip(1).skipUntil(function(e,t){return e.getLength()}).first();return n?n.getInlineStyleAt(n.getLength()-1):v()}var p=n(122),h=n(41),g=n(144),y=n(26),m=n(3),v=m.OrderedSet,b=m.Record,w=m.Stack,_=m.OrderedMap,x=m.List,S={allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:w(),selection:null,treeMap:null,undoStack:w()},k=b(S),E=function(){function e(e){o(this,"_immutable",void 0),this._immutable=e}e.createEmpty=function(e){return this.createWithText("",e)},e.createWithText=function(t,n){return e.createWithContent(h.createFromText(t),n)},e.createWithContent=function(t,n){if(0===t.getBlockMap().count())return e.createEmpty(n);var r=t.getBlockMap().first().getKey();return e.create({currentContent:t,undoStack:w(),redoStack:w(),decorator:n||null,selection:y.createEmpty(r)})},e.create=function(t){var n=t.currentContent,o=t.decorator,i=r({},t,{treeMap:a(n,o),directionMap:g.getDirectionMap(n)});return new e(new k(i))},e.fromJS=function(t){return new e(new k(r({},t,{directionMap:null!=t.directionMap?_(t.directionMap):t.directionMap,inlineStyleOverride:null!=t.inlineStyleOverride?v(t.inlineStyleOverride):t.inlineStyleOverride,nativelyRenderedContent:null!=t.nativelyRenderedContent?h.fromJS(t.nativelyRenderedContent):t.nativelyRenderedContent,redoStack:null!=t.redoStack?w(t.redoStack.map(function(e){return h.fromJS(e)})):t.redoStack,selection:null!=t.selection?new y(t.selection):t.selection,treeMap:null!=t.treeMap?_(t.treeMap).map(function(e){return x(e).map(function(e){return p.fromJS(e)})}):t.treeMap,undoStack:null!=t.undoStack?w(t.undoStack.map(function(e){return h.fromJS(e)})):t.undoStack,currentContent:h.fromJS(t.currentContent)})))},e.set=function(t,n){var r=t.getImmutable().withMutations(function(e){var r=e.get("decorator"),o=r;null===n.decorator?o=null:n.decorator&&(o=n.decorator);var i=n.currentContent||t.getCurrentContent();if(o!==r){var u,c=e.get("treeMap");return u=o&&r?l(i,i.getBlockMap(),c,o,r):a(i,o),void e.merge({decorator:o,treeMap:u,nativelyRenderedContent:null})}var f=t.getCurrentContent();i!==f&&e.set("treeMap",s(t,i.getBlockMap(),i.getEntityMap(),o)),e.merge(n)});return new e(r)};var t=e.prototype;return t.toJS=function(){return this.getImmutable().toJS()},t.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},t.getCurrentContent=function(){return this.getImmutable().get("currentContent")},t.getUndoStack=function(){return this.getImmutable().get("undoStack")},t.getRedoStack=function(){return this.getImmutable().get("redoStack")},t.getSelection=function(){return this.getImmutable().get("selection")},t.getDecorator=function(){return this.getImmutable().get("decorator")},t.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},t.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},t.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},t.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},t.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},e.setInlineStyleOverride=function(t,n){return e.set(t,{inlineStyleOverride:n})},t.getCurrentInlineStyle=function(){var e=this.getInlineStyleOverride();if(null!=e)return e;var t=this.getCurrentContent(),n=this.getSelection();return n.isCollapsed()?c(t,n):f(t,n)},t.getBlockTree=function(e){return this.getImmutable().getIn(["treeMap",e])},t.isSelectionAtStartOfContent=function(){var e=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(e,0,0)},t.isSelectionAtEndOfContent=function(){var e=this.getCurrentContent(),t=e.getBlockMap(),n=t.last(),r=n.getLength();return this.getSelection().hasEdgeWithin(n.getKey(),r,r)},t.getDirectionMap=function(){return this.getImmutable().get("directionMap")},e.acceptSelection=function(e,t){return i(e,t,!1)},e.forceSelection=function(e,t){return t.getHasFocus()||(t=t.set("hasFocus",!0)),i(e,t,!0)},e.moveSelectionToEnd=function(t){var n=t.getCurrentContent(),r=n.getLastBlock(),o=r.getKey(),i=r.getLength();return e.acceptSelection(t,new y({anchorKey:o,anchorOffset:i,focusKey:o,focusOffset:i,isBackward:!1}))},e.moveFocusToEnd=function(t){var n=e.moveSelectionToEnd(t);return e.forceSelection(n,n.getSelection())},e.push=function(t,n,r){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t.getCurrentContent()===n)return t;var i=g.getDirectionMap(n,t.getDirectionMap());if(!t.getAllowUndo())return e.set(t,{currentContent:n,directionMap:i,lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:o,inlineStyleOverride:null});var a=t.getSelection(),s=t.getCurrentContent(),l=t.getUndoStack(),c=n;a!==s.getSelectionAfter()||u(t,r)?(l=l.push(s),c=c.set("selectionBefore",a)):"insert-characters"!==r&&"backspace-character"!==r&&"delete-character"!==r||(c=c.set("selectionBefore",s.getSelectionBefore()));var f=t.getInlineStyleOverride(),d=["adjust-depth","change-block-type","split-block"];d.indexOf(r)===-1&&(f=null);var p={currentContent:c,directionMap:i,undoStack:l,redoStack:w(),lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:o,inlineStyleOverride:f};return e.set(t,p)},e.undo=function(t){if(!t.getAllowUndo())return t;var n=t.getUndoStack(),r=n.peek();if(!r)return t;var o=t.getCurrentContent(),i=g.getDirectionMap(r,t.getDirectionMap());return e.set(t,{currentContent:r,directionMap:i,undoStack:n.shift(),redoStack:t.getRedoStack().push(o),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:o.getSelectionBefore()})},e.redo=function(t){if(!t.getAllowUndo())return t;var n=t.getRedoStack(),r=n.peek();if(!r)return t;var o=t.getCurrentContent(),i=g.getDirectionMap(r,t.getDirectionMap());return e.set(t,{currentContent:r,directionMap:i,undoStack:t.getUndoStack().push(o),redoStack:n.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:r.getSelectionAfter()})},t.getImmutable=function(){return this._immutable},e}();e.exports=E},function(e,t,n){"use strict";var r=n(10),o=n(124),i=n(149),a=n(169),s=n(28),l=n(3),u=n(173),c=n(174),f=n(4),d=n(82),p=n(85),h=n(190),g=n(192),y=l.OrderedSet,m={replaceText:function(e,t,n,o,i){var a=p(e,t),s=h(a,t),l=r.create({style:o||y(),entity:i||null});return c(s,s.getSelectionAfter(),n,l)},insertText:function(e,t,n,r,o){return t.isCollapsed()?void 0:f(!1),m.replaceText(e,t,n,r,o)},moveText:function(e,t,n){var r=s(e,t),o=m.removeRange(e,t,"backward");return m.replaceWithFragment(o,n,r)},replaceWithFragment:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA",o=p(e,t),i=h(o,t);return u(i,i.getSelectionAfter(),n,r)},removeRange:function(e,t,n){var r,o,i,s;t.getIsBackward()&&(t=t.merge({anchorKey:t.getFocusKey(),anchorOffset:t.getFocusOffset(),focusKey:t.getAnchorKey(),focusOffset:t.getAnchorOffset(),isBackward:!1})),r=t.getAnchorKey(),o=t.getFocusKey(),i=e.getBlockForKey(r),s=e.getBlockForKey(o);var l=t.getStartOffset(),u=t.getEndOffset(),c=i.getEntityAt(l),f=s.getEntityAt(u-1);if(r===o&&c&&c===f){var d=a(e.getEntityMap(),i,s,t,n);return h(e,d)}var g=p(e,t);return h(g,t)},splitBlock:function(e,t){var n=p(e,t),r=h(n,t);return g(r,r.getSelectionAfter())},applyInlineStyle:function(e,t,n){return o.add(e,t,n)},removeInlineStyle:function(e,t,n){return o.remove(e,t,n)},setBlockType:function(e,t,n){return d(e,t,function(e){return e.merge({type:n,depth:0})})},setBlockData:function(e,t,n){return d(e,t,function(e){return e.merge({data:n})})},mergeBlockData:function(e,t,n){return d(e,t,function(e){return e.merge({data:e.getData().merge(n)})})},applyEntity:function(e,t,n){var r=p(e,t);return i(r,t,n)}};e.exports=m},function(e,t,n){"use strict";function r(e,t,n,r){if(e===n)return!0;if(!n.startsWith(e))return!1;var o=n.slice(e.length);return!!t&&(o=r?r(o):o,a.contains(o,t))}function o(e){return"Windows"===i.platformName?e.replace(/^\s*NT/,""):e}var i=n(209),a=n(210),s=n(221),l=n(222),u={isBrowser:function(e){return r(i.browserName,i.browserFullVersion,e)},isBrowserArchitecture:function(e){return r(i.browserArchitecture,null,e)},isDevice:function(e){return r(i.deviceName,null,e)},isEngine:function(e){return r(i.engineName,i.engineVersion,e)},isPlatform:function(e){return r(i.platformName,i.platformFullVersion,e,o)},isPlatformArchitecture:function(e){return r(i.platformArchitecture,null,e)}};e.exports=s(u,l)},function(e,t){"use strict";var n=function(e){if(null!=e)return e;throw new Error("Got unexpected null or undefined")};e.exports=n},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var o=n(3),i=o.Map,a=o.OrderedSet,s=o.Record,l=a(),u={style:l,entity:null},c=s(u),f=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.getStyle=function(){return this.get("style")},n.getEntity=function(){return this.get("entity")},n.hasStyle=function(e){return this.getStyle().includes(e)},t.applyStyle=function(e,n){var r=e.set("style",e.getStyle().add(n));return t.create(r)},t.removeStyle=function(e,n){var r=e.set("style",e.getStyle().remove(n));return t.create(r)},t.applyEntity=function(e,n){var r=e.getEntity()===n?e:e.set("entity",n);return t.create(r)},t.create=function(e){if(!e)return d;var n={style:l,entity:null},r=i(n).merge(e),o=p.get(r);if(o)return o;var a=new t(r);return p=p.set(r,a),a},t.fromJS=function(e){var n=e.style,r=e.entity;return new t({style:Array.isArray(n)?a(n):n,entity:Array.isArray(r)?a(r):r})},t}(c),d=new f,p=i([[i(u),d]]);f.EMPTY=d,e.exports=f},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var o=n(10),i=n(22),a=n(3),s=a.List,l=a.Map,u=a.OrderedSet,c=a.Record,f=a.Repeat,d=u(),p={parent:null,characterList:s(),data:l(),depth:0,key:"",text:"",type:"unstyled",children:s(),prevSibling:null,nextSibling:null},h=function(e,t){return e.getStyle()===t.getStyle()},g=function(e,t){return e.getEntity()===t.getEntity()},y=function(e){if(!e)return e;var t=e.characterList,n=e.text;return n&&!t&&(e.characterList=s(f(o.EMPTY,n.length))),e},m=function(e){function t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return e.call(this,y(t))||this}r(t,e);var n=t.prototype;return n.getKey=function(){return this.get("key")},n.getType=function(){return this.get("type")},n.getText=function(){return this.get("text")},n.getCharacterList=function(){return this.get("characterList")},n.getLength=function(){return this.getText().length},n.getDepth=function(){return this.get("depth")},n.getData=function(){return this.get("data")},n.getInlineStyleAt=function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():d},n.getEntityAt=function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},n.getChildKeys=function(){return this.get("children")},n.getParentKey=function(){return this.get("parent")},n.getPrevSiblingKey=function(){return this.get("prevSibling")},n.getNextSiblingKey=function(){return this.get("nextSibling")},n.findStyleRanges=function(e,t){i(this.getCharacterList(),h,e,t)},n.findEntityRanges=function(e,t){i(this.getCharacterList(),g,e,t)},t}(c(p));e.exports=m},function(e,t){"use strict";function n(){for(var e;void 0===e||r.hasOwnProperty(e)||!isNaN(+e);)e=Math.floor(Math.random()*o).toString(32);return r[e]=!0,e}var r={},o=Math.pow(2,24);e.exports=n},function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}var o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=r()?Object.assign:function(e,t){for(var r,s,l=n(e),u=1;u<arguments.length;u++){r=Object(arguments[u]);for(var c in r)i.call(r,c)&&(l[c]=r[c]);if(o){s=o(r);for(var f=0;f<s.length;f++)a.call(r,s[f])&&(l[s[f]]=r[s[f]])}}return l}},function(e,t){"use strict";var n="-",r={encode:function(e,t,r){return e+n+t+n+r},decode:function(e){var t=e.split(n).reverse(),r=t[0],o=t[1],i=t.slice(2);return{blockKey:i.reverse().join(n),decoratorKey:parseInt(o,10),leafKey:parseInt(r,10)}}};e.exports=r},function(e,t){"use strict";e.exports=function(e){return!("undefined"==typeof window||!window.__DRAFT_GKX)&&!!window.__DRAFT_GKX[e]}},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function o(e,t){return e.getStyle()===t.getStyle()}function i(e,t){return e.getEntity()===t.getEntity()}var a=n(10),s=n(22),l=n(3),u=l.List,c=l.Map,f=l.OrderedSet,d=l.Record,p=l.Repeat,h=f(),g={key:"",type:"unstyled",text:"",characterList:u(),depth:0,data:c()},y=d(g),m=function(e){if(!e)return e;var t=e.characterList,n=e.text;return n&&!t&&(e.characterList=u(p(a.EMPTY,n.length))),e},v=function(e){function t(t){return e.call(this,m(t))||this}r(t,e);var n=t.prototype;return n.getKey=function(){return this.get("key")},n.getType=function(){return this.get("type")},n.getText=function(){return this.get("text")},n.getCharacterList=function(){return this.get("characterList")},n.getLength=function(){return this.getText().length},n.getDepth=function(){return this.get("depth")},n.getData=function(){return this.get("data")},n.getInlineStyleAt=function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():h},n.getEntityAt=function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},n.findStyleRanges=function(e,t){s(this.getCharacterList(),o,e,t)},n.findEntityRanges=function(e,t){s(this.getCharacterList(),i,e,t)},t}(y);e.exports=v},function(e,t){"use strict";function n(e){return!(!e||!e.ownerDocument)&&e.nodeType===Node.ELEMENT_NODE}e.exports=n},function(e,t,n){"use strict";function r(e){return d<=e&&e<=g}function o(e,t){if(0<=t&&t<e.length?void 0:f(!1),t+1===e.length)return!1;var n=e.charCodeAt(t),r=e.charCodeAt(t+1);return d<=n&&n<=p&&h<=r&&r<=g}function i(e){return y.test(e)}function a(e,t){return 1+r(e.charCodeAt(t))}function s(e){if(!i(e))return e.length;for(var t=0,n=0;n<e.length;n+=a(e,n))t++;return t}function l(e,t,n){if(t=t||0,n=void 0===n?1/0:n||0,!i(e))return e.substr(t,n);var r=e.length;if(r<=0||t>r||n<=0)return"";var o=0;if(t>0){for(;t>0&&o<r;t--)o+=a(e,o);if(o>=r)return""}else if(t<0){for(o=r;t<0&&0<o;t++)o-=a(e,o-1);o<0&&(o=0)}var s=r;if(n<r)for(s=o;n>0&&s<r;n--)s+=a(e,s);return e.substring(o,s)}function u(e,t,n){t=t||0,n=void 0===n?1/0:n||0,t<0&&(t=0),n<0&&(n=0);var r=Math.abs(n-t);return t=t<n?t:n,l(e,t,r)}function c(e){for(var t=[],n=0;n<e.length;n+=a(e,n))t.push(e.codePointAt(n));return t}var f=n(4),d=55296,p=56319,h=56320,g=57343,y=/[\uD800-\uDFFF]/,m={getCodePoints:c,getUTF16Length:a,hasSurrogateUnit:i,isCodeUnitInSurrogateRange:r,isSurrogatePair:o,strlen:s,substring:u,substr:l};e.exports=m},function(e,t){"use strict";function n(e){return"object"==typeof e?Object.keys(e).filter(function(t){return e[t]}).map(r).join(" "):Array.prototype.map.call(arguments,r).join(" ")}function r(e){return e.replace(/\//g,"-")}e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.boxing=t.makeControl=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=n(1),u=r(l),c=n(5),f=r(c),d=n(2),p=r(d),h=n(40),g=r(h),y=n(39),m=r(y),v=n(112),b=r(v),w=n(113),_=r(w),x=n(105),S=r(x),k=n(108),E=r(k),C=n(118),O=r(C),D=n(115),T=r(D),N=n(104),I=n(114),M=r(I),P=n(119),B=r(P),A=n(111),R=r(A),j=n(106),L=r(j),F=n(102),K=r(F),z=n(117),U=n(53),V=r(U),H=n(101),W=r(H),q=n(116),Y=r(q),X=n(99),J=r(X),G=["number","lbsd","lbse","lbmd","lbme","dt","tx","kladr","rtf"],$=function(e){switch(e.type){case"chb3":return u.default.createElement(N.Checkbox3,e);case"chb":return u.default.createElement(N.Checkbox,e);case"number":return u.default.createElement(m.default,e);case"lbse":case"lbme":case"kladr":case"tx":return u.default.createElement(g.default,e);case"lbsd":case"lbmd":return u.default.createElement(_.default,e);case"dt":return e.readOnly?u.default.createElement(g.default,Object.assign({},e,{xValue:p.default.dtRus(e.xValue)})):u.default.createElement(S.default,e);case"fd":return u.default.createElement(E.default,e);case"table":case"gr":return u.default.createElement(O.default,e);case"json":return u.default.createElement(R.default,e);case"list":return u.default.createElement(b.default,e);case"readyList":return u.default.createElement(M.default,e);case"view":return u.default.createElement(B.default,e);case"sch":return u.default.createElement(T.default,e);case"input-color":return u.default.createElement(V.default,e);case"band":return u.default.createElement(W.default,e);case"slip":return u.default.createElement(Y.default,e);case"box":return u.default.createElement(J.default,e);default:return console.warn("Неизвестный тип поля",e.xName,e.type),u.default.createElement("div",null,"Неизвестный тип поля: "+e.xName+" "+e.type)}},Q=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.componentDidUpdate=function(){n.top===-50&&setTimeout(function(){n.top=0,n.forceUpdate()},1)},n.changeToolbar=function(e){return n.child=e},n.render=function(){return u.default.createElement("div",{className:n.props.className,style:{top:n.top}},n.child||ee(n.props.children,n.props.doc))},(0,f.default)(n),n.top=-50,n}return a(t,e),t}(u.default.Component),Z=t.makeControl=function(e,t,n,r,o,i){if(t.comment)return null;var a=Object.assign({},t.attributes),s=t.fieldProps||{};a.style=Object.assign({},a.style),r=r||s.readOnly||p.default.readOnly(n,a.name),p.default.hide(n,a.name)&&(a.style.display="none");var l=Object.assign({},s,a,{readOnly:r&&!s.edit});if(t.field){var c=t.field[0].toUpperCase(),f=n.fieldValues&&n.fieldValues[c]||"",d=Object.assign({},l,{doc:n,xName:c,xValue:f,key:e,type:t.field[1],ls:t.field[2]||null,ref:function(e){n.register[c]=e}});return G.includes(d.type)&&!d.readOnly&&(d.myRow=n.currRow-1),$(d)}if(t.fileShow)return u.default.createElement(L.default,Object.assign({key:e,doc:n,fileShow:t.fileShow},l,{uploadDone:n.cmdSave2,ref:function(e){return n.fileShow[t.fileShow]=e}}));if(t.video){var h={};for(var g in t)"video"!==g&&(h[g]=t[g]);return u.default.createElement("video",Object.assign({key:e},h,{ref:function(e){return n.register[t.video]=e}}))}if(!t._teg)return console.log("makeControl: empty element: ",t),null;var y=t._teg.toLowerCase();if("svg"===y)return u.default.createElement(z.SvgElement,{key:e,doc:n,_teg:"svg",attributes:Object.assign({},a),children:t.children});var m=void 0,v=p.default.splitText(t.text,s),b=t.children?ee(t.children,n,r,o||"none"===a.style.display,s.wl||i,null):null;switch(v&&"button"!==y&&(b?b.unshift(v):b=v),a.key=e,y){case"div":return(a.className||"").startsWith("label")&&i&&!a.style.width&&(a.style.width=a.style.minWidth=a.style.maxWidth=i),a.className&&a.className.includes("toolbar")?u.default.createElement(Q,Object.assign({},a,{children:t.children,doc:n,ref:function(e){return n.toolbar=e}})):u.default.createElement("div",a,b);case"img":return a.href?u.default.createElement("a",{href:a.href,key:e,target:a.target,title:a.title},u.default.createElement("img",{src:a.src,width:"100%",alt:"alt",title:a.title,className:a.className,style:a.style})):(s._cmd&&(a.onClick=function(e){return p.default.runCmd(n,s._cmd,s._param)},a.style.cursor="pointer"),u.default.createElement("img",Object.assign({},a,{alt:"alt"})));case"button":if(s._div){var w="BTN_"+s._cmd.toUpperCase();return u.default.createElement(K.default,Object.assign({},a,{label:t.text,cmd:s._cmd,param:s._param,doc:n,children:b,ref:function(e){n.register[w]||(n.register[w]=e)}}))}return u.default.createElement("button",Object.assign({},a,{onClick:function(e){return p.default.runCmd(n,s._cmd,s._param,e.ctrlKey)}}),t.text);case"ul":return m=v?v.split("\n").map(function(e,t){return t?u.default.createElement("li",{key:t},e):e}):b,u.default.createElement("ul",a,m[0],m.slice(1));case"ol":return m=v?v.split("\n").map(function(e,t){return t?u.default.createElement("li",{key:t},e):e}):b,u.default.createElement("ol",a,m[0],m.slice(1));case"a":return u.default.createElement("a",a,b);case"p":return u.default.createElement("p",a,b);case"span":return u.default.createElement("span",a,b);case"b":return u.default.createElement("b",a,b);case"i":return u.default.createElement("i",a,b);case"li":return u.default.createElement("li",a,b);case"h2":return u.default.createElement("h2",a,b);case"h3":return u.default.createElement("h3",a,b);case"h4":return u.default.createElement("h4",a,b);case"input":return u.default.createElement("input",a);case"form":return u.default.createElement("form",a,b);case"textarea":return u.default.createElement("textarea",a,v);case"label":return u.default.createElement("label",a,b);case"dl":return u.default.createElement("dl",a,b);case"dt":return u.default.createElement("dt",a,b);case"dd":return u.default.createElement("dd",a,b);case"br":return u.default.createElement("br",{key:e});case"header":return u.default.createElement("header",a,b);case"article":return u.default.createElement("article",a,b);case"footer":return u.default.createElement("footer",a,b);case"details":return u.default.createElement("details",a,b);case"summary":return u.default.createElement("summary",a,b);case"pre":return u.default.createElement("pre",a,b);case"nav":return u.default.createElement("nav",a,b);case"html":return u.default.createElement("div",a,b);case"body":return u.default.createElement("div",a,b);case"main":return u.default.createElement("main",a,b);case"iframe":return u.default.createElement("iframe",a,b);default:return console.log("undefined _teg:",y),null}},ee=t.boxing=function(e,t,n,r,o,i){if(!e)return[];if(!e.map)return console.error(e),[u.default.createElement("div",{key:"errBoxing"},u.default.createElement("b",null,"boxing-error: expected Array, received: "+("undefined"==typeof e?"undefined":s(e))),u.default.createElement("div",null,e.toString()))];var a=void 0,l=e.map(function(e,l){if(!e)return null;if("string"==typeof e)return e;if("object"!==("undefined"==typeof e?"undefined":s(e)))return null;var u=e.attributes?e.attributes.name:e.name;return n||e.fieldProps&&e.fieldProps.readOnly||p.default.readOnly(t,u)||!a&&e.field&&G.includes(e.field[1])&&(a=e.field[0],t.focusRows[t.currRow++]=a),Z(i||l,e,t,n,r,o)});return l.filter(function(e){return e})}},function(e,t,n){"use strict";var r=n(3),o=r.OrderedMap,i={createFromArray:function(e){return o(e.map(function(e){return[e.getKey(),e]}))}};e.exports=i},function(e,t){"use strict";function n(e,t,n,r){if(e.size){var o=0;e.reduce(function(e,i,a){return t(e,i)||(n(e)&&r(o,a),o=a),i}),n(e.last())&&r(o,e.count())}}e.exports=n},function(e,t){"use strict";function n(e){return!(!e||!e.ownerDocument)&&(e.ownerDocument.defaultView?e instanceof e.ownerDocument.defaultView.HTMLElement:e instanceof HTMLElement)}e.exports=n},function(e,t,n){"use strict";function r(e,t,n){var r=e.getSelection(),i=e.getCurrentContent(),s=r,l=r.getAnchorKey(),u=r.getFocusKey(),c=i.getBlockForKey(l);
if(a&&"forward"===n&&l!==u)return i;if(r.isCollapsed()){if("forward"===n){if(e.isSelectionAtEndOfContent())return i;if(a){var f=r.getAnchorOffset()===i.getBlockForKey(l).getLength();if(f){var d=i.getBlockForKey(c.nextSibling);if(!d||0===d.getLength())return i}}}else if(e.isSelectionAtStartOfContent())return i;if(s=t(e),s===r)return i}return o.removeRange(i,s,n)}var o=n(7),i=n(15),a=i("draft_tree_data_support");e.exports=r},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){console.warn("WARNING: "+e+' will be deprecated soon!\nPlease use "'+t+'" instead.')}var a=n(58),s=n(3),l=n(4),u=n(194),c=s.Map,f=c(),d=u(),p={getLastCreatedEntityKey:function(){return i("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),p.__getLastCreatedEntityKey()},create:function(e,t,n){return i("DraftEntity.create","contentState.createEntity"),p.__create(e,t,n)},add:function(e){return i("DraftEntity.add","contentState.addEntity"),p.__add(e)},get:function(e){return i("DraftEntity.get","contentState.getEntity"),p.__get(e)},__getAll:function(){return f},__loadWithEntities:function(e){f=e,d=u()},mergeData:function(e,t){return i("DraftEntity.mergeData","contentState.mergeEntityData"),p.__mergeData(e,t)},replaceData:function(e,t){return i("DraftEntity.replaceData","contentState.replaceEntityData"),p.__replaceData(e,t)},__getLastCreatedEntityKey:function(){return d},__create:function(e,t,n){return p.__add(new a({type:e,mutability:t,data:n||{}}))},__add:function(e){return d=u(),f=f.set(d,e),d},__get:function(e){var t=f.get(e);return t?void 0:l(!1),t},__mergeData:function(e,t){var n=p.__get(e),o=r({},n.getData(),t),i=n.set("data",o);return f=f.set(e,i),i},__replaceData:function(e,t){var n=p.__get(e),r=n.set("data",t);return f=f.set(e,r),r}};e.exports=p},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var o=n(3),i=o.Record,a={anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1},s=i(a),l=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},n.getAnchorKey=function(){return this.get("anchorKey")},n.getAnchorOffset=function(){return this.get("anchorOffset")},n.getFocusKey=function(){return this.get("focusKey")},n.getFocusOffset=function(){return this.get("focusOffset")},n.getIsBackward=function(){return this.get("isBackward")},n.getHasFocus=function(){return this.get("hasFocus")},n.hasEdgeWithin=function(e,t,n){var r=this.getAnchorKey(),o=this.getFocusKey();if(r===o&&r===e){var i=this.getStartOffset(),a=this.getEndOffset();return t<=i&&i<=n||t<=a&&a<=n}if(e!==r&&e!==o)return!1;var s=e===r?this.getAnchorOffset():this.getFocusOffset();return t<=s&&n>=s},n.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},n.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},n.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},n.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},n.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},t.createEmpty=function(e){return new t({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:0,isBackward:!1,hasFocus:!1})},t}(s);e.exports=l},function(e,t,n){"use strict";function r(e){for(var t=e;t&&t!==o(e).documentElement;){var n=i(t);if(null!=n)return n;t=t.parentNode}return null}var o=n(29),i=n(75);e.exports=r},function(e,t,n){"use strict";var r=n(84),o=n(85),i=function(e,t){var n=t.getStartKey(),i=t.getStartOffset(),a=t.getEndKey(),s=t.getEndOffset(),l=o(e,t),u=l.getBlockMap(),c=u.keySeq(),f=c.indexOf(n),d=c.indexOf(a)+1;return r(u.slice(f,d).map(function(e,t){var r=e.getText(),o=e.getCharacterList();return n===a?e.merge({text:r.slice(i,s),characterList:o.slice(i,s)}):t===n?e.merge({text:r.slice(i),characterList:o.slice(i)}):t===a?e.merge({text:r.slice(0,s),characterList:o.slice(0,s)}):e}))};e.exports=i},function(e,t){"use strict";function n(e){return e&&e.ownerDocument?e.ownerDocument:document}e.exports=n},function(e,t){"use strict";function n(e){return"handled"===e||e===!0}e.exports=n},function(e,t){"use strict";e.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},function(e,t,n){"use strict";function r(e,t){var n=i.get(e,t);return"auto"===n||"scroll"===n}var o=n(215),i={get:o,getScrollParent:function(e){if(!e)return null;for(var t=e.ownerDocument;e&&e!==t.body;){if(r(e,"overflow")||r(e,"overflowY")||r(e,"overflowX"))return e;e=e.parentNode}return t.defaultView||t.parentWindow}};e.exports=i},function(e,t,n){"use strict";function r(e){return e===f||e===d}function o(e){return r(e)?void 0:u(!1),e===f?"ltr":"rtl"}function i(e,t){return r(e)?void 0:u(!1),r(t)?void 0:u(!1),e===t?null:o(e)}function a(e){p=e}function s(){a(f)}function l(){return p||this.initGlobalDir(),p?void 0:u(!1),p}var u=n(4),c="NEUTRAL",f="LTR",d="RTL",p=null,h={NEUTRAL:c,LTR:f,RTL:d,isStrong:r,getHTMLDir:o,getHTMLDirIfDifferent:i,setGlobalDir:a,initGlobalDir:s,getGlobalDir:l};e.exports=h},function(e,t,n){"use strict";function r(e){var t=o(e.ownerDocument||e.document);e.Window&&e instanceof e.Window&&(e=t);var n=i(e),r=e===t?e.ownerDocument.documentElement:e,a=e.scrollWidth-r.clientWidth,s=e.scrollHeight-r.clientHeight;return n.x=Math.max(0,Math.min(n.x,a)),n.y=Math.max(0,Math.min(n.y,s)),n}var o=n(213),i=n(216);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.spinner=void 0;var o=n(1),i=r(o);t.spinner=function(e,t,n){var r=n?"preloader preloaderColor":"preloader",o=t?i.default.createElement("div",{className:"spinner"}):i.default.createElement("div",{className:r},i.default.createElement("div",null),i.default.createElement("div",null),i.default.createElement("div",null),i.default.createElement("div",null),i.default.createElement("div",null),i.default.createElement("div",null),i.default.createElement("div",null),i.default.createElement("div",null),i.default.createElement("div",null),i.default.createElement("div",null));return e?i.default.createElement("div",{className:"spinner-wrap"},o):o}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=r(s),u=n(5),c=r(u),f=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.UNSAFE_componentWillUpdate=function(e){return n.result={x:Math.min(e.x,n.xmax),y:Math.min(e.y,n.ymax)}},n.move_up=function(e,t){t?(n.props.onChange(n.result,!0),n.avatar.frameStyle.display="none",n.avatar.linkedRedraw=0):n.moved(e)},n.mouseDown=function(e){if(e.stopPropagation(),n.avatar.linkedRedraw=n.move_up.bind(n),n.rs=n.refs.slade.getBoundingClientRect(),n.props.axis.includes("x")&&(n.px=n.rs.width/(n.xmax-n.xmin),n.xstepPX=n.px*n.xstep,n.left=(n.props.x-n.xmin)*n.px),n.props.axis.includes("y")&&(n.py=n.rs.height/(n.ymax-n.ymin),n.ystepPX=n.py*n.ystep,n.top=(n.props.y-n.ymin)*n.py),"thumb"===e.target.id){var t=[e.clientX,e.clientY];n.x=t[0],n.y=t[1]}else{var r=[n.rs.x,n.rs.y];n.x=r[0],n.y=r[1],n.top=n.left=0,n.moved(e)}var o=[e.clientX,e.clientY];n.avatar.x1=o[0],n.avatar.y1=o[1],n.avatar.props.owner.dragStart=n.avatar.props.pageName,n.avatar.frameStyle={zIndex:2e4,left:e.clientX-12,top:e.clientY-60,display:"block",cursor:"pointer",border:0,backgroundColor:"transparent",position:"absolute"},n.avatar.forceUpdate()},n.moved=function(e){if(n.props.axis.includes("x")){var t=n.left+e.clientX-n.x;if(t>=n.rs.width)n.left=n.rs.width,n.result.x=n.xmax,n.x=e.clientX;else if(t<=0)n.left=0,n.result.x=n.xmin,n.x=e.clientX;else{var r=e.clientX-n.x;if(r>=n.xstepPX/2||r<=-n.xstepPX/2){var o=r>0?Math.trunc((n.left+r+n.xstepPX)/n.xstepPX):Math.trunc((n.left+r)/n.xstepPX);n.left=n.xstepPX*o,n.result.x=n.xmin+o*n.xstep,n.x=n.left+n.rs.left}}}if(n.props.axis.includes("y")){var i=n.top+e.clientY-n.y;if(i>=n.rs.height)n.top=n.rs.height,n.result.y=n.ymax,n.y=e.clientY;else if(i<=0)n.top=0,n.result.y=n.ymin,n.y=e.clientY;else{var a=e.clientY-n.y;if(a>=n.ystepPX/2||a<=-n.ystepPX/2){var s=a>0?Math.trunc((n.top+a+n.ystepPX)/n.ystepPX):Math.trunc((n.top+a)/n.ystepPX);n.top=n.ystepPX*s,n.result.y=n.ymin+s*n.ystep,n.y=n.top+n.rs.top}}}n.props.onChange(n.result),n.forceUpdate()},n.render=function(){var e=n.props.axis.includes("x")?Math.min((n.result.x-n.xmin)/(n.xmax-n.xmin)*100,100)+"%":0,t=n.props.axis.includes("y")?Math.min((n.result.y-n.ymin)/(n.ymax-n.ymin)*100,100)+"%":0;return l.default.createElement("div",{className:n.props.className||"slade",style:Object.assign({},n.props.style),onMouseDown:n.mouseDown,ref:"slade"},l.default.createElement("div",{className:n.props.active||"active",style:{width:e}}),l.default.createElement("div",{id:"thumb",className:n.props.thumb||"thumb",style:{top:t,left:e}}))},(0,c.default)(n);var r=[n.props.xmin||0,n.props.ymin||0];n.xmin=r[0],n.ymin=r[1];var a=[n.props.xmax||0,n.props.ymax||0];n.xmax=a[0],n.ymax=a[1];var s=[n.props.xstep||1,n.props.ystep||1];return n.xstep=s[0],n.ystep=s[1],n.result={x:n.props.x,y:n.props.y},n.avatar=n.props.doc.mainDoc.sovaPagesByName.avatar,n}return a(t,e),t}(l.default.Component);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.doubleItem=t.deleteItem=t.cmdRedo=t.cmdUndo=t.pasteItem=t.toHist=t.copyItem=t.parseCell=t.copyTemp=t.hideRedo=t.hideUndo=t.shiftHist=t.saveAllRoots=t.changeHist=t.setBoxClipboard=t.boxClipboard=void 0;for(var i=n(38),a=n(52),s=n(2),l=r(s),u=t.boxClipboard=void 0,c=(t.setBoxClipboard=function(e){return t.boxClipboard=u=e},void 0),f=[],d=void 0,p=void 0,h=0;h<1e3;h+=100)f[h]={histArr:[],peak:-1,last:null};var g=(t.changeHist=function(e,t){if(e&&(f[e.boxIndex].last=JSON.stringify(b(e,"root")),f[e.boxIndex].peak=p,f[e.boxIndex].histArr=d),p=f[t].peak,d=f[t].histArr,f[t].last)return JSON.parse(f[t].last)},t.saveAllRoots=function(e){var t='{"boxIndex": 0, "tuning": '+JSON.stringify(e.tuning)+', "boxes": [';return e.boxes.forEach(function(n,r){t+=n.boxIndex===e.tuning.screen?JSON.stringify(b(e.floatBoxes[0],"root"))+",":f[n.boxIndex].last?f[n.boxIndex].last+",":JSON.stringify(n)+","}),t.slice(0,-1)+"]}"},t.shiftHist=function(){return d.splice(p--,1)},t.hideUndo=function(){return p<=0},t.hideRedo=function(){return p<0||p===d.length-1},t.copyTemp=function(e){return c=JSON.stringify(b(e,"ctrl-C"))}),y=t.parseCell=function(e){return parseInt(l.default.partition(e.row||e.column||e.box,"_")[1]||"-1",10)},m=function(e,t,n){var r=t,o=n,i=e.rect.width+r,s=e.rect.height+o;(0,a.saveOldSize)(e);var l=(0,a.getNewRect)(e,"c_3",r,o);if(r=l.width-i,o=l.height-s,(r||o)&&((0,a.saveOldSize)(e),l=(0,a.getNewRect)(e,"c_1",r,o)),l.width===i&&l.height===s)return l},v=function e(t,n,r){if(n){t.type=null;for(var o=0;o<t.cells.length;o++)e(t.cellsBoxes[o],!0,!0),delete t.cellsBoxes[o],delete t.cells[o];t.cells=[],t.cellsBoxes=[]}if(r){for(var i=0;i<t.boxes.length;i++)e(t.floatBoxes[i],!0,!0),delete t.floatBoxes[i],delete t.boxes[i];t.boxes=[],t.floatBoxes=[]}},b=function(e,t){if(t.endsWith("Rect_c_0"))return{rect:e.rect,boxIndex:e.boxIndex};if("tuning"===t)return{tuning:e.tuning,boxIndex:e.boxIndex};var n=function e(n){var r={},o=void 0,a=n.refs.plainText;r.content=[a&&a.innerHTML||"",null],a&&a.innerHTML&&"showButton"===n.tuning.textOrButton&&(0,i.rtfToHtml)(n,null),n.wasEditor&&(o=n.refs.rtfEditor,o&&(r.content[1]=o.contentToRaw(),"showRtf"===n.tuning.textOrButton&&(0,i.rtfToHtml)(n,r.content[1]))),["rect","type","floating","tuning"].forEach(function(e){return r[e]=n[e]}),n.rtfHtml&&(r.rtfHtml=n.rtfHtml,r.boxClassName=n.boxClassName),r.wasEditor=o&&n.wasEditor,"ctrl-C"!==t&&(r.boxIndex=n.boxIndex);var s=n.cellsBoxes.map(function(t){for(var r=0;r<n.cells.length;r++)if(t.pc_key===n.cells[r].key)return e(t)});r.cells=s.filter(function(e){return e});var l=n.floatBoxes.map(function(t){for(var r=0;r<n.boxes.length;r++)if(t.pc_key===n.boxes[r].key)return e(t)});return r.boxes=l.filter(function(e){return e}),r};return n(e)},w=(t.copyItem=function(e,n){e.setState({pont:n||"copy"}),t.boxClipboard=u=JSON.stringify(b(e,"ctrl-C")),(0,i.sendShow)(e.doc),setTimeout(function(){return e.setState({pont:null})},500)},function e(t,n,r){t.rect=t.rect||{};for(var o in n.rect)t.rect[o]=n.rect[o];["type","tuning","floating","wasEditor"].forEach(function(e){return t[e]=n[e]}),"ctrl_V"!==r&&(t.boxIndex=n.boxIndex),t.content=n.content&&[n.content[0],n.wasEditor&&n.content[1]],t.cells=[],n.cells.forEach(function(n){var o={};t.cells.push(o),e(o,n,r)}),t.boxes=[],n.boxes.forEach(function(n){var o={};t.boxes.push(o),e(o,n,r)})}),_=function(e){return w(e,JSON.parse(c),"ctrl_V")},x=function(e){var t=d[p],n=t.boxIndex,r=t.hist,o=t.typeHist,i=t.boxIndexFocus,a=e.findBoxByIndex(n),s=JSON.parse(r);return"tuning"===o?a.tuning=s.tuning:o.endsWith("Rect_c_0")?a.parentBox&&a.parentBox.boxes.forEach(function(e){if(e.key===a.pc_key)for(var t in s.rect)e.rect[t]=s.rect[t]}):(v(a,!0,!0),w(a,s,o)),a.boxIndexFocus=i||n,a.pending=[S,"fromHist"],a},S=function(e,t){return(0,i.pagePreview)(e.doc.rootBox,t)},k=t.toHist=function(e,t,n){p>0&&p<d.length-1&&d.splice(p+1,3e4);var r=JSON.stringify(b(e,t));return d.push({boxIndex:e.boxIndex,hist:r,typeHist:t,boxIndexFocus:n}),p++,e.doc.toolbar&&e.doc.toolbar.forceUpdate(),(0,i.pagePreview)(e.doc.rootBox,t),r},E=(t.pasteItem=function(e){if(u){var t=JSON.parse(u),n=t.rect.width-e.rect.width,r=t.rect.height-e.rect.height,o=void 0,i=void 0;if(e.floating){var s=[Math.max(0,n),Math.max(0,r)];if(n=s[0],r=s[1],i=m(e,n,r),!i)return void e.doc.msg.ok("\nРазмер блока меньше допустимого.\nРаздвиньте родительский блок и повторите вставку.","Вставить блок в ячейку|Вставка невозможна.");k(e,"oldRect_ctrl_V",e.boxIndex),t.floating=!0,t.box=e.box,t.row=t.col=null}else{if(n>0)return void e.doc.msg.ok("\nРазмер ячеки меньше допустимого.\nРаздвиньте ячейку и повторите вставку.","Вставить блок в ячейку|Вставка невозможна.");k(e,"oldRect_ctrl_V",e.boxIndex),r>0&&(o=(0,a.recalcHeight)(e,t.rect.height)),i=Object.assign({},e.rect),t.floating=null}t.rect.top=t.rect.left=0,w(e,t,"ctrl_V"),e.pending=[E,[t,i,o]],(o||e).forceUpdate()}},function(e,t){var n=[].concat(o(t)),r=n[0],i=n[1],a=n[2],s=i.width-r.rect.width,l=i.height-r.rect.height;m(e,s,l);for(var u in i)e.rect[u]=i[u];(a||e).toHistAfterRender="newRect_ctrl_V",setTimeout(function(){return e.setState({pont:"paste"})},1),setTimeout(function(){return e.setState({pont:null})},500)}),C=void 0,O=(t.cmdUndo=function(e){if(!C&&p){C=!0,p--;var t=x(e);d[p].typeHist.startsWith("oldRect_")&&d[p+1]&&d[p+1].typeHist.startsWith("newRect_")&&p--,O(t)}},t.cmdRedo=function(e){if(!(C||p>=d.length-1)){C=!0,p++,d[p].typeHist.startsWith("oldRect_")&&d[p+1]&&d[p+1].typeHist.startsWith("newRect_")&&p++;var t=x(e);O(t)}},function(e){["tuning","root","borderWidth"].includes(d[p].typeHist)&&(e.refreshSetting=!0),e.doc.toolbar.forceUpdate(),e.forceUpdate(),setTimeout(function(){return C=null},100)});t.deleteItem=function(e){var t=e.parentBox;k(t,"oldRect_del",e.boxIndex);var n=y(e);if(e.floating)v(e,!0,!0),delete t.boxes.splice(n,1)[0],delete t.floatBoxes.splice(n,1)[0];else if(2===t.cells.length){var r=n?t.cellsBoxes[0]:t.cellsBoxes[1];(0,a.recalcHeightInside)(r,t.rect.height),(0,a.recalcWidthInside)(r,t.rect.width),g(r),v(t,!0,!0);var o=Object.assign({},t.rect),i=t.floating;_(t),t.rect=Object.assign({},o),t.floating=i}else{var s=e.row?["height","top"]:["width","left"],l=[e.rect[s[0]],e.rect[s[1]]],u=l[0],c=l[1];v(e,!0,!0),delete t.cells.splice(n,1)[0],delete t.cellsBoxes.splice(n,1)[0],n===t.cells.length&&n--,t.cells[n].rect[s[0]]+=u,t.cells[n].rect[s[1]]=c}t.toHistAfterRender="newRect_del",t.boxIndexFocus=t.boxIndex,setTimeout(function(){return t.forceUpdate()},100)},t.doubleItem=function(e){var t=e.parentBox;k(t,"oldRect_double",e.boxIndex);var n=Math.random();if(g(e),e.floating){var r={key:n,rect:{}};_(r),r.rect.top+=10,r.rect.left+=10,t.boxes.push(r)}else{var o=y(e),i={key:n,rect:Object.assign({},e.rect)};_(i),t.cells.splice(o+1,0,i),t.rect.height=t.cells.reduce(function(e,t){return t.rect.top=e,e+t.rect.height},0),t.recalcHeight=t.rect.height}t.boxKeyFocus=n,t.toHistAfterRender="newRect_double",t.forceUpdate()}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.pagePreview=t.rtfToHtml=t.sendShow=t.linkStyle=void 0;var o=n(195),i=r(o),a=n(2),s=(r(a),n(37)),l=(t.linkStyle={cursor:"pointer",textDecoration:"underline"},"text-decoration: underline"),u=void 0,c=void 0,f=void 0,d=void 0,p=void 0,h="",g=void 0,y=t.sendShow=function(e){var t="";if(!e){var n=document.getElementById("b-"+p.boxIndex);if(n){var r=p.rect.width,o=p.rect.height,i=p.doc.getField("docNo");t="title="+i+"&targetW="+r+"&targetH="+o+"¤"+h+"¤"+n.outerHTML}}if(c)u.send(t||s.boxClipboard);else{var a=e||d.doc,l="ws://"+a.getField("webSocketServer_FD")+"/html-editor&"+a.unid+"&"+a.userName;u=new WebSocket(l),u.onopen=function(e){c=!0,setTimeout(function(){return u.send(t||s.boxClipboard)},100)},u.onclose=function(e){return c=!1},u.onmessage=function(e){d&&!d.doc.readOnly&&((0,s.setBoxClipboard)(e.data),d.forceUpdate())}}},m=function(e,t){return"LINK"===e.type?'<a href="'+e.data.url+'" style="'+l+'">'+t+"</a>":("PHOTO"===e.type,void 0)},v=(t.rtfToHtml=function(e,t){if("showRtf"===e.tuning.textOrButton){var n=(0,i.default)(t,{},!1,m);e.rtfHtml=n.length>8?n:""}else e.rtfHtml=e.refs.plainText.innerHTML},function e(t){var n={};if(t.boxIndex%1e3){var r=t.parentBox.rect,o=r.width,i=r.height;["left","width"].forEach(function(e){return n[e]=t.rect[e]/o*100+"%"}),["top","height"].forEach(function(e){return n[e]=t.rect[e]/i*100+"%"})}var a=g["b-"+t.boxIndex]||[];t.cellsBoxes.forEach(function(t){return a.push(e(t))}),t.floatBoxes.forEach(function(t){return a.push(e(t))}),t.editorStyle&&(h+=t.editorStyle);var s={_teg:"div",attributes:{className:t.boxClassName,style:Object.assign({},t.boxStyle,n)},children:a};return s}),b=function(){var e=1/(d.tuning.pagePlusDim||2),t=p.rect.width,n=p.rect.height;f.title=t+"x"+n;var r=void 0;r=d.cells.length?d.cells[1].rect.height:d.rect.height,f.frameStyle.width=t*e+25,f.frameStyle.height=r*e+25,f.frameStyle.background="#ddeeff80";var o=f.doc.children[0];o.attributes.style={width:t*e,height:r*e};var i=r*e*f.doc.getField("pgDown");h="";var a=v(p),s=o.children[0];s.attributes={style:{marginLeft:-t*(1-e)/2,marginTop:-i-n*(1-e)/2,width:t,height:n,transform:"scale("+e+", "+e+")"}},a.attributes.id="b-"+p.boxIndex,a.attributes.style.left=0,a.attributes.style.top=0,a.attributes.style.width="100%",a.attributes.style.height="100%",a.attributes.style.position="absolute",s.children=[a],setTimeout(function(){return f.forceUpdate()},1)};t.pagePreview=function(e,t){if(console.log("******* typeHist-typeHist",t,e.doc.boxEditMode),!(e.doc.boxEditMode||t.startsWith("oldRect_")||["ctrl-C"].includes(t))&&(f=e.doc.sovaPagesByName.plus,f&&f.doc)){d=e,p=e.findBoxByIndex(10*e.boxIndex),f.componentDidUpdate=function(){return f.doc.getField("_page_")?y():f.doc.setField("_page_",1)},f.doc.sova={recalc:{PGDOWN:b}};var n={},r=function e(t){t.rtfHtml&&t.tuning.textOrButton&&(n["b-"+t.boxIndex]=t.rtfHtml),t.cellsBoxes.forEach(function(t){return e(t)}),t.floatBoxes.forEach(function(t){return e(t)})};r(p),g={},Object.keys(n).length?e.doc.util.serverAction(e.doc,"rtfToReact",JSON.stringify(n),!1,!0).then(function(e){g=e,b()}).catch(function(e){return console.log("err",e)}):b()}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SmartNumber=void 0;var s=n(1),l=r(s),u=n(5),c=r(u),f=n(2),d=r(f),p=t.SmartNumber=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getDom=function(){return n.dom.current},n.getValue=function(){var e=""===n.value?n.xmin||0:parseFloat(n.value);return e=null===n.xmax?e:Math.min(e,n.xmax),e=null===n.xmin?e:Math.max(e,n.xmin),n.props.dumb?e:e.toString()},n.setValue=function(e){n.value=e,d.default.recalc(n,e,!0,!0),n.forceUpdate()},n.onChange=function(e){e.stopPropagation(),e.preventDefault();var t=[e.target.value,""],r=t[0],o=t[1];for(var i in r)"0123456789.-".includes(r[i])&&(o+=r[i]);o?(n.value=parseFloat(o).toFixed(n.digits),n.props.onChange?n.props.onChange(n.getValue()):d.default.recalc(n,n.getValue())):(n.props.dumb&&n.props.onChange(""),n.value="",n.forceUpdate())},n.render=function(){return l.default.createElement("div",{className:n.props.className||"input"},l.default.createElement("input",{style:{width:n.props.width||30,textAlign:"center"},type:"text",value:n.props.dumb?n.props.xValue:n.value,onChange:n.onChange,readOnly:n.props.readOnly,onMouseDown:n.props.onMouseDown?function(e){return n.props.onMouseDown(e)}:function(e){},onBlur:n.props.onBlur?function(e){return n.props.onBlur(e)}:function(e){}}))},(0,c.default)(n),n.dom=l.default.createRef(),n.value=n.props.xValue,n.xmin=isNaN(n.props.min)?null:Number(n.props.min),n.xmax=isNaN(n.props.max)?null:Number(n.props.max),n.digits=parseInt(n.props.digits||"0",10),n.doc=n.props.doc,n}return a(t,e),t}(l.default.Component);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),f=n(5),d=r(f),p=n(2),h=r(p),g=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.firstRender=!0,n.componentDidUpdate=function(){n.firstRender&&(n.firstRender=!1,n.updateComp(n.state.text))},n.getDom=function(){return n.dom.current},n.setValue=function(e){var t="dt"===n.props.type?h.default.dtRus(e):e;n.updateComp(t||"")},n.getValue=function(e){var t=n.state.text;return"dt"===n.props.type?e?h.default.dtRus(t):h.default.dtDB(t):"list"===e?[t,n.selectionStart,n.selectionEnd]:t},n.setFocus=function(e){n.setState({focusOn:!0}),n.input.focus()},n.changeDropList=function(e){if(n.props.readOnly)return n.setState({dropList:[]});if(n.lb){var t=n.props.ls;if("string"==typeof t){if(t.includes("|||")){var r=t.split("|||"),o=s(r,2),i=o[0],a=o[1];t=a.replace(/{FIELD}/g,n.props.doc.getField(i))}else t=e||t;h.default.jsonByUrl(n.props.doc,t).then(function(e){return n.setState({dropList:e||[]})}).catch(function(e){return console.error("Text.js: Util.jsonByUrl:"+e)})}else n.setState({dropList:e||[]})}},n.componentDidMount=function(e){n.changeDropList(n.props.ls),n.updateComp(n.state.text)},n.onkeydown=function(e){if(!n.props.readOnly){var t=h.default.upDown(e,n.props.doc,n.props.xName,!1);if("up"===t){if(0===n.input.selectionStart)return n.props.doc.setFocus(n.props.myRow-1)}else if("down"===t&&n.input.selectionStart>=n.state.text.length)return n.props.doc.setFocus(n.props.myRow+1);if("tx"===n.props.type)return void(13===e.keyCode&&n.props.kbEnter&&(e.stopPropagation(),e.preventDefault(),"string"==typeof n.props.kbEnter?h.default.runCmd(n.props.doc,n.props.kbEnter,n.state.text,e.ctrlKey):n.props.kbEnter(n.state.text,e.ctrlKey)));if((40===e.keyCode&&e.altKey||13===e.keyCode&&(!e.shiftKey&&!n.props.shiftEnter||e.shiftKey&&n.props.shiftEnter))&&n.showListBox(e),"kladr"!==n.props.type){var r=e.key.toLowerCase();!e.ctrlKey&&n.lb&&1===r.length&&h.default.sleep(5).then(function(){return n.selectFromDropList()})}}},n.selectFromDropList=function(e){var t=n.state.text.split("\n"),r=t.map(function(e){return e.toLowerCase()}),o=0,i=void 0,a=void 0,s=t.length-1;t=t.map(function(e,t){var l=!0,u=!1,c=void 0;try{for(var f,d=n.state.dropList[Symbol.iterator]();!(l=(f=d.next()).done);l=!0){var p=f.value,h=p.toLowerCase();if(t===s&&e&&!r.includes(h)&&!a&&h.startsWith(e.toLowerCase()))return i=o+e.length,a=o+p.length,p}}catch(e){u=!0,c=e}finally{try{!l&&d.return&&d.return()}finally{if(u)throw c}}return o+=e.length+1,e}),a&&(n.updateValue(t.join("\n"),!0),h.default.sleep(5).then(function(e){n.input.selectionStart=i,n.input.selectionEnd=a}))},n.showListBox=function(e){if(e.stopPropagation(),e.preventDefault(),"kladr"===n.props.type)return n.showKladr();var t=n.state.text,r=n.state.dropList.map(function(e){return e.split(n.sep)[0]}),o=[],i=[];t.split("\n").forEach(function(e){var t=r.indexOf(e.split(n.sep)[0]);t>=0?o.push(t):i.push(e)}),n.updateComp(i.join("\n")),n.props.doc.msg.list(n.state.dropList,"Выберите значение",{multi:"lbme"===n.props.type,checked:o,sep:n.sep},n.props.small).then(function(e){e&&n.updateValue(e),n.input.focus()}).catch(function(e){n.updateComp(t),n.input.focus()})},n.showKladr=function(){var e=n.props.doc;e.sova.searchInCls&&e.sova.searchInCls[n.props.xName]&&e.sova.searchInCls[n.props.xName](e,n.state.text).then(function(t){return e.msg.list(t,"Выберите значение",{sep:n.sep},n.props.small)}).then(function(t){t&&(n.updateValue(t),h.default.runCmd(e,"afterSearchInCls",n.props.xName)),n.input.focus()}).catch(function(){return n.input.focus()})},n.onselect=function(e){n.selectionStart=n.input.selectionStart,n.selectionEnd=n.input.selectionEnd},n.render=function(e){var t=n.lb?c.default.createElement("div",{className:"btn-lb-zone",onClick:function(e){return n.showListBox(e)}},c.default.createElement("div",{className:"btn-lb",style:{marginLeft:3}})):null;return c.default.createElement("div",Object.assign({style:Object.assign({},n.props.style)},h.default._on_(n.props),{ref:n.dom}),c.default.createElement("div",{className:(n.props.ttaClassName||"tta")+(n.state.focusOn?" on-focus":"")+(n.props.readOnly?" read-only":""),style:Object.assign({},n.props.ttaStyle)},c.default.createElement("div",{style:Object.assign({},n.props.ttaStyle,{height:n.state.height,display:"table-cell"})},c.default.createElement("textarea",{tabIndex:n.props.readOnly?-1:"0",placeholder:n.props.readOnly?"":n.props.placeholder||n.placeholder,value:n.state.text,onKeyDown:n.onkeydown,onChange:function(e){return n.updateComp(e.target.value)},onFocus:function(e){return n.setState({focusOn:!0})},onSelect:function(e){return n.onselect(e)},onBlur:function(e){return n.setState({focusOn:!1})},style:{height:n.state.height+0,margin:0,cursor:"inherit"},ref:function(e){return n.input=e},readOnly:n.props.readOnly,title:n.props.title}),c.default.createElement("textarea",{value:n.state.text,onChange:function(){return null},style:{display:"block",visibility:"hidden",height:1,overflow:"hidden"},ref:function(e){return n.shadow=e}})),t))},(0,d.default)(n),n.dom=c.default.createRef(),n.shadow=null,n.input=null,n.savedH=16,n.sep=n.props.sep||"|",!["lbse","lbme","kladr"].includes(n.props.type)||n.props.readOnly?(n.lb=!1,n.placeholder="Введите текст"):(n.lb=!0,n.placeholder="Выбор значения из списка: <Alt-стрелка вниз>"),n.state={focusOn:!1,height:0,text:n.props.xValue||""},n}return a(t,e),l(t,[{key:"updateValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.state.text.split("\n"),o="",i="";e.split("\n").forEach(function(e){var a=h.default.partition(e,t.sep),l=s(a,2),u=l[0],c=l[1],f=t.props.alias?c||u:u;r.includes(f)&&!n||(o+=f+"\n",i+=u+"\n")}),o&&this.updateComp(o.slice(0,-1)),h.default.recalc(this,o?o:this.state.text,i)}},{key:"updateComp",value:function(e){this.shadow&&(this.shadow.value=e,this.shadow.scrollHeight&&(this.savedH=this.shadow.scrollHeight),this.setState({text:e,height:this.savedH+2}))}}]),t}(c.default.Component);t.default=g},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var a=n(21),s=n(10),l=n(16),u=n(11),c=n(25),f=n(26),d=n(12),p=n(72),h=n(15),g=n(3),y=n(86),m=g.List,v=g.Record,b=g.Repeat,w=g.Map,_=g.OrderedMap,x={entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null},S=v(x),k=h("draft_tree_data_support")?u:l,E=function(e){function t(){return e.apply(this,arguments)||this}i(t,e);var n=t.prototype;return n.getEntityMap=function(){return c},n.getBlockMap=function(){return this.get("blockMap")},n.getSelectionBefore=function(){return this.get("selectionBefore")},n.getSelectionAfter=function(){return this.get("selectionAfter")},n.getBlockForKey=function(e){var t=this.getBlockMap().get(e);return t},n.getKeyBefore=function(e){return this.getBlockMap().reverse().keySeq().skipUntil(function(t){
return t===e}).skip(1).first()},n.getKeyAfter=function(e){return this.getBlockMap().keySeq().skipUntil(function(t){return t===e}).skip(1).first()},n.getBlockAfter=function(e){return this.getBlockMap().skipUntil(function(t,n){return n===e}).skip(1).first()},n.getBlockBefore=function(e){return this.getBlockMap().reverse().skipUntil(function(t,n){return n===e}).skip(1).first()},n.getBlocksAsArray=function(){return this.getBlockMap().toArray()},n.getFirstBlock=function(){return this.getBlockMap().first()},n.getLastBlock=function(){return this.getBlockMap().last()},n.getPlainText=function(e){return this.getBlockMap().map(function(e){return e?e.getText():""}).join(e||"\n")},n.getLastCreatedEntityKey=function(){return c.__getLastCreatedEntityKey()},n.hasText=function(){var e=this.getBlockMap();return e.size>1||escape(e.first().getText()).replace(/%u200B/g,"").length>0},n.createEntity=function(e,t,n){return c.__create(e,t,n),this},n.mergeEntityData=function(e,t){return c.__mergeData(e,t),this},n.replaceEntityData=function(e,t){return c.__replaceData(e,t),this},n.addEntity=function(e){return c.__add(e),this},n.getEntity=function(e){return c.__get(e)},n.getAllEntities=function(){return c.__getAll()},n.loadWithEntities=function(e){return c.__loadWithEntities(e)},t.createFromBlockArray=function(e,n){var r=Array.isArray(e)?e:e.contentBlocks,o=a.createFromArray(r),i=o.isEmpty()?new f:f.createEmpty(o.first().getKey());return new t({blockMap:o,entityMap:n||c,selectionBefore:i,selectionAfter:i})},t.createFromText=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/\r\n?|\n/g,r=e.split(n),o=r.map(function(e){return e=y(e),new k({key:d(),text:e,type:"unstyled",characterList:m(b(s.EMPTY,e.length))})});return t.createFromBlockArray(o)},t.fromJS=function(e){return new t(r({},e,{blockMap:_(e.blockMap).map(t.createContentBlockFromJS),selectionBefore:new f(e.selectionBefore),selectionAfter:new f(e.selectionAfter)}))},t.createContentBlockFromJS=function(e){var t=e.characterList;return new k(r({},e,{data:w(e.data),characterList:null!=t?m((Array.isArray(t)?t:p(t)).map(function(e){return s.fromJS(e)})):void 0}))},t}(S);e.exports=E},function(e,t,n){"use strict";var r=n(1),o=n(19),i=n(3),a=i.Map,s=r.createElement("ul",{className:o("public/DraftStyleDefault/ul")}),l=r.createElement("ol",{className:o("public/DraftStyleDefault/ol")}),u=r.createElement("pre",{className:o("public/DraftStyleDefault/pre")}),c=a({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},section:{element:"section"},article:{element:"article"},"unordered-list-item":{element:"li",wrapper:s},"ordered-list-item":{element:"li",wrapper:l},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:u},unstyled:{element:"div",aliasedElements:["p"]}});e.exports=c},function(e,t,n){"use strict";var r=n(8),o=n(179),i=r.isPlatform("Mac OS X"),a={isCtrlKeyCommand:function(e){return!!e.ctrlKey&&!e.altKey},isOptionKeyCommand:function(e){return i&&e.altKey},usesMacOSHeuristics:function(){return i},hasCommandModifier:function(e){return i?!!e.metaKey&&!e.altKey:a.isCtrlKeyCommand(e)},isSoftNewlineEvent:o};e.exports=a},function(e,t,n){"use strict";function r(e,t){var n;if(t.isCollapsed()){var r=t.getAnchorKey(),i=t.getAnchorOffset();return i>0?(n=e.getBlockForKey(r).getEntityAt(i-1),n!==e.getBlockForKey(r).getEntityAt(i)?null:o(e.getEntityMap(),n)):null}var a=t.getStartKey(),s=t.getStartOffset(),l=e.getBlockForKey(a);return n=s===l.getLength()?null:l.getEntityAt(s),o(e.getEntityMap(),n)}function o(e,t){if(a(t)){var n=e.__get(t);return"MUTABLE"===n.getMutability()?t:null}return null}var i=n(64),a=i.notEmptyKey;e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=e.getSelection(),r=e.getCurrentContent(),o=n.getStartKey(),i=n.getStartOffset(),a=o,s=0;if(t>i){var l=r.getKeyBefore(o);if(null==l)a=o;else{a=l;var u=r.getBlockForKey(l);s=u.getText().length}}else s=i-t;return n.merge({focusKey:a,focusOffset:s,isBackward:!0})}n(49);e.exports=r},function(e,t){"use strict";function n(e,t){return!!t&&(e===t.documentElement||e===t.body)}var r={getTop:function(e){var t=e.ownerDocument;return n(e,t)?t.body.scrollTop||t.documentElement.scrollTop:e.scrollTop},setTop:function(e,t){var r=e.ownerDocument;n(e,r)?r.body.scrollTop=r.documentElement.scrollTop=t:e.scrollTop=t},getLeft:function(e){var t=e.ownerDocument;return n(e,t)?t.body.scrollLeft||t.documentElement.scrollLeft:e.scrollLeft},setLeft:function(e,t){var r=e.ownerDocument;n(e,r)?r.body.scrollLeft=r.documentElement.scrollLeft=t:e.scrollLeft=t}};e.exports=r},function(e,t,n){"use strict";function r(e){var t=d.exec(e);return null==t?null:t[0]}function o(e){var t=r(e);return null==t?u.NEUTRAL:p.exec(t)?u.RTL:u.LTR}function i(e,t){if(t=t||u.NEUTRAL,!e.length)return t;var n=o(e);return n===u.NEUTRAL?t:n}function a(e,t){return t||(t=u.getGlobalDir()),u.isStrong(t)?void 0:c(!1),i(e,t)}function s(e,t){return a(e,t)===u.LTR}function l(e,t){return a(e,t)===u.RTL}var u=n(33),c=n(4),f={L:"A-Za-zªµºÀ-ÖØ-öø-ƺƻƼ-ƿǀ-ǃǄ-ʓʔʕ-ʯʰ-ʸʻ-ˁː-ˑˠ-ˤˮͰ-ͳͶ-ͷͺͻ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҂Ҋ-ԯԱ-Ֆՙ՚-՟ա-և։ःऄ-हऻऽा-ीॉ-ौॎ-ॏॐक़-ॡ।-॥०-९॰ॱॲ-ঀং-ঃঅ-ঌএ-ঐও-নপ-রলশ-হঽা-ীে-ৈো-ৌৎৗড়-ঢ়য়-ৡ০-৯ৰ-ৱ৴-৹৺ਃਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਾ-ੀਖ਼-ੜਫ਼੦-੯ੲ-ੴઃઅ-ઍએ-ઑઓ-નપ-રલ-ળવ-હઽા-ીૉો-ૌૐૠ-ૡ૦-૯૰ଂ-ଃଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଵ-ହଽାୀେ-ୈୋ-ୌୗଡ଼-ଢ଼ୟ-ୡ୦-୯୰ୱ୲-୷ஃஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-ஹா-ிு-ூெ-ைொ-ௌௐௗ௦-௯௰-௲ఁ-ఃఅ-ఌఎ-ఐఒ-నప-హఽు-ౄౘ-ౙౠ-ౡ౦-౯౿ಂ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽಾಿೀ-ೄೆೇ-ೈೊ-ೋೕ-ೖೞೠ-ೡ೦-೯ೱ-ೲം-ഃഅ-ഌഎ-ഐഒ-ഺഽാ-ീെ-ൈൊ-ൌൎൗൠ-ൡ൦-൯൰-൵൹ൺ-ൿං-ඃඅ-ඖක-නඳ-රලව-ෆා-ෑෘ-ෟ෦-෯ෲ-ෳ෴ก-ะา-ำเ-ๅๆ๏๐-๙๚-๛ກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ະາ-ຳຽເ-ໄໆ໐-໙ໜ-ໟༀ༁-༃༄-༒༓༔༕-༗༚-༟༠-༩༪-༳༴༶༸༾-༿ཀ-ཇཉ-ཬཿ྅ྈ-ྌ྾-࿅࿇-࿌࿎-࿏࿐-࿔࿕-࿘࿙-࿚က-ဪါ-ာေးျ-ြဿ၀-၉၊-၏ၐ-ၕၖ-ၗၚ-ၝၡၢ-ၤၥ-ၦၧ-ၭၮ-ၰၵ-ႁႃ-ႄႇ-ႌႎႏ႐-႙ႚ-ႜ႞-႟Ⴀ-ჅჇჍა-ჺ჻ჼჽ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፠-፨፩-፼ᎀ-ᎏᎠ-Ᏼᐁ-ᙬ᙭-᙮ᙯ-ᙿᚁ-ᚚᚠ-ᛪ᛫-᛭ᛮ-ᛰᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱ᜵-᜶ᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳាើ-ៅះ-ៈ។-៖ៗ៘-៚ៜ០-៩᠐-᠙ᠠ-ᡂᡃᡄ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᤣ-ᤦᤩ-ᤫᤰ-ᤱᤳ-ᤸ᥆-᥏ᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧀᧁ-ᧇᧈ-ᧉ᧐-᧙᧚ᨀ-ᨖᨙ-ᨚ᨞-᨟ᨠ-ᩔᩕᩗᩡᩣ-ᩤᩭ-ᩲ᪀-᪉᪐-᪙᪠-᪦ᪧ᪨-᪭ᬄᬅ-ᬳᬵᬻᬽ-ᭁᭃ-᭄ᭅ-ᭋ᭐-᭙᭚-᭠᭡-᭪᭴-᭼ᮂᮃ-ᮠᮡᮦ-ᮧ᮪ᮮ-ᮯ᮰-᮹ᮺ-ᯥᯧᯪ-ᯬᯮ᯲-᯳᯼-᯿ᰀ-ᰣᰤ-ᰫᰴ-ᰵ᰻-᰿᱀-᱉ᱍ-ᱏ᱐-᱙ᱚ-ᱷᱸ-ᱽ᱾-᱿᳀-᳇᳓᳡ᳩ-ᳬᳮ-ᳱᳲ-ᳳᳵ-ᳶᴀ-ᴫᴬ-ᵪᵫ-ᵷᵸᵹ-ᶚᶛ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‎ⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℴℵ-ℸℹℼ-ℿⅅ-ⅉⅎ⅏Ⅰ-ↂↃ-ↄↅ-ↈ⌶-⍺⎕⒜-ⓩ⚬⠀-⣿Ⰰ-Ⱞⰰ-ⱞⱠ-ⱻⱼ-ⱽⱾ-ⳤⳫ-ⳮⳲ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵰ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々〆〇〡-〩〮-〯〱-〵〸-〺〻〼ぁ-ゖゝ-ゞゟァ-ヺー-ヾヿㄅ-ㄭㄱ-ㆎ㆐-㆑㆒-㆕㆖-㆟ㆠ-ㆺㇰ-ㇿ㈀-㈜㈠-㈩㈪-㉇㉈-㉏㉠-㉻㉿㊀-㊉㊊-㊰㋀-㋋㋐-㋾㌀-㍶㍻-㏝㏠-㏾㐀-䶵一-鿌ꀀ-ꀔꀕꀖ-ꒌꓐ-ꓷꓸ-ꓽ꓾-꓿ꔀ-ꘋꘌꘐ-ꘟ꘠-꘩ꘪ-ꘫꙀ-ꙭꙮꚀ-ꚛꚜ-ꚝꚠ-ꛥꛦ-ꛯ꛲-꛷Ꜣ-ꝯꝰꝱ-ꞇ꞉-꞊Ꞌ-ꞎꞐ-ꞭꞰ-Ʇꟷꟸ-ꟹꟺꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꠣ-ꠤꠧ꠰-꠵꠶-꠷ꡀ-ꡳꢀ-ꢁꢂ-ꢳꢴ-ꣃ꣎-꣏꣐-꣙ꣲ-ꣷ꣸-꣺ꣻ꤀-꤉ꤊ-ꤥ꤮-꤯ꤰ-ꥆꥒ-꥓꥟ꥠ-ꥼꦃꦄ-ꦲꦴ-ꦵꦺ-ꦻꦽ-꧀꧁-꧍ꧏ꧐-꧙꧞-꧟ꧠ-ꧤꧦꧧ-ꧯ꧰-꧹ꧺ-ꧾꨀ-ꨨꨯ-ꨰꨳ-ꨴꩀ-ꩂꩄ-ꩋꩍ꩐-꩙꩜-꩟ꩠ-ꩯꩰꩱ-ꩶ꩷-꩹ꩺꩻꩽꩾ-ꪯꪱꪵ-ꪶꪹ-ꪽꫀꫂꫛ-ꫜꫝ꫞-꫟ꫠ-ꫪꫫꫮ-ꫯ꫰-꫱ꫲꫳ-ꫴꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚ꭛ꭜ-ꭟꭤ-ꭥꯀ-ꯢꯣ-ꯤꯦ-ꯧꯩ-ꯪ꯫꯬꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ-豈-舘並-龎ﬀ-ﬆﬓ-ﬗＡ-Ｚａ-ｚｦ-ｯｰｱ-ﾝﾞ-ﾟﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",R:"֐־׀׃׆׈-׏א-ת׫-ׯװ-ײ׳-״׵-׿߀-߉ߊ-ߪߴ-ߵߺ߻-߿ࠀ-ࠕࠚࠤࠨ࠮-࠯࠰-࠾࠿ࡀ-ࡘ࡜-࡝࡞࡟-࢟‏יִײַ-ﬨשׁ-זּ﬷טּ-לּ﬽מּ﬿נּ-סּ﭂ףּ-פּ﭅צּ-ﭏ",AL:"؈؋؍؛؜؝؞-؟ؠ-ؿـف-ي٭ٮ-ٯٱ-ۓ۔ەۥ-ۦۮ-ۯۺ-ۼ۽-۾ۿ܀-܍܎܏ܐܒ-ܯ݋-݌ݍ-ޥޱ޲-޿ࢠ-ࢲࢳ-ࣣﭐ-ﮱ﮲-﯁﯂-﯒ﯓ-ﴽ﵀-﵏ﵐ-ﶏ﶐-﶑ﶒ-ﷇ﷈-﷏ﷰ-ﷻ﷼﷾-﷿ﹰ-ﹴ﹵ﹶ-ﻼ﻽-﻾"},d=new RegExp("["+f.L+f.R+f.AL+"]"),p=new RegExp("["+f.R+f.AL+"]"),h={firstStrongChar:r,firstStrongCharDir:o,resolveBlockDir:i,getDirection:a,isDirectionLTR:s,isDirectionRTL:l};e.exports=h},function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(e===t||!o(e)&&(o(t)?r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var o=n(219);e.exports=r},function(e,t,n){"use strict";var r=n(88),o=r;e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=n(1),c=r(u),f=n(5),d=r(f),p=n(95),h=r(p),g=n(35),y=n(20),m=n(96),v=r(m),b=n(2),w=r(b);n(202),n(204),n(200),n(203),n(197),n(198),n(199),n(201);var _=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(n.startResize=function(e){var t=n.sovaPagesByName.rsAvatar;t.x0=e.clientX,t.y0=e.clientY,n.dragStart="rsAvatar",e.stopPropagation(),e.preventDefault()},n.cmdList={edit:function(){return n.cmdEdit()},save:function(){return n.cmdSave()},close:function(){return n.cmdClose()},saveClose:function(e){return n.cmdSave(!0)},prn:function(){return n.cmdSave(null,!0)},docOpen:function(e){return w.default.xopen("docopen?"+e)},dbOpen:function(e){return w.default.xopen("dbopen?"+e)},xopen:function(e){return w.default.xopen(e)},newDoc:function(e){var t=e.split("&"),n=l(t,3),r=n[0],o=n[1],i=n[2];i?w.default.xopen("newdoc?"+r+"&"+o):window.open("newdoc?"+r+"&"+o)},docPreview:function(e,t){return n.docPreview(e,t)},previewNew:function(e){return n.previewNew(e)},dialog:function(e){return e()}},n.docPreview=function(e,t){t&&(t.stopPropagation(),t.preventDefault());var r=w.default.partition(e,"|"),o=l(r,2),i=o[0],a=o[1],s=w.default.partition(i,"&"),u=l(s,2),c=u[0],f=u[1];a=a.replace(/-/g,"");var d=a.split(":"),p=l(d,4),h=p[0],g=p[1],y=p[2],m=p[3];n.mainDoc.previewParams=n.mainDoc.previewParams||{top:40,left:window.innerWidth/2-480,npv:0};var v=n.mainDoc.previewParams;h&&(v.left+=20,v.top+=30);var b={dbAlias:c,unid:f,pageName:"preview_"+v.npv++,title:"Просмотр документа",rsMode:"preview",min:g,max:y,smallCls:m,frameStyle:{left:v.left,top:v.top,width:960,height:window.innerHeight-100}};w.default.addChildPage(n.mainDoc,b)},n.previewNew=function(e){var t=e.split("&"),r=l(t,4),o=r[0],i=r[1],a=r[2],s=r[3],u=a;if(n.sovaPagesByName[u])return void(n.sovaPagesByName[u].minimized&&n.sovaPagesByName[u].dragOrRestore());n.mainDoc.previewParams=n.mainDoc.previewParams||{top:0,left:50};var c=n.mainDoc.previewParams,f={dbAlias:o,unid:i,pageName:u,title:a,form:s,resize:!0,rsMode:"preview",min:!0,max:!0,pont:!0,smallCls:!0,frameStyle:{top:c.top,left:c.left,width:1e3,height:600}};c.left+=30,c.top+=30,w.default.addChildPage(n,f)},n.dragStart=null,n.redraw=function(e,t){if(n.dragStart){var r=n.sovaPagesByName[n.dragStart];r.frameStyle.left+=e.clientX-r.x1,r.frameStyle.top+=e.clientY-r.y1,r.x1=e.clientX,r.y1=e.clientY,t&&(n.dragStart=null,r.doc&&setTimeout(function(e){return w.default.setFocus(r.doc,"*")},100)),e.stopPropagation(),e.preventDefault(),r.redraw(e,t)}},n.dragPage=function(e){return 1===e.buttons&&n.redraw(e)},n.pageMouseUp=function(e){return n.redraw(e,!0)},n.onClick=function(e){e&&(e.stopPropagation(),e.preventDefault());var t=n.page&&n.page.owner;if(t&&t.zIndexArr.length){var r=n.page.props.pageName,o=t.zIndexArr.indexOf(r);t.zIndex!==r&&o>=0&&(t.zIndexArr.splice(o,1),t.zIndexArr.push(r),t.zIndex=r,t.forceUpdate())}},n.componentDidMount=function(e){n.props.fieldValues?(n.fieldValues=n.props.fieldValues,n.userName=n.props.userName,n.printList=n.props.printList,n.rsMode=n.props.rsMode||"read",n.isNew="new"===n.rsMode,n.cssJsUrl=n.props.cssJsUrl,n.unid=n.props.unid,window.owlDebug?n.props.children?n.loadForm({children:n.props.children,attributes:n.props.attributes}):(console.warn("debug: this.props.urlForm",n.props.urlForm),w.default.jsonByUrl(n,n.props.urlForm).then(function(e){return w.default.addJsCSS(n.cssJsUrl,function(t){return n.loadForm(e)})})):n.props.children?n.loadForm({children:n.props.children,attributes:n.props.attributes}):w.default.jsonByUrl(n,n.props.urlForm).then(function(e){return w.default.addJsCSS(n.cssJsUrl,function(t){return n.loadForm(e)})}).catch(function(e){return n.loadError(e+"\n\ndoc.props.urlForm:"+n.props.urlForm)})):window.owlDebug?(console.warn("debug:this.loadDocUrl():",n.loadDocUrl()),w.default.jsonByUrl(n,n.loadDocUrl()).then(function(e){return n.setDocProps(e),e.urlForm?w.default.jsonByUrl(n,e.urlForm):null}).then(function(e){return w.default.addJsCSS(n.cssJsUrl,function(t){return n.loadForm(e)})})):w.default.jsonByUrl(n,n.loadDocUrl()).then(function(e){return n.setDocProps(e),e.urlForm?w.default.jsonByUrl(n,e.urlForm):null}).then(function(e){return w.default.addJsCSS(n.cssJsUrl,function(t){return n.loadForm(e)})}).catch(function(e){return n.loadError(e+"\n\nurl: "+n.loadDocUrl())})},n.setDocProps=function(e){var t=e.fieldValues||{};n.fieldValues=n.props.preloadData?Object.assign({},t,n.props.preloadData):Object.assign({},t),n.oldValues=n.props.preloadOldValues?Object.assign({},e.oldValues,n.props.preloadOldValues):Object.assign({},e.oldValues),n.userName=e.userName||n.userName,n.printList=e.printList,n.rsMode=e.rsMode||n.rsMode,n.isNew="new"===n.rsMode,n.cssJsUrl=e.cssJsUrl,n.dbAlias=e.dbAlias||n.dbAlias,n.unid=e.unid||n.unid},n.loadForm=function(e){if(!e)return console.warn('Document.js.loadForm: "page" is undefined');n.fieldValues.FORM=(n.fieldValues.FORM||"").toLowerCase(),n.sova=window.sovaActions&&window.sovaActions[n.fieldValues.FORM||"??"]||{},n.sova.init&&n.sova.init(n),n.children=e.children;var t=e.attributes||{};n.wl=t.wl,n.focus=["edit","admin","new"].includes(n.rsMode)&&t.focus||"BTN_CLOSE",n.className=t.className||"",n.readOnly=t.readOnly||n.readOnly,setTimeout(function(e){return n.setFocus(n.focus)},100),n.style=Object.assign({},t.style),n.forceUpdate(),n.sova.init2&&setTimeout(function(){return n.sova.init2(n)},1)},n.loadError=function(e){var t="dbAlias: "+n.dbAlias+"\nunid: "+n.unid+"\n\n"+e;n.msg.error(t,"Ошибка открытия документа")},n.cmdEdit=function(e){n.getField("readOnly")||(window.location.href="opendoc?dbAlias="+n.dbAlias+"&unid="+n.unid+"&mode=edit")},n.cmdClose=function(e){return!n.waitSave&&n.closeDoc(!1)},n.cmdPrn=function(e){if(n.flagPrint){if(n.flagPrint=!1,n.fieldValues.FORM.endsWith(".print")||!n.printList)return window.print();var t=n.printList.split("\n");return"o-"===n.fieldValues.FORM||2===t.length?w.default.xopen("docopen?"+n.dbAlias+"&"+n.unid+"&read&"+t[1].split("|").slice(-1)[0]):void n.msg.list(t.slice(1),"Выберите форму для печати",{},!0).then(function(e){var r=e.indexOf("|")>=0?w.default.partition(e,"|")[1]:e;w.default.xopen("docopen?"+[n.dbAlias,e.startsWith("rk")?t[0]:n.unid,"read",r].join("&")),n.setFocus("BTN_CLOSE")}).catch(function(e){return n.setFocus("BTN_CLOSE")})}},n.cmdSave=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!n.waitSave)return n.waitSave=!0,n.flagClose=e,n.flagPrint=t,n.sova.querySave&&n.sova.querySave(n),n.readOnly||!n.getNewValues(!1)||n.getField("noSave")?(n.waitSave=!1,t?n.cmdPrn():e&&n.props.closeDoc(n,n.tidy)):void n.validate().then(function(e){setTimeout(function(){return n.waitSave&&n.setState({spinner:!0})},500);for(var t in n.fileShow)n.fileShow[t].startUpload();n.cmdSave2()}).catch(function(e){n.waitSave=!1})},n.validate=function(e){return new Promise(function(e,t){var r=void 0,o=n.sova.validate||{},i=function(i){if(r=o[i](n)){if("STOP_VALIDATE"===r)return{v:e()};if(r===!0)return{v:t(n.setFocus(i))};var a=void 0,s=void 0;if(r.includes("\n")){var u=w.default.partition(r,"\n"),c=l(u,2);a=c[0],s=c[1],a="Проверка значений|\n"+a+"\n\n"}else a='Проверка значений|\nНе заполнено поле\n\n"'+r+'"',s="";return n.msg.box(s,a).then(function(e){return n.setFocus(i)},function(e){return n.setFocus(i)}),{v:t()}}};for(var a in o){var u=i(a);if("object"===("undefined"==typeof u?"undefined":s(u)))return u.v}var c=n.sova.validatePM;if(!c)return e();var f=Object.keys(c);if(!f.length)return e();var d=0;c[f[d++]](n).then(function(r){d>=f.length?e():c[f[d++]](n).then(function(r){d>=f.length?e():c[f[d++]](n).then(function(r){d>=f.length?e():c[f[d++]](n).then(function(r){d>=f.length?e():c[f[d++]](n).then(function(r){d>=f.length?e():c[f[d++]](n).then(function(r){d>=f.length?e():c[f[d++]](n).then(function(r){d>=f.length?e():c[f[d++]](n).then(function(r){d>=f.length?e():c[f[d++]](n).then(function(r){d>=f.length?e():c[f[d++]](n).then(function(n){d>=f.length?e():(alert("Больше 10 промисов в валидации формы "),t())})},t)},t)},t)},t)},t)},t)},t)},t)},t)})},n.getField=function(e,t){return w.default.getField(n,e,t)},n.getDom=function(e){return w.default.getDom(n,e)},n.setField=function(e,t,r){return w.default.setField(n,e,t,r)},n.setFocus=function(e){return w.default.setFocus(n,e)},n.changeDropList=function(e,t,r){var o=e.toUpperCase();n.register[o]&&n.register[o].changeDropList&&n.register[o].changeDropList(t,r)},n.getDropList=function(e){var t=e.toUpperCase();return n.register[t]&&n.register[t].getDropList&&n.register[t].getDropList()},n.getNewValues=function(e){if(n.getField("noSave"))return"";var t="";for(var r in n.fileShow)t+=n.fileShow[r].getNewValues(e);return Object.keys(n.hideNewValues).forEach(function(e){e in n.fieldValues||(t+=w.default.addJson(e,"",n.hideNewValues[e]))}),Object.keys(n.fieldValues).forEach(function(e){if(!(e in n.register)){var r=void 0;r=n.isNew?"":n.oldValues&&e in n.oldValues?n.oldValues[e]:n.fieldValues[e];var o=e in n.hideNewValues?n.hideNewValues[e]:n.fieldValues[e];t+=w.default.addJson(e,r,o)}}),Object.keys(n.register).forEach(function(e){var r=n.register[e];if(r&&("fd"!==r.props.type||"variable"===r.props.ls)){var o=void 0;o=n.isNew?"":n.oldValues&&e in n.oldValues?n.oldValues[e]:n.fieldValues[e];var i=r.getValue?r.getValue():n.fieldValues[e]||"";t+=w.default.addJson(e,o,i)}}),n.tidy=n.tidy&&!t,t&&(t.includes('"UNID":["')||(t+=w.default.addJson("UNID","",n.unid)),n.fieldValues.REF&&!t.includes('"REF":["')&&(t+=w.default.addJson("REF","",n.fieldValues.REF))),t},n.cmdSave2=function(e){for(var t in n.fileShow)if(n.fileShow[t].run)return;for(var r in n.fileShow)if(n.fileShow[r].uploadError)return n.waitSave=!1,void n.setState({spinner:!1});var o=n.getNewValues(!0);if(o)n.runXhrSave("{"+o.slice(0,-1)+"}");else{if(n.waitSave=!1,n.setState({spinner:!1}),n.flagClose)return n.props.closeDoc(n,n.tidy);n.cmdPrn()}},n.closePage=function(e,t){var r=n.sovaPagesByName[e];return r&&r.closePage(t)},n.handleKeyDown=function(e){if(27===e.keyCode&&"preview"===n.rsMode)return e.stopPropagation(),e.preventDefault(),void n.closeDoc();if(!(n.waitSave||n.boxEditMode||n.contextMenu.state.isOpen||n.getField("_page_")||"arm"===n.getField("form")&&!["edit","admin","new"].includes(n.rsMode))){switch(e.keyCode){case 49:if(e.altKey){w.default.runCmd(n,"docSN");break}return;case 83:if(!n.readOnly&&e.ctrlKey){n.cmdSave(!1);break}return;case 27:n.closeDoc(e.shiftKey);break;case 80:if(e.ctrlKey){n.cmdSave(null,!0);break}return;case 13:if(e.ctrlKey&&!["edit","admin","new"].includes(n.rsMode)){n.cmdEdit();break}return;case 90:if(e.ctrlKey){w.default.runCmd(n,"undo");break}return;case 89:if(e.ctrlKey){w.default.runCmd(n,"redo");break}return;default:return}e.stopPropagation(),e.preventDefault()}},n.closeDoc=function(e){if(n.readOnly||!n.dbAlias)return n.props.closeDoc(n,!0);if(e)return n.cmdSave(!0);n.sova.querySave&&n.sova.querySave(n);var t=n.getNewValues(!1);return t?void n.msg.box("Сохранить изменения ?","Документ был изменен",["Сохранить+|Y","Нет|N","Изменения|S","Отмена"]).then(function(e){"Y"===e?n.cmdSave(!0):"N"===e?n.props.closeDoc(n,!0):"S"===e&&n.showFields(t).then(function(e){"Y"===e?n.cmdSave(!0):"N"===e&&n.props.closeDoc(n,!0)}).catch(function(e){return n.setFocus(n.focus)})}).catch(function(e){return n.setFocus(n.focus)}):n.props.closeDoc(n,n.tidy)},n.addFiles=function(e){if(!n.readOnly)for(var t in n.fileShow)if(!n.fileShow[t].props.readOnly){n.fileShow[t].addFiles(e);break}e.stopPropagation(),e.preventDefault()},n.addPage=function(e){e&&(n.sovaPagesRef[e.props.zi]=e,n.sovaPagesByName[e.props.pageName]=e)},n.render=function(e){var t=(n.waitLoad||n.waitSave)&&n.state.spinner?(0,g.spinner)("main"===n.pageName,!1,"main"!==n.pageName):null;if(!n.children)return c.default.createElement("div",null,t);n.focusRows=[],n.currRow=0;var r=(0,y.boxing)(n.children,n,n.readOnly,!1,n.wl),o=void 0;if(n.sovaPages.length){var i=n.sovaPagesByName.rsAvatar;i&&(i.frameStyle.display="none",i.linkedRedraw=null),o=n.sovaPages.map(function(e,t){return c.default.createElement(h.default,Object.assign({},e,{zi:t,ref:n.addPage,mainDoc:n.mainDoc}))})}return c.default.createElement("div",{className:n.className,style:Object.assign({position:"relative"},n.style),ref:n.mainDiv,tabIndex:"1",onKeyDown:n.handleKeyDown,onMouseMove:n.dragPage,onMouseUp:n.pageMouseUp},c.default.createElement(v.default,{doc:n,ref:function(e){return n.contextMenu=e}}),t,n.readOnly||!n.savedText?null:c.default.createElement("div",{className:"saved",style:{opacity:n.state.saved?1:.3}},n.savedText),c.default.createElement("div",{style:{position:"relative",margin:"0 auto"},onDrop:n.addFiles,onClick:n.onClick},r,o))},n.runXhrSave=function(e,t){n.viewRefresh=!0;var r="api.post/saveDoc?dbAlias="+n.dbAlias+(t?"&force="+t:"");fetch(r,{method:"post",body:e,credentials:"include"}).then(function(t){n.waitSave=!1,409===t.status?(n.setState({spinner:!1}),t.text().then(function(t){return n.msg.box("ПЕРЕЗАПИСАТЬ ДОКУМЕНТ?\n"+t,"Конфликт при сохранении",["Да+|Y","Нет"]).then(function(t){n.waitSave=!0,setTimeout(function(){return n.waitSave&&n.setState({spinner:!0})},500),n.runXhrSave(e,"force")}).catch(function(e){n.flagClose=!1})}).catch(function(e){return alert("Конфликт при сохранении")})):449===t.status?(n.setState({spinner:!1}),t.text().then(function(t){return n.msg.box(t+"\n\nСОХРАНИТЬ?","Проверка значений при сохранении",["Да+|Y","Нет"]).then(function(t){n.waitSave=!0,setTimeout(function(){return n.waitSave&&n.setState({spinner:!0})},500),n.runXhrSave(e,"force")}).catch(function(e){n.flagClose=!1})}).catch(function(e){return alert("Проверка значений")})):200!==t.status?t.text().then(function(e){n.flagClose=!1,n.setState({spinner:!1}),n.msg.error("HTTP status code: "+t.status+"\n"+e+'\nURL: "'+r+'"')},function(){}):n.flagClose?(n.waitSave=!1,n.setState({spinner:!1}),setTimeout(function(e){return n.props.closeDoc(n,!1)},100)):(r=n.loadDocUrl().replace("&new","&edit").replace("&mode=new","&mode=edit"),w.default.jsonByUrl(n,r).then(function(e){n.setDocProps(e);for(var t in n.fileShow)n.fileShow[t].initialize();Object.keys(n.fieldValues).forEach(function(e){e in n.register&&n.register[e].setValue&&n.register[e].setValue(n.fieldValues[e])}),n.hideNewValues={},n.savedText="Saved "+w.default.partition(w.default.formatDateTime(new Date)," ")[1],n.setState({saved:!0}),setTimeout(function(e){return n.setState({saved:!1})},2e3),n.cmdPrn(),w.default.runCmd(n,"saved")}).catch(function(e){n.waitSave=!1,n.setState({spinner:!1}),n.msg.error("DocSave-reload-error:"+e.message+"\n\nurl:"+r)}))}).catch(function(e){n.flagClose=!1,n.waitSave=!1,n.setState({spinner:!1}),n.msg.error("DocSave-error:"+(e.message||e)+"\n\nurl:"+r)})},n.dialog=function(e,t,r,o,i,a,s){var u=void 0,c=o.map(function(t){var r=w.default.partition(t,"|"),o=l(r,2),s=o[0],c=o[1],f={_teg:"button",text:s.replace(/\+/g,""),fieldProps:{_cmd:"dialog"}};return"FV"===c?f.fieldProps._param=function(){var t=n.sovaPagesByName[e].doc,r={};for(var o in t.register){if("D_TEXT"===o){r=t.getField(o);break}r[o]=t.getField(o)}i(r),n.closePage(e)}:c?f.fieldProps._param=function(){i(c),n.closePage(e)}:f.fieldProps._param=function(){n.closePage(e),a()},t.includes("+")&&(f.attributes={ref:function(e){return u=e}}),f});c.unshift(w.default._div({},[]," ")),setTimeout(function(){return u&&u.focus()},200);var f=s?t-40:t;return[w.default._div({style:{display:"table",width:"100%",tableLayout:"fixed",overflow:"hidden"}},[w.default._div({style:{height:f,maxHeight:f,display:"table-cell",overflow:"auto"}},r),w.default._div({className:s?"dlgButtonsSmall":"dlgButtons"},c)])]},n.inputBox=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Ввод текста",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"fromCorr",i=arguments[4],a=arguments[5];return new Promise(function(s,u){var c="inputbox",f=i||["Ввод|FV"];f.push("Отмена");var d=a?[370,170,10]:[500,200,"30px 0 14px 5px"],p=l(d,3),h=p[0],g=p[1],y=p[2],m={focus2:o,pageName:c,title:r,rsMode:"edit",smallCls:!0,frameStyle:Object.assign({},w.default.getRect(n,h,g)),fieldValues:{D_TEXT:t},focus:"D_TEXT",modal:1,show:{cmCancel:u}};m.children=n.dialog(c,g-30,[w.default.label(e,0,{textAlign:"left",padding:y}),{field:["D_TEXT","tx"],attributes:{style:{padding:5},kbEnter:function(e){s(e),n.closePage(c)}}}],f,s,u,a),w.default.addChildPage(n,m)})},n.showFields=function(e){return new Promise(function(t,r){var o="showFields";if(n.sovaPagesByName[o])return r();var i=JSON.parse("{"+e.slice(0,-1)+"}"),a=Object.keys(i).sort().map(function(e,t){var n=[w.default._div({style:{fontWeight:"bold",color:"blue"}},null,e)];return"ROOT"===e?n.push(w.default._div(null,null,"поле изменено. Размер "+i[e][0].length+" => "+i[e][1].length)):"UNID"===e?n.push(w.default._div(null,null,i[e][1])):(n.push(w.default._div(null,null,(i[e][0]||"").replace(/\n/g,"\\n")||"<empty>")),n.push(w.default._div({style:{fontWeight:"bold"}},null,(i[e][1]||"").replace(/\n/g,"\\n")||"<empty>"))),w.default._div({style:{padding:5,background:t%2?"#fff":"#f8f8f8"}},n)}),s=w.default._div({style:{overflowY:"auto",font:"normal 13px Courier",wordWrap:"break-word"}},a),l={rsMode:"edit",smallCls:!0,pageName:o,title:"Просмотр измененных полей",frameStyle:Object.assign({},w.default.getRect(n,800,500)),fieldValues:{Q:"q"},show:{cmCancel:r},modal:1};l.children=n.dialog(o,470,[s],["Сохранить+|Y","Нет|N","Отмена"],t,r),w.default.addChildPage(n,l)})},n.msgBox=function(){},n.msg={box:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Sova.online",r=arguments[2],o=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,arguments[4]);return new Promise(function(i,a){var s="MsgBox"+Math.random();if(n.zIndexArr&&n.zIndexArr.includes("MsgBox"))return a(),void alert(e);var u=void 0,c=void 0,f=t.split("|"),d=l(f,2),p=d[0],h=d[1],g=e.replace(/<br>/g,"\n").split("\n").map(function(e,t){return w.default._div({key:t},null,e||" ")});switch(g.unshift(w.default._div({className:"msgHeader",key:"head"},null,h||" ")),(o||"").toString()){case"3":u=208,c=255;break;case"2":u=210,c=230;break;case"1":u=420,c=200;break;default:u=600,c=400}var y={title:p,pageName:s,rsMode:"edit",smallCls:!0,frameStyle:Object.assign({},w.default.getRect(n,u,c)),show:{cmCancel:a},fieldValues:{Q:"q"},modal:1},m=w.default._div({className:"msg-box",style:{height:c-30}},g);y.children=n.dialog(s,c-30,[m],r||["OK+|Y"],i,a),w.default.addChildPage(n,y)})},ok:function(){var e;return(e=n.msg).box.apply(e,arguments).then(function(){},function(){})},error:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Ошибка";return n.msg.box(e,t).then(function(){},function(){})},list:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Выберите значение",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments[3],i=arguments[4];return new Promise(function(a,s){var l=void 0,u=void 0,c=void 0,f=void 0;switch((o||"").toString()){case"3":l=200,u=180,c=208,f=255;break;case"2":l=200,u=180,c=208,f=312;break;case"1":l=305,u=215,c=440,f=300;break;default:l=605,u=415,c=740,f=500}var d={title:t,pageName:"MsgBox",rsMode:"edit",smallCls:!0,frameStyle:Object.assign({},w.default.getRect(n,c,f),{backgroundImage:"url(/image?24x24LB.png)"}),modal:1};d.show={lb:!0,data:e,multi:r.multi,checked:r.checked,text:r.text,sep:r.sep||"|",buttons:["ОК (Enter)+|1","Отмена (Esc)"],cmCancel:s,cmButton:a,dlgDataStyle:{width:l,height:u},small:o,info:i},w.default.addChildPage(n,d)})}},(0,d.default)(n),n.audiotuk=window.document.getElementById("audiotuk"),n.mainDiv=c.default.createRef(),n.toolbar=null,n.util=w.default,n.tidy=!0,n.viewRefresh=!1,n.waitLoad=!1,n.waitSave=!1,n.fileShow={},n.register={},n.hideNewValues={},n.savedText="",n.dbAlias=n.props.dbAlias||"",n.unid=n.props.unid||"",n.rsMode=n.props.rsMode||"read",n.readOnly=!["edit","admin","new"].includes(n.rsMode),n.cssJsUrl=n.props.cssJsUrl,n.oldValues=n.props.oldValues||{},n.sovaPages=[],n.sovaPagesRef=[],n.pageName=n.props.pageName||"main",n.sovaPagesByName={},n.props.mainDoc)n.mainDoc=n.props.mainDoc;else{n.mainDoc=n;var r={pageName:"rsAvatar",className:"rsAvatar",avatar:!0,frameStyle:{top:0,left:0,display:"none"},onMouseDown:n.startResize};w.default.addChildPage(n,r)}n.state={spinner:!1},n.loadDocUrl=function(){return n.props.newForm?"api.get/newForm?dbAlias="+n.dbAlias+"&unid="+n.unid+"&mode="+n.rsMode+"&form="+n.props.newForm:"api.get/loadDoc?dbAlias="+n.dbAlias+"&unid="+n.unid+"&mode="+n.rsMode+"&form="+(n.props.form||"")},n.hideList={},n._tabHeader=0;for(var a=function(e){n.hideList["_tab_"+e]=function(){return n._tabHeader!==e},n.cmdList["cmdTab_"+e]=function(){n._tabHeader=e;for(var t="arm"===(n.props.form||n.props.newForm)?"thArmItem":"thItem",r=0;r<10;r++){var o=n.register["BTN_CMDTAB_"+r];o&&o.setValue({className:t+(r===e?"Sel":"")})}n.forceUpdate()}},u=0;u<10;u++)a(u);return n}return a(t,e),t}(c.default.Component);t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(2),f=r(c),d=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getDom=function(){return n.dom.current},n.onclick=function(e){return n.props.toggle(n.props.index,e)},n.ondubleclick=function(e){e.stopPropagation(),e.preventDefault()},n.onmouseover=function(e){if(n.props.info){var t=[e.clientX,e.clientY];return n.x=t[0],n.y=t[1],e.stopPropagation(),e.preventDefault(),n.shIF=!0,n.s1?n.forceUpdate():void f.default.runCmdYesNo(n.props.doc,n.props.info,n.props.items[n.props.index]).then(function(e){n.shIF&&(n.s1=e.ORG||" ",n.s2=e.DEPARTMENT||"",n.s3=e.PART||"",n.forceUpdate())}).catch(function(e){return n.shIF&&alert("Ошибка при получении информации: "+e)})}},n.onmouseleave=function(e){e.stopPropagation(),e.preventDefault(),n.props.info&&(n.shIF=!1,n.forceUpdate())},n.state={style:{position:"relative"}},n.shIF=!1,n.s1=n.s2=n.s3="",n.infoSpan=n.props.info?u.default.createElement("span",{className:"infoSpan",onMouseOver:n.onmouseover,onMouseLeave:n.onmouseleave},"i"):null,n.dom=u.default.createRef(),n}return a(t,e),s(t,[{key:"render",value:function(){var e=this,t=null;if(this.shIF){var n=this.props.items[this.props.index].label,r=this.props.items[this.props.index].opt,o={top:this.y+5,left:this.x-100};t=u.default.createElement("div",{style:o,className:"infoFloat"},n+" ("+r+")",u.default.createElement("br",null),this.s1,u.default.createElement("br",null),this.s2,u.default.createElement("br",null),this.s3);
}var i=this.props.multi?u.default.createElement("span",{className:"multi",onClick:this.onclick,onDoubleClick:this.ondubleclick},this.props.check?"∨":" "):null,a=this.props.listItemClassName||"listItem";this.props.sel&&(a+=" "+(this.props.listItemClassName||"listItem")+"-sel");var s=Object.assign({},this.state.style);return this.props.iShow%2&&this.props.evenColor&&!this.props.sel&&(s.background=this.props.evenColor),this.props.multi&&this.props.check&&(s.fontWeight="bold",this.props.sel||(s.color="#00f")),u.default.createElement("div",{className:a,ref:this.dom,tabIndex:"0",onClick:function(t){return e.props.onclick(e.props.iShow,t)},onDoubleClick:function(t){return e.props.ondoubleclick(!0)},style:s},i,this.props.items[this.props.index].label,this.infoSpan,t)}}]),t}(u.default.Component);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.grid=t.setEditorStyle=t.setBoxStyle=t.set_b_size=t.eightRings=t.getAdd=t.getContur=t.getNewRect=t.saveOldSize=t.recalcHeight=t.recalcWidth=t.recalcHeightInside=t.recalcWidthInside=t.testHeight=t.testWidth=void 0;var o=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(1),a=r(i),s=n(2),l=r(s),u=n(37),c=(t.testWidth=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=!0,r=function e(r){n&&(m(r),r.irc.width<t?n=!1:"cols"===r.type?e(r.cellsBoxes[r.cellsBoxes.length-1]):"rows"===r.type&&r.cellsBoxes.forEach(e))};return r(e),n},t.testHeight=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=!0,r=function e(r){n&&(m(r),r.irc.height<t?n=!1:"rows"===r.type?e(r.cellsBoxes[r.cellsBoxes.length-1]):"cols"===r.type&&r.cellsBoxes.forEach(e))};return r(e),n},t.recalcWidthInside=function e(t,n){var r=n;if(t.rect.width=r,(t.row||t.column)&&(m(t),r=t.irc.width),"cols"===t.type){var o=t.cellsBoxes.reduce(function(e,t){return e+t.rect.width},0),i=t.cellsBoxes[t.cellsBoxes.length-1],a=i.rect.width+r-o;e(i,a)}else"rows"===t.type&&t.cellsBoxes.forEach(function(t){return e(t,r)})}),f=t.recalcHeightInside=function e(t,n){var r=n;if(t.rect.height=r,(t.row||t.column)&&(m(t),r=t.irc.height),"rows"===t.type){var o=t.cellsBoxes.reduce(function(e,t){return e+t.rect.height},0),i=t.cellsBoxes[t.cellsBoxes.length-1],a=i.rect.height+r-o;e(i,a)}else"cols"===t.type&&t.cellsBoxes.forEach(function(t){return e(t,r)})},d=(t.recalcWidth=function(e,t){for(var n=e,r=t-e.rect.width;;){if(n.column)n.rect.width+=r;else if(n.row)n.parentBox.cellsBoxes.forEach(function(e){return e.rect.width+=r});else{n.rect.width+=r;var o=n.rect.left+n.rect.width;if(o<=n.parentBox.rect.width||n.parentBox.boxIndex<1e3)break}n=n.parentBox}return n.cellsBoxes.forEach(function(e){return c(e,e.rect.width)}),n},t.recalcHeight=function(e,t){for(var n=e,r=t-e.rect.height;;){if(n.row)n.rect.height+=r;else if(n.column)n.parentBox.cellsBoxes.forEach(function(e){return e.rect.height+=r});else{n.rect.height+=r;var o=n.rect.top+n.rect.height;if(o<=n.parentBox.rect.height||n.parentBox.boxIndex<1e3)break}n=n.parentBox}return n.cellsBoxes.forEach(function(e){return f(e,e.rect.height)}),n},void 0),p=t.saveOldSize=function(e){d={};var t=function e(t){d[t.boxIndex]=Object.assign({},t.rect),t.cellsBoxes.forEach(function(t){return e(t)}),t.floatBoxes.forEach(function(t){return t&&e(t)})};t(e)},h=t.getNewRect=function(e,t,n,r){var i=void 0,a=void 0,s=void 0,u=void 0,c=void 0,f=void 0,p=void 0,h=void 0,g=n,y=r,m=Object.assign({},d[e.boxIndex]),v=function t(n,r,o,l){if(!isNaN(l)&&(n.row&&"h"===o||n.column&&"w"===o)){t(n,!1,o),p=n.parentBox.cellsBoxes[l],h=n.parentBox.cellsBoxes[l+1];for(var g=d[p.boxIndex][a]+c;g<10;)g++,c++;for(var y=d[h.boxIndex][a]-c;y<10;)g--,y++,c--;p.rect[a]=g,h.rect[a]=y,t(n,!1,o);var v=c;c=-c,t(h,!0,o),c=-c,v!==c&&t(n,!1,o,l)}else if(n.type===s){var b=n.cellsBoxes.length;f=n.cellsBoxes[r?0:b-1],t(f,r,o);for(var w=d[f.boxIndex][a]+c;w<10;)w++,c++;f.rect[a]=w,r&&(m[i]=d[e.boxIndex][i]-c),m[a]=d[e.boxIndex][a]+c,n.rect[a]=d[n.boxIndex][a]+c}else if(n.type===u){var _=void 0;do _=c,n.cellsBoxes.forEach(function(e){return t(e,r,o)});while(_!==c);for(n.rect[a]=d[n.boxIndex][a]+c;n.rect[a]<10;)n.rect[a]++,c++;m[a]=d[e.boxIndex][a]+c,r&&(m[i]=d[e.boxIndex][i]-c)}},b=function(){for(y=-y,m.height+=y,m.top-=y;e.tuning.insideOnly&&m.top<0;)m.top++,m.height--,y--;for(;m.height<10;)m.top--,m.height++,y++;i="top",a="height",s="rows",u="cols",c=y,v(e,!0,"h")},w=function(){for(g=-g,m.width+=g,m.left-=g;e.tuning.insideOnly&&m.left<0;)m.left++,m.width--,g--;for(;m.width<10;)m.left--,m.width++,g++;i="left",a="width",s="cols",u="rows",c=g,v(e,!0,"w")},_=function(){for(m.height+=y;e.tuning.insideOnly&&m.top+m.height>e.parentBox.rect.height;)m.height--,y--;for(;m.height<10;)m.height++,y++;i="top",a="height",s="rows",u="cols",c=y,v(e,!1,"h")},x=function(){for(m.width+=g;e.tuning.insideOnly&&m.left+m.width>e.parentBox.rect.width;)m.width--,g--;for(;m.width<10;)m.width++,g++;i="left",a="width",s="cols",u="rows",c=g,v(e,!1,"w")},S=l.default.partition(t,"_"),k=o(S,2),E=k[0],C=k[1];switch(C=parseInt(C,10),E){case"row":i="top",a="height",s="rows",u="cols",c=y,v(e.cellsBoxes[C],!1,"h",C);break;case"col":i="left",a="width",s="cols",u="rows",c=g,v(e.cellsBoxes[C],!1,"w",C);break;case"c":switch(C){case 0:if(m.left+=n,m.top+=r,!e.tuning.insideOnly||!e.parentBox)break;m.left<0?m.left=0:m.left+m.width>e.parentBox.rect.width&&(m.left=e.parentBox.rect.width-m.width),m.top<0?m.top=0:m.top+m.height>e.parentBox.rect.height&&(m.top=e.parentBox.rect.height-m.height);break;case 1:b(),w();break;case 2:b(),x();break;case 3:_(),x();break;case 4:_(),w();break;case 5:b();break;case 7:_();break;case 6:x();break;case 8:w();break;default:return}return m}},g=(t.getContur=function(e,t){var n=[];if(t)return n[0]=!e.row&&a.default.createElement("div",{key:"s_1",className:"streak skh s1"}),n[1]=!e.column&&a.default.createElement("div",{key:"s_2",className:"streak skv s2"}),n[2]=!e.row&&a.default.createElement("div",{key:"s_3",className:"streak skh s3"}),n[3]=!e.column&&a.default.createElement("div",{key:"s_4",className:"streak skv s4"}),n.filter(function(e){return e});for(var r=1;r<5;r++)n[r-1]=a.default.createElement("div",{key:"s_"+r,className:"side s"+r});return n},["вставить ряд сверху","добавить столбец справа","добавить ряд снизу","вставить столбец слева"]),y=(t.getAdd=function(e){var t=[];return t[0]="cols"!==e.type&&a.default.createElement("div",{id:"p_1",key:"p_1",title:g[0],className:"ringP",style:{left:"calc(50% - 7px)",top:-8}},"+"),t[1]="rows"!==e.type&&a.default.createElement("div",{id:"p_2",key:"p_2",title:g[1],className:"ringP",style:{right:-8,top:"calc(50% - 7px)"}},"+"),t[2]="cols"!==e.type&&a.default.createElement("div",{id:"p_3",key:"p_3",title:g[2],className:"ringP",style:{left:"calc(50% - 7px)",bottom:-8}},"+"),t[3]="rows"!==e.type&&a.default.createElement("div",{id:"p_4",key:"p_4",title:g[3],className:"ringP",style:{left:-8,top:"calc(50% - 7px)"}},"+"),t.filter(function(e){return e})},-4),m=(t.eightRings=[{left:y,top:y,cursor:"nwse-resize"},{right:y,top:y,cursor:"nesw-resize"},{right:y,bottom:y,cursor:"nwse-resize"},{left:y,bottom:y,cursor:"nesw-resize"},{left:"calc(50% - 4px)",top:y,cursor:"n-resize"},{right:y,top:"calc(50% - 4px)",cursor:"e-resize"},{left:"calc(50% - 4px)",bottom:y,cursor:"s-resize"},{left:y,top:"calc(50% - 4px)",cursor:"w-resize"}],t.set_b_size=function(e){var t=e.tuning;e.irc={},"borEQ"===t.border?(["top","left"].forEach(function(n){return e.irc[n]=e.rect[n]+Number(t.borderWidth||0)}),["width","height"].forEach(function(n){return e.irc[n]=e.rect[n]-2*Number(t.borderWidth||0)})):"borNE"===t.border?(e.irc.left=e.rect.left+Number(t.borderLeftWidth||0),e.irc.top=e.rect.top+Number(t.borderTopWidth||0),e.irc.width=e.rect.width-Number(t.borderLeftWidth||0)-Number(t.borderRightWidth||0),e.irc.height=e.rect.height-Number(t.borderTopWidth||0)-Number(t.borderBottomWidth||0)):e.irc=Object.assign({},e.rect)}),v=function(e){if(e.boxSizeTemp=null,!(e.floating&&e.parentBox&&e.boxIndex%1e3))return e.tuning.boxSizeX=e.rect.width,void(e.tuning.boxSizeY=e.rect.height);var t=[e.tuning.boxSizeX,e.tuning.boxSizeY],n=t[0],r=t[1],o=(0,u.parseCell)(e);if(n&&n>=5&&n!==e.rect.width){p(e.parentBox);var i=h(e,"c_6",n-e.rect.width,0);i&&(e.tuning.boxSizeX=e.rect.width=e.parentBox.boxes[o].width=i.width)}else{if(!(r&&r>=5&&r!==e.rect.height))return e.tuning.boxSizeX=e.rect.width,void(e.tuning.boxSizeY=e.rect.height);p(e.parentBox);var a=h(e,"c_7",0,r-e.rect.height);a&&(e.tuning.boxSizeY=e.rect.height=e.parentBox.boxes[o].height=a.height)}setTimeout(function(){return e.forceUpdate()},100)},b=function(e,t){var n=function(t){return(e["border"+t+"Radius"]||"0")+(e["border"+t+"Radius_metric"]?"px":"%")},r=function(t){return(e["border"+t+"Width"]||"0")+"px"},o=function(t){return e["border"+t+"Color"]||"transparent"},i=function(t){return["solid","dotted","dashed","double"][e["border"+t+"Style"]||0]};if("borEQ"===e.border)t.borderRadius=n(""),t.borderWidth=r(""),t.borderColor=o(""),t.borderStyle=i("");else if("borNE"===e.border){var a="",s="",l="",u="";["Top","Right","Bottom","Left"].forEach(function(e){a+=n(e)+" ",s+=r(e)+" ",l+=o(e)+" ",u+=i(e)+" "}),t.borderRadius=a,t.borderWidth=s,t.borderColor=l,t.borderStyle=u}},w=function(e,t){return[parseInt(e||"0",10),parseInt(t||"0",10)]};t.setBoxStyle=function(e){e.boxSizeTemp&&v(e);var t=e.tuning,n={};for(var r in e.rect)n[r]=e.rect[r]+"px";var i=Object.assign({},n,{position:t.position||"absolute",zIndex:e.state.zIndex});if(t.margin&&(i.margin=t.margin),e.boxIndex<=100&&!e.doc.pageBox.tuning.contur)return i;var a=w(t.skewX,t.skewY),s=o(a,2),l=s[0],u=s[1];(l||u)&&(l+u!==90&&l+u!==-90||(t.skewX=l>15?l-15:l+15),i.transform="skew("+t.skewX+"deg, "+u+"deg)");var c=w(t.rotateX,t.rotateY),f=o(c,2);l=f[0],u=f[1],(l||u)&&(i.transform=(i.transform||"")+(" rotateX("+l+"deg) rotateY("+u+"deg)")),l=t.scaleX||"1",u=t.scaleY||"1","1"===l&&"1"===u||(i.transform=(i.transform||"")+(" scale("+l+", "+u+")"));var d=w(t.translateX,t.translateY),p=o(d,2);if(l=p[0],u=p[1],(l||u)&&(i.transform=(i.transform||"")+(" translate("+l+"px, "+u+"px)")),i.transform&&(i.transform=i.transform.trim()),"image"===e.tuning.bgStyle){var h=[parseInt(t.bgiSizeX||0,10),parseInt(t.bgiSizeY||0,10)],g=h[0],y=h[1];g&&(g=t.bgiSizeX_metric?100*g/e.rect.width+"%":g+"%"),y&&(y=t.bgiSizeY_metric?100*y/e.rect.height+"%":y+"%"),i.backgroundSize=(g||"auto")+" "+(y||"auto"),i.backgroundImage="url("+t.backgroundImage+")",i.backgroundRepeat=(t.repeatX||"no-repeat")+" "+(t.repeatY||"no-repeat")}else"color"===t.bgStyle&&(i.background=t.gradient?"linear-gradient("+(t.gradientDeg||0)+"deg, "+t.backgroundColor+", "+t.gradientColor+")":t.backgroundColor);return b(t,i),t.shadow&&(i.boxShadow=("inset"===t.shadow?"inset":"")+" "+(t.shadowX||0)+"px "+(t.shadowY||0)+"px "+(t.shadowR||0)+"px "+(t.shadowW||0)+"px "+t.shadowColor),i},t.setEditorStyle=function(e){var t=void 0,n=e.tuning,r=[n.paddingTD,n.paddingLR],o=r[0],i=r[1];if(!n.textOrButton)return void(e.editorStyle="");var a=n.paddingTD_metric?"rem":"px",s=n.paddingLR_metric?"rem":"px",l=e.editorStyle;if(e.editorStyle="."+e.boxClassName+" {\npadding: "+(o+a)+" "+(i+s)+";\n",[["fontFamily","font-family"],["lineHeight","line-height"],["fontStyle","font-style"],["fontWeight","font-weight"],["color","color"]].forEach(function(r){t=n[r[0]],t&&(e.editorStyle+=r[1]+": "+t+";\n")}),[["letterSpacing","letter-spacing"],["fontSize","font-size"],["textIndent","text-indent"]].forEach(function(r){t=n[r[0]];var o=n[r[0]+"_metric"];e.editorStyle+=r[1]+": "+t+(o?"rem":"px")+";\n"}),t=n.textAlign||0,e.editorStyle+="text-align: "+["left","center","justify","right"][t]+";\n}\n",l!==e.editorStyle){for(var u="."+e.boxClassName,c=e.doc.pageBox.styleElement.sheet,f=0;f<c.cssRules.length;f++)if(c.cssRules[f].selectorText===u){c.deleteRule(f);break}c.insertRule(e.editorStyle,c.cssRules.length)}},t.grid=function(e){var t=[],n=[parseInt(e.doc.pageBox.tuning.gridX||0,10),parseInt(e.doc.pageBox.tuning.gridY||0,10)],r=n[0],o=n[1];if(!r&&!o)return null;var i=[e.rect.width,e.rect.height],s=i[0],l=i[1];if(r)for(var u=r;u<e.rect.height;u+=r)t.push(a.default.createElement("line",{key:Math.random(),strokeWidth:"1",x1:"0",y1:u,style:{stroke:"#ddd"},x2:s,y2:u}));if(o)for(var c=o;c<e.rect.width;c+=o)t.push(a.default.createElement("line",{key:Math.random(),strokeWidth:"1",x1:c,y1:"0",style:{stroke:"#ddd"},x2:c,y2:l}));return a.default.createElement("svg",{viewBox:"0 0 "+s+" "+l},t)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=r(s),u=n(5),c=r(u),f=n(110),d=r(f),p=n(2),h=r(p),g=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));y.call(n),(0,c.default)(n),n.xValue=n.props.xValue||"#ffffffff";var r=(0,f.parseColor)(n.xValue);return isNaN(r.b)?(console.warn(n.props.xName,"invalid color:",n.xValue),n.xValue="#ffffffff",n.state={color:(0,f.parseColor)(n.xValue)}):n.state={color:r},n}return a(t,e),t}(l.default.Component),y=function(){var e=this;this.changeColor=function(t,n){e.xValue=t.hexa,e.setState({color:t}),setTimeout(function(){return h.default.recalc(e,t.hexa,!n,n)},1)},this.getValue=function(){return e.xValue},this.setValue=function(t){var n=(0,f.parseColor)(t||"#ffffffff");isNaN(n.b)?console.warn(e.props.xName,"invalid color:",t):(h.default.recalc(e,n.hexa,!0,!0),e.xValue=n.hexa,e.shown=!1,e.setState({color:n,shown:!1}))},this.schowCP=function(t){if(t.stopPropagation(),e.shown)return void(e.shown=!1);if(e.shown=!0,e.props.doc.page){var n=e.refs.target.getBoundingClientRect(),r=e.props.doc.page.doc.mainDiv.current.getBoundingClientRect();e.style={left:r.left-n.left,width:r.width-12},e.styleArrow={left:6-e.style.left}}else e.style={},e.styleArrow={};e.setState({shown:!0})},this.hideCP=function(t){t.stopPropagation(),e.noBlur?e.noBlur=!1:(e.setState({shown:!1}),setTimeout(function(){return e.shown=!1},500))},this.fo=function(t){t.stopPropagation(),e.noBlur=!0},this.foMain=function(t){t.stopPropagation(),e.noBlur=!0,setTimeout(function(){return e.noBlur=!1},50)},this.render=function(t){var n=e.state.shown?l.default.createElement(d.default,{style:e.style,styleArrow:e.styleArrow,color:e.state.color,onChange:e.changeColor,xValue:e.xValue,doc:e.props.doc,colorList:e.props.colorList,hideCP:e.hideCP,fo:e.fo,foMain:e.foMain}):null;return l.default.createElement("span",{className:"target",style:Object.assign({},e.props.style),ref:"target"},l.default.createElement("span",{onClick:e.schowCP,style:{background:e.state.color.hexa}}),n)}};t.default=g},function(e,t){"use strict";e.exports={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}},function(e,t,n){"use strict";function r(){return r=s||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(13),l=n(56),u=n(14),c=n(1),f=n(46),d=n(32),p=n(47),h=n(33),g=n(19),y=n(90),m=n(34),v=n(91),b=n(4),w=n(23),_=n(9),x=10,S=function(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t},k=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,a(o(t),"_node",void 0),t}i(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e){return this.props.block!==e.block||this.props.tree!==e.tree||this.props.direction!==e.direction||S(e.selection,e.block.getKey())&&e.forceSelection},n.componentDidMount=function(){if(!this.props.preventScroll){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var n=this._node;if(null!=n){var r,o=d.getScrollParent(n),i=m(o);if(o===window){var a=y(n),s=a.y+a.height,l=v().height;r=s-l,r>0&&window.scrollTo(i.x,i.y+r+x)}else{w(n)?void 0:b(!1);var u=n.offsetHeight+n.offsetTop,c=o.offsetTop+o.offsetHeight,p=c+i.y;r=u-p,r>0&&f.setTop(o,f.getTop(o)+r+x)}}}}},n._renderChildren=function(){var e=this,t=this.props.block,n=t.getKey(),o=t.getText(),i=this.props.tree.size-1,a=S(this.props.selection,n);return this.props.tree.map(function(s,f){var d=s.get("leaves");if(0===d.size)return null;var g=d.size-1,y=d.map(function(r,s){var d=u.encode(n,f,s),p=r.get("start"),h=r.get("end");return c.createElement(l,{key:d,offsetKey:d,block:t,start:p,selection:a?e.props.selection:null,forceSelection:e.props.forceSelection,text:o.slice(p,h),styleSet:t.getInlineStyleAt(p),customStyleMap:e.props.customStyleMap,customStyleFn:e.props.customStyleFn,isLast:f===i&&s===g})}).toArray(),m=s.get("decoratorKey");if(null==m)return y;if(!e.props.decorator)return y;var v=_(e.props.decorator),b=v.getComponentForKey(m);if(!b)return y;var w=v.getPropsForKey(m),x=u.encode(n,f,0),S=d.first().get("start"),k=d.last().get("end"),E=o.slice(S,k),C=t.getEntityAt(s.get("start")),O=h.getHTMLDirIfDifferent(p.getDirection(E),e.props.direction),D={contentState:e.props.contentState,decoratedText:E,dir:O,start:S,end:k,blockKey:n,entityKey:C,offsetKey:x};return c.createElement(b,r({},w,D,{key:x}),y)}).toArray()},n.render=function(){var e=this,t=this.props,n=t.direction,r=t.offsetKey,o=g({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===n,"public/DraftStyleDefault/rtl":"RTL"===n});return c.createElement("div",{"data-offset-key":r,className:o,ref:function(t){return e._node=t}},this._renderChildren())},t}(c.Component);e.exports=k},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(13),s=n(139),l=n(1),u=n(4),c=n(80),f=n(191).setDraftEditorSelection,d=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(r(t),"leaf",void 0),t}o(t,e);var n=t.prototype;return n._setSelection=function(){var e=this.props.selection;if(null!=e&&e.getHasFocus()){var t=this.props,n=t.block,r=t.start,o=t.text,i=n.getKey(),a=r+o.length;if(e.hasEdgeWithin(i,r,a)){var s=this.leaf;s?void 0:u(!1);var l=s.firstChild;l?void 0:u(!1);var d;l.nodeType===Node.TEXT_NODE?d=l:c(l)?d=s:(d=l.firstChild,d?void 0:u(!1)),f(e,d,i,r,a)}}},n.shouldComponentUpdate=function(e){var t=this.leaf;t?void 0:u(!1);var n=t.textContent!==e.text||e.styleSet!==this.props.styleSet||e.forceSelection;return n},n.componentDidUpdate=function(){this._setSelection()},n.componentDidMount=function(){this._setSelection()},n.render=function(){var e=this,t=this.props.block,n=this.props.text;n.endsWith("\n")&&this.props.isLast&&(n+="\n");var r=this.props,o=r.customStyleMap,i=r.customStyleFn,u=r.offsetKey,c=r.styleSet,f=c.reduce(function(e,t){var n={},r=o[t];return void 0!==r&&e.textDecoration!==r.textDecoration&&(n.textDecoration=[e.textDecoration,r.textDecoration].join(" ").trim()),a(e,r,n)},{});if(i){var d=i(c,t);f=a(f,d)}return l.createElement("span",{"data-offset-key":u,ref:function(t){return e.leaf=t},style:f},l.createElement(s,null,n))},t}(l.Component);e.exports=d},function(e,t){"use strict";e.exports={initODS:function(){},handleExtensionCausedError:function(){}}},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var o=n(3),i=o.Record,a=i({type:"TOKEN",mutability:"IMMUTABLE",data:Object}),s=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.getType=function(){return this.get("type")},n.getMutability=function(){return this.get("mutability")},n.getData=function(){return this.get("data")},t}(a);e.exports=s},function(e,t){"use strict";e.exports={logBlockedSelectionEvent:function(){return null},logSelectionStateFailure:function(){return null}}},function(e,t,n){"use strict";function r(e,t){var n=t?f.exec(e):u.exec(e);return n?n[0]:e}var o=n(206),i=o.getPunctuation(),a="['‘’]",s="\\s|(?![_])"+i,l="^(?:"+s+")*(?:"+a+"|(?!"+s+").)*(?:(?!"+s+").)",u=new RegExp(l),c="(?:(?!"+s+").)(?:"+a+"|(?!"+s+").)*(?:"+s+")*$",f=new RegExp(c),d={getBackward:function(e){return r(e,!0)},getForward:function(e){return r(e,!1)}};e.exports=d},function(e,t){"use strict";var n={stringify:function(e){return"_"+String(e)},unstringify:function(e){return e.slice(1)}};e.exports=n},function(e,t,n){"use strict";var r=n(7),o=n(6),i=n(147),a=n(9),s={currentBlockContainsLink:function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=n.getEntityMap();return n.getBlockForKey(t.getAnchorKey()).getCharacterList().slice(t.getStartOffset(),t.getEndOffset()).some(function(e){var t=e.getEntity();return!!t&&"LINK"===r.__get(t).getType()})},getCurrentBlockType:function(e){var t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getStartKey()).getType()},getDataObjectForLinkURL:function(e){return{url:e.toString()}},handleKeyCommand:function(e,t,n){switch(t){case"bold":return s.toggleInlineStyle(e,"BOLD");case"italic":return s.toggleInlineStyle(e,"ITALIC");case"underline":return s.toggleInlineStyle(e,"UNDERLINE");case"code":return s.toggleCode(e);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return s.onBackspace(e);case"delete":case"delete-word":case"delete-to-end-of-block":return s.onDelete(e);default:return null}},insertSoftNewline:function(e){var t=r.insertText(e.getCurrentContent(),e.getSelection(),"\n",e.getCurrentInlineStyle(),null),n=o.push(e,t,"insert-characters");return o.forceSelection(n,t.getSelectionAfter())},onBackspace:function(e){var t=e.getSelection();if(!t.isCollapsed()||t.getAnchorOffset()||t.getFocusOffset())return null;var n=e.getCurrentContent(),r=t.getStartKey(),i=n.getBlockBefore(r);if(i&&"atomic"===i.getType()){var a=n.getBlockMap().delete(i.getKey()),l=n.merge({blockMap:a,selectionAfter:t});if(l!==n)return o.push(e,l,"remove-range")}var u=s.tryToRemoveBlockStyle(e);return u?o.push(e,u,"change-block-type"):null},onDelete:function(e){var t=e.getSelection();if(!t.isCollapsed())return null;var n=e.getCurrentContent(),i=t.getStartKey(),a=n.getBlockForKey(i),s=a.getLength();if(t.getStartOffset()<s)return null;var l=n.getBlockAfter(i);if(!l||"atomic"!==l.getType())return null;var u=t.merge({focusKey:l.getKey(),focusOffset:l.getLength()}),c=r.removeRange(n,u,"forward");return c!==n?o.push(e,c,"remove-range"):null},onTab:function(e,t,n){var r=t.getSelection(),a=r.getAnchorKey();if(a!==r.getFocusKey())return t;var s=t.getCurrentContent(),l=s.getBlockForKey(a),u=l.getType();if("unordered-list-item"!==u&&"ordered-list-item"!==u)return t;e.preventDefault();var c=l.getDepth();if(!e.shiftKey&&c===n)return t;var f=i(s,r,e.shiftKey?-1:1,n);return o.push(t,f,"adjust-depth")},toggleBlockType:function(e,t){var n=e.getSelection(),i=n.getStartKey(),s=n.getEndKey(),l=e.getCurrentContent(),u=n;if(i!==s&&0===n.getEndOffset()){var c=a(l.getBlockBefore(s));s=c.getKey(),u=u.merge({anchorKey:i,anchorOffset:n.getStartOffset(),focusKey:s,focusOffset:c.getLength(),isBackward:!1})}var f=l.getBlockMap().skipWhile(function(e,t){return t!==i}).reverse().skipWhile(function(e,t){return t!==s}).some(function(e){return"atomic"===e.getType()});if(f)return e;var d=l.getBlockForKey(i).getType()===t?"unstyled":t;return o.push(e,r.setBlockType(l,u,d),"change-block-type")},toggleCode:function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=t.getFocusKey();return t.isCollapsed()||n!==r?s.toggleBlockType(e,"code-block"):s.toggleInlineStyle(e,"CODE")},toggleInlineStyle:function(e,t){var n=e.getSelection(),i=e.getCurrentInlineStyle();if(n.isCollapsed())return o.setInlineStyleOverride(e,i.has(t)?i.remove(t):i.add(t));var a,s=e.getCurrentContent();return a=i.has(t)?r.removeInlineStyle(s,n,t):r.applyInlineStyle(s,n,t),o.push(e,a,"change-inline-style")},toggleLink:function(e,t,n){var i=r.applyEntity(e.getCurrentContent(),t,n);return o.push(e,i,"apply-entity")},tryToRemoveBlockStyle:function(e){var t=e.getSelection(),n=t.getAnchorOffset();if(t.isCollapsed()&&0===n){var o=t.getAnchorKey(),i=e.getCurrentContent(),a=i.getBlockForKey(o),s=a.getType(),l=i.getBlockBefore(o);if("code-block"===s&&l&&"code-block"===l.getType()&&0!==l.getLength())return null;if("unstyled"!==s)return r.setBlockType(i,t,"unstyled")}return null}};e.exports=s},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i,a=n(10),s=n(16),l=n(11),u=n(42),c=n(25),f=n(207),d=n(19),p=n(12),h=n(74),g=n(15),y=n(3),m=y.List,v=y.Map,b=y.OrderedSet,w=n(175),_=n(80),x=n(23),S=n(176),k=g("draft_tree_data_support"),E="&nbsp;",C=" ",O=new RegExp("\r","g"),D=new RegExp("\n","g"),T=new RegExp("^\n","g"),N=new RegExp(E,"g"),I=new RegExp("&#13;?","g"),M=new RegExp("&#8203;?","g"),P=["bold","bolder","500","600","700","800","900"],B=["light","lighter","normal","100","200","300","400"],A=["className","href","rel","target","title"],R=["alt","className","height","src","width"],j=(i={},o(i,d("public/DraftStyleDefault/depth0"),0),o(i,d("public/DraftStyleDefault/depth1"),1),o(i,d("public/DraftStyleDefault/depth2"),2),o(i,d("public/DraftStyleDefault/depth3"),3),o(i,d("public/DraftStyleDefault/depth4"),4),i),L=v({b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE",mark:"HIGHLIGHT"}),F=function(e){var t={};return e.mapKeys(function(e,n){var r=[n.element];void 0!==n.aliasedElements&&r.push.apply(r,n.aliasedElements),r.forEach(function(n){void 0===t[n]?t[n]=e:"string"==typeof t[n]?t[n]=[t[n],e]:t[n].push(e)})}),v(t)},K=function(e){if(x(e)){var t=e;if(t.style.fontFamily.includes("monospace"))return"CODE"}return null},z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object.keys(j).some(function(n){e.classList.contains(n)&&(t=j[n])}),t},U=function(e){if(!w(e))return!1;var t=e;if(!t.href||"http:"!==t.protocol&&"https:"!==t.protocol&&"mailto:"!==t.protocol&&"tel:"!==t.protocol)return!1;try{new f(t.href);return!0}catch(e){return!1}},V=function(e){if(!S(e))return!1;var t=e;return!(!t.attributes.getNamedItem("src")||!t.attributes.getNamedItem("src").value)},H=function(e,t){if(!x(e))return t;var n=e,r=n.style.fontWeight,o=n.style.fontStyle,i=n.style.textDecoration;return t.withMutations(function(e){P.indexOf(r)>=0?e.add("BOLD"):B.indexOf(r)>=0&&e.remove("BOLD"),"italic"===o?e.add("ITALIC"):"normal"===o&&e.remove("ITALIC"),"underline"===i&&e.add("UNDERLINE"),"line-through"===i&&e.add("STRIKETHROUGH"),"none"===i&&(e.remove("UNDERLINE"),e.remove("STRIKETHROUGH"))})},W=function(e){return"ul"===e||"ol"===e},q=function(){function e(e,t){o(this,"characterList",m()),o(this,"currentBlockType","unstyled"),o(this,"currentDepth",0),o(this,"currentEntity",null),o(this,"currentText",""),o(this,"wrapper",null),o(this,"blockConfigs",[]),o(this,"contentBlocks",[]),o(this,"entityMap",c),o(this,"blockTypeMap",void 0),o(this,"disambiguate",void 0),this.clear(),this.blockTypeMap=e,this.disambiguate=t}var t=e.prototype;return t.clear=function(){this.characterList=m(),this.blockConfigs=[],this.currentBlockType="unstyled",this.currentDepth=0,this.currentEntity=null,this.currentText="",this.entityMap=c,this.wrapper=null,this.contentBlocks=[]},t.addDOMNode=function(e){var t;return this.contentBlocks=[],this.currentDepth=0,(t=this.blockConfigs).push.apply(t,this._toBlockConfigs([e],b())),this._trimCurrentText(),""!==this.currentText&&this.blockConfigs.push(this._makeBlockConfig()),this},t.getContentBlocks=function(){return 0===this.contentBlocks.length&&(k?this._toContentBlocks(this.blockConfigs):this._toFlatContentBlocks(this.blockConfigs)),{contentBlocks:this.contentBlocks,entityMap:this.entityMap}},t._makeBlockConfig=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.key||p(),n=r({key:t,type:this.currentBlockType,text:this.currentText,characterList:this.characterList,depth:this.currentDepth,parent:null,children:m(),prevSibling:null,nextSibling:null,childConfigs:[]},e);return this.characterList=m(),this.currentBlockType="unstyled",this.currentText="",n},t._toBlockConfigs=function(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r],i=o.nodeName.toLowerCase();if("body"===i||W(i)){this._trimCurrentText(),""!==this.currentText&&n.push(this._makeBlockConfig());var a=this.currentDepth,s=this.wrapper;W(i)&&(this.wrapper=i,W(s)&&this.currentDepth++),n.push.apply(n,this._toBlockConfigs(Array.from(o.childNodes),t)),this.currentDepth=a,this.wrapper=s}else{var l=this.blockTypeMap.get(i);if(void 0===l)if("#text"!==i)if("br"!==i)if(V(o))this._addImgNode(o,t);else if(U(o))this._addAnchorNode(o,n,t);else{var u=t;L.has(i)&&(u=u.add(L.get(i))),u=H(o,u);var c=K(o);null!=c&&(u=u.add(c)),n.push.apply(n,this._toBlockConfigs(Array.from(o.childNodes),u))}else this._addBreakNode(o,t);else this._addTextNode(o,t);else{this._trimCurrentText(),""!==this.currentText&&n.push(this._makeBlockConfig());var f=this.currentDepth,d=this.wrapper;if(this.wrapper="pre"===i?"pre":this.wrapper,"string"!=typeof l&&(l=this.disambiguate(i,this.wrapper)||l[0]||"unstyled"),!k&&x(o)&&("unordered-list-item"===l||"ordered-list-item"===l)){var h=o;this.currentDepth=z(h,this.currentDepth)}var g=p(),y=this._toBlockConfigs(Array.from(o.childNodes),t);this._trimCurrentText(),n.push(this._makeBlockConfig({key:g,childConfigs:y,type:l})),this.currentDepth=f,this.wrapper=d}}}return n},t._appendText=function(e,t){var n;this.currentText+=e;var r=a.create({style:t,entity:this.currentEntity});this.characterList=(n=this.characterList).push.apply(n,Array(e.length).fill(r))},t._trimCurrentText=function(){var e=this.currentText.length,t=e-this.currentText.trimLeft().length,n=this.currentText.trimRight().length,r=this.characterList.findEntry(function(e){return null!==e.getEntity()});t=void 0!==r?Math.min(t,r[0]):t,r=this.characterList.reverse().findEntry(function(e){return null!==e.getEntity()}),n=void 0!==r?Math.max(n,e-r[0]):n,t>n?(this.currentText="",this.characterList=m()):(this.currentText=this.currentText.slice(t,n),this.characterList=this.characterList.slice(t,n))},t._addTextNode=function(e,t){var n=e.textContent,r=n.trim();
""===r&&"pre"!==this.wrapper&&(n=" "),"pre"!==this.wrapper&&(n=n.replace(T,""),n=n.replace(D,C)),this._appendText(n,t)},t._addBreakNode=function(e,t){_(e)&&this._appendText("\n",t)},t._addImgNode=function(e,t){if(S(e)){var n=e,r={};R.forEach(function(e){var t=n.getAttribute(e);t&&(r[e]=t)}),this.currentEntity=this.entityMap.__create("IMAGE","IMMUTABLE",r),g("draftjs_fix_paste_for_img")?"presentation"!==n.getAttribute("role")&&this._appendText("📷",t):this._appendText("📷",t),this.currentEntity=null}},t._addAnchorNode=function(e,t,n){if(w(e)){var r=e,o={};A.forEach(function(e){var t=r.getAttribute(e);t&&(o[e]=t)}),o.url=new f(r.href).toString(),this.currentEntity=this.entityMap.__create("LINK","MUTABLE",o||{}),t.push.apply(t,this._toBlockConfigs(Array.from(e.childNodes),n)),this.currentEntity=null}},t._toContentBlocks=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.length-1,o=0;o<=n;o++){var i=e[o];i.parent=t,i.prevSibling=o>0?e[o-1].key:null,i.nextSibling=o<n?e[o+1].key:null,i.children=m(i.childConfigs.map(function(e){return e.key})),this.contentBlocks.push(new l(r({},i))),this._toContentBlocks(i.childConfigs,i.key)}},t._hoistContainersInBlockConfigs=function(e){var t=this,n=m(e).flatMap(function(e){return"unstyled"!==e.type||""!==e.text?[e]:t._hoistContainersInBlockConfigs(e.childConfigs)});return n},t._toFlatContentBlocks=function(e){var t=this,n=this._hoistContainersInBlockConfigs(e);n.forEach(function(e){var n=t._extractTextFromBlockConfigs(e.childConfigs),o=n.text,i=n.characterList;t.contentBlocks.push(new s(r({},e,{text:e.text+o,characterList:e.characterList.concat(i)})))})},t._extractTextFromBlockConfigs=function(e){for(var t=e.length-1,n="",r=m(),o=0;o<=t;o++){var i=e[o];n+=i.text,r=r.concat(i.characterList),""!==n&&"unstyled"!==i.type&&(n+="\n",r=r.push(r.last()));var a=this._extractTextFromBlockConfigs(i.childConfigs);n+=a.text,r=r.concat(a.characterList)}return{text:n,characterList:r}},e}(),Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;e=e.trim().replace(O,"").replace(N,C).replace(I,"").replace(M,"");var r=t(e);if(!r)return null;var o=F(n),i=function(e,t){return"li"===e?"ol"===t?"ordered-list-item":"unordered-list-item":null};return new q(o,i).addDOMNode(r).getContentBlocks()};e.exports=Y},function(e,t){"use strict";function n(e){return null!=e&&""!=e}e.exports={notEmptyKey:n}},function(e,t,n){"use strict";function r(e){if(e._blockSelectEvents||e._latestEditorState!==e.props.editorState){if(e._blockSelectEvents){var t=e.props.editorState,n=t.getSelection();o.logBlockedSelectionEvent({anonymizedDom:"N/A",extraParams:JSON.stringify({stacktrace:(new Error).stack}),selectionState:JSON.stringify(n.toJS())})}}else{var r=e.props.editorState,l=s(r,a(e)),u=l.selectionState;u!==r.getSelection()&&(r=l.needsRecovery?i.forceSelection(r,u):i.acceptSelection(r,u),e.update(r))}}var o=n(59),i=n(6),a=n(66),s=n(68);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.editorContainer;t?void 0:o(!1),i(t.firstChild)?void 0:o(!1);var n=t.firstChild;return n}var o=n(4),i=n(23);e.exports=r},function(e,t,n){"use strict";function r(e){return f&&e.altKey||h(e)}function o(e){return p(e)?e.shiftKey?"redo":"undo":null}function i(e){return!f&&e.shiftKey?null:r(e)?"delete-word":"delete"}function a(e){return p(e)&&f?"backspace-to-start-of-line":r(e)?"backspace-word":"backspace"}function s(e){switch(e.keyCode){case 66:return p(e)?"bold":null;case 68:return h(e)?"delete":null;case 72:return h(e)?"backspace":null;case 73:return p(e)?"italic":null;case 74:return p(e)?"code":null;case 75:return f&&h(e)?"secondary-cut":null;case 77:return h(e)?"split-block":null;case 79:return h(e)?"split-block":null;case 84:return f&&h(e)?"transpose-characters":null;case 85:return p(e)?"underline":null;case 87:return f&&h(e)?"backspace-word":null;case 89:return h(e)?f?"secondary-paste":"redo":null;case 90:return o(e)||null;case u.RETURN:return"split-block";case u.DELETE:return i(e);case u.BACKSPACE:return a(e);case u.LEFT:return d&&p(e)?"move-selection-to-start-of-block":null;case u.RIGHT:return d&&p(e)?"move-selection-to-end-of-block":null;default:return null}}var l=n(43),u=n(31),c=n(8),f=c.isPlatform("Mac OS X"),d=f&&c.isBrowser("Firefox < 29"),p=l.hasCommandModifier,h=l.isCtrlKeyCommand;e.exports=s},function(e,t,n){"use strict";function r(e,t){var n=t.ownerDocument.defaultView.getSelection(),r=n.anchorNode,i=n.anchorOffset,a=n.focusNode,s=n.focusOffset,l=n.rangeCount;return 0===l||null==r||null==a?{selectionState:e.getSelection().set("hasFocus",!1),needsRecovery:!1}:o(e,t,r,i,a,s)}var o=n(69);e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r,o,i){var s=n.nodeType===Node.TEXT_NODE,u=o.nodeType===Node.TEXT_NODE;if(s&&u)return{selectionState:c(e,p(l(n)),r,p(l(o)),i),needsRecovery:!1};var f=null,d=null,h=!0;return s?(f={key:p(l(n)),offset:r},d=a(t,o,i)):u?(d={key:p(l(o)),offset:i},f=a(t,n,r)):(f=a(t,n,r),d=a(t,o,i),n===o&&r===i&&(h=!!n.firstChild&&"BR"!==n.firstChild.nodeName)),{selectionState:c(e,f.key,f.offset,d.key,d.offset),needsRecovery:h}}function o(e){for(;e.firstChild&&(d(e.firstChild)&&"true"===e.firstChild.getAttribute("data-blocks")||u(e.firstChild));)e=e.firstChild;return e}function i(e){for(;e.lastChild&&(d(e.lastChild)&&"true"===e.lastChild.getAttribute("data-blocks")||u(e.lastChild));)e=e.lastChild;return e}function a(e,t,n){var r=t,a=l(r);if(null!=a||e&&(e===r||e.firstChild===r)?void 0:f(!1),e===r){r=r.firstChild,d(r)?void 0:f(!1);var c=r;r=c,"true"!==r.getAttribute("data-contents")?f(!1):void 0,n>0&&(n=r.childNodes.length)}if(0===n){var h=null;if(null!=a)h=a;else{var g=o(r);h=p(u(g))}return{key:h,offset:0}}var y=r.childNodes[n-1],m=null,v=null;if(u(y)){var b=i(y);m=p(u(b)),v=s(b)}else m=p(a),v=s(y);return{key:m,offset:v}}function s(e){var t=e.textContent;return"\n"===t?0:t.length}var l=n(27),u=n(75),c=n(77),f=n(4),d=n(17),p=n(9);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.getSelection();return t.isCollapsed()?null:o(e.getCurrentContent(),t)}var o=n(28);e.exports=r},function(e,t,n){"use strict";var r=n(11),o=function(e,t){var n=e instanceof r;if(!n)return null;var o=e.getNextSiblingKey();if(o)return o;var i=e.getParentKey();if(!i)return null;for(var a=t.get(i);a&&!a.getNextSiblingKey();){var s=a.getParentKey();a=s?t.get(s):null}return a?a.getNextSiblingKey():null};e.exports=o},function(e,t){"use strict";function n(e){return Object.keys(e).map(function(t){return e[t]})}e.exports=n},function(e,t,n){"use strict";function r(e){for(var t=e.cloneRange(),n=[],r=e.endContainer;null!=r;r=r.parentNode){var o=r===e.commonAncestorContainer;o?t.setStart(e.startContainer,e.startOffset):t.setStart(t.endContainer,0);var a=Array.from(t.getClientRects());if(n.push(a),o){var s;return n.reverse(),(s=[]).concat.apply(s,n)}t.setEndBefore(r)}i(!1)}var o=n(8),i=n(4),a=o.isBrowser("Chrome"),s=a?r:function(e){return Array.from(e.getClientRects())};e.exports=s},function(e,t,n){"use strict";function r(e){var t,n=null;return!a&&document.implementation&&document.implementation.createHTMLDocument&&(t=document.implementation.createHTMLDocument("foo"),t.documentElement?void 0:i(!1),t.documentElement.innerHTML=e,n=t.getElementsByTagName("body")[0]),n}var o=n(8),i=n(4),a=o.isBrowser("IE <= 9");e.exports=r},function(e,t,n){"use strict";function r(e){if(o(e)){var t=e,n=t.getAttribute("data-offset-key");if(n)return n;for(var i=0;i<t.childNodes.length;i++){var a=r(t.childNodes[i]);if(a)return a}}return null}var o=n(17);e.exports=r},function(e,t,n){(function(t){"use strict";function r(e,t){var n=0,r=[];e.forEach(function(i){o(i,function(o){n++,o&&r.push(o.slice(0,l)),n==e.length&&t(r.join("\r"))})})}function o(e,n){if(!t.FileReader||e.type&&!(e.type in s))return void n("");if(""===e.type){var r="";return a.test(e.name)&&(r=e.name.replace(a,"")),void n(r)}var o=new FileReader;o.onload=function(){var e=o.result;"string"!=typeof e?i(!1):void 0,n(e)},o.onerror=function(){n("")},o.readAsText(e)}var i=n(4),a=/\.textClipping$/,s={"text/plain":!0,"text/html":!0,"text/rtf":!0},l=5e3;e.exports=r}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e,t,n,r,a){var s=i(e.getSelection());if(!t||!r)return s;var l=o.decode(t),u=l.blockKey,c=e.getBlockTree(u),f=c&&c.getIn([l.decoratorKey,"leaves",l.leafKey]),d=o.decode(r),p=d.blockKey,h=e.getBlockTree(p),g=h&&h.getIn([d.decoratorKey,"leaves",d.leafKey]);if(!f||!g)return s;var y=f.get("start"),m=g.get("start"),v=f?y+n:null,b=g?m+a:null,w=s.getAnchorKey()===u&&s.getAnchorOffset()===v&&s.getFocusKey()===p&&s.getFocusOffset()===b;if(w)return s;var _=!1;if(u===p){var x=f.get("end"),S=g.get("end");_=m===y&&S===x?a<n:m<y}else{var k=e.getCurrentContent().getBlockMap().keySeq().skipUntil(function(e){return e===u||e===p}).first();_=k===p}return s.merge({anchorKey:u,anchorOffset:v,focusKey:p,focusOffset:b,isBackward:_})}var o=n(14),i=n(9);e.exports=r},function(e,t){"use strict";function n(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window}e.exports=n},function(e,t){"use strict";function n(e,t,n){var r=e;if(n===r.count())t.forEach(function(e){r=r.push(e)});else if(0===n)t.reverse().forEach(function(e){r=r.unshift(e)});else{var o=r.slice(0,n),i=r.slice(n);r=o.concat(t,i).toList()}return r}e.exports=n},function(e,t,n){"use strict";function r(e){return!(!e||!e.ownerDocument)&&(o(e)&&"BR"===e.nodeName)}var o=n(17);e.exports=r},function(e,t,n){"use strict";function r(e){var t=s(e,function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),o=t.getAnchorOffset(),s=n.getBlockForKey(r).getText()[o-1];return a(e,s?i.getUTF16Length(s,0):1)},"backward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return o.push(e,t.set("selectionBefore",n),n.isCollapsed()?"backspace-character":"remove-range")}var o=n(6),i=n(18),a=n(45),s=n(24);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r=t.getStartKey(),o=t.getEndKey(),a=e.getBlockMap(),s=a.toSeq().skipUntil(function(e,t){return t===r}).takeUntil(function(e,t){return t===o}).concat(i([[o,a.get(o)]])).map(n);return e.merge({blockMap:a.merge(s),selectionBefore:t,selectionAfter:t})}var o=n(3),i=o.Map;e.exports=r},function(e,t,n){"use strict";function r(e,t){var n,r=e.getSelection(),o=r.getStartKey(),i=r.getStartOffset(),a=e.getCurrentContent(),s=o,l=a.getBlockForKey(o);return t>l.getText().length-i?(s=a.getKeyAfter(o),n=0):n=i+t,r.merge({focusKey:s,focusOffset:n})}n(49);e.exports=r},function(e,t,n){"use strict";var r=n(11),o=n(12),i=n(3),a=i.OrderedMap,s=function(e){var t,n={};return a(e.withMutations(function(e){e.forEach(function(r,i){var a=r.getKey(),s=r.getNextSiblingKey(),l=r.getPrevSiblingKey(),u=r.getChildKeys(),c=r.getParentKey(),f=o();if(n[a]=f,s){var d=e.get(s);d?e.setIn([s,"prevSibling"],f):e.setIn([a,"nextSibling"],null)}if(l){var p=e.get(l);p?e.setIn([l,"nextSibling"],f):e.setIn([a,"prevSibling"],null)}if(c&&e.get(c)){var h=e.get(c),g=h.getChildKeys();e.setIn([c,"children"],g.set(g.indexOf(r.getKey()),f))}else e.setIn([a,"parent"],null),t&&(e.setIn([t.getKey(),"nextSibling"],f),e.setIn([a,"prevSibling"],n[t.getKey()])),t=e.get(a);u.forEach(function(t){var n=e.get(t);n?e.setIn([t,"parent"],f):e.setIn([a,"children"],r.getChildKeys().filter(function(e){return e!==t}))})})}).toArray().map(function(e){return[n[e.getKey()],e.set("key",n[e.getKey()])]}))},l=function(e){return a(e.toArray().map(function(e){var t=o();return[t,e.set("key",t)]}))},u=function(e){var t=e.first()instanceof r;return t?s(e):l(e)};e.exports=u},function(e,t,n){"use strict";function r(e,t){var n=e.getBlockMap(),r=e.getEntityMap(),o={},a=t.getStartKey(),s=t.getStartOffset(),l=n.get(a),u=i(r,l,s);u!==l&&(o[a]=u);var c=t.getEndKey(),f=t.getEndOffset(),d=n.get(c);a===c&&(d=u);var p=i(r,d,f);return p!==d&&(o[c]=p),Object.keys(o).length?e.merge({blockMap:n.merge(o),selectionAfter:t}):e.set("selectionAfter",t)}function o(e,t,n){var r;return s(e,function(e,t){return e.getEntity()===t.getEntity()},function(e){return e.getEntity()===t},function(e,t){e<=n&&t>=n&&(r={start:e,end:t})}),"object"!=typeof r?l(!1):void 0,r}function i(e,t,n){var r=t.getCharacterList(),i=n>0?r.get(n-1):void 0,s=n<r.count()?r.get(n):void 0,l=i?i.getEntity():void 0,u=s?s.getEntity():void 0;if(u&&u===l){var c=e.__get(u);if("MUTABLE"!==c.getMutability()){for(var f,d=o(r,u,n),p=d.start,h=d.end;p<h;)f=r.get(p),r=r.set(p,a.applyEntity(f,null)),p++;return t.set("characterList",r)}}return t}var a=n(10),s=n(22),l=n(4);e.exports=r},function(e,t){"use strict";function n(e){return e.replace(r,"")}var r=new RegExp("\r","g");e.exports=n},function(e,t,n){"use strict";function r(e){if("file"==e.kind)return e.getAsFile()}var o=n(205),i=n(212),a=n(88),s=new RegExp("\r\n","g"),l="\n",u={"text/rtf":1,"text/html":1},c=function(){function e(e){this.data=e,this.types=e.types?i(e.types):[]}var t=e.prototype;return t.isRichText=function(){return!(!this.getHTML()||!this.getText())||!this.isImage()&&this.types.some(function(e){return u[e]})},t.getText=function(){var e;return this.data.getData&&(this.types.length?this.types.indexOf("text/plain")!=-1&&(e=this.data.getData("text/plain")):e=this.data.getData("Text")),e?e.replace(s,l):null},t.getHTML=function(){if(this.data.getData){if(!this.types.length)return this.data.getData("Text");if(this.types.indexOf("text/html")!=-1)return this.data.getData("text/html")}},t.isLink=function(){return this.types.some(function(e){return e.indexOf("Url")!=-1||e.indexOf("text/uri-list")!=-1||e.indexOf("text/x-moz-url")})},t.getLink=function(){if(this.data.getData){if(this.types.indexOf("text/x-moz-url")!=-1){var e=this.data.getData("text/x-moz-url").split("\n");return e[0]}return this.types.indexOf("text/uri-list")!=-1?this.data.getData("text/uri-list"):this.data.getData("url")}return null},t.isImage=function e(){var e=this.types.some(function(e){return e.indexOf("application/x-moz-file")!=-1});if(e)return!0;for(var t=this.getFiles(),n=0;n<t.length;n++){var r=t[n].type;if(!o.isImage(r))return!1}return!0},t.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},t.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(r).filter(a.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},t.hasFiles=function(){return this.getFiles().length>0},e}();e.exports=c},function(e,t){"use strict";function n(e){return function(){return e}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t){"use strict";function n(e){if(e=e||("undefined"!=typeof document?document:void 0),"undefined"==typeof e)return null;try{return e.activeElement||e.body}catch(t){return e.body}}e.exports=n},function(e,t,n){"use strict";function r(e){var t=o(e);return{x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top}}var o=n(214);e.exports=r},function(e,t){"use strict";function n(){var e;return document.documentElement&&(e=document.documentElement.clientWidth),!e&&document.body&&(e=document.body.clientWidth),e||0}function r(){var e;return document.documentElement&&(e=document.documentElement.clientHeight),!e&&document.body&&(e=document.body.clientHeight),e||0}function o(){return{width:window.innerWidth||n(),height:window.innerHeight||r()}}o.withoutScrollbars=function(){return{width:n(),height:r()}},e.exports=o},function(e,t,n){"use strict";function r(){}function o(e){try{return e.then}catch(e){return m=e,v}}function i(e,t){try{return e(t)}catch(e){return m=e,v}}function a(e,t,n){try{e(t,n)}catch(e){return m=e,v}}function s(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._45=0,this._81=0,this._65=null,this._54=null,e!==r&&g(e,this)}function l(e,t,n){return new e.constructor(function(o,i){var a=new s(r);a.then(o,i),u(e,new h(t,n,a))})}function u(e,t){for(;3===e._81;)e=e._65;return s._10&&s._10(e),0===e._81?0===e._45?(e._45=1,void(e._54=t)):1===e._45?(e._45=2,void(e._54=[e._54,t])):void e._54.push(t):void c(e,t)}function c(e,t){y(function(){var n=1===e._81?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._81?f(t.promise,e._65):d(t.promise,e._65));var r=i(n,e._65);r===v?d(t.promise,m):f(t.promise,r)})}function f(e,t){if(t===e)return d(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var n=o(t);if(n===v)return d(e,m);if(n===e.then&&t instanceof s)return e._81=3,e._65=t,void p(e);if("function"==typeof n)return void g(n.bind(t),e)}e._81=1,e._65=t,p(e)}function d(e,t){e._81=2,e._65=t,s._97&&s._97(e,t),p(e)}function p(e){if(1===e._45&&(u(e,e._54),e._54=null),2===e._45){for(var t=0;t<e._54.length;t++)u(e,e._54[t]);e._54=null}}function h(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function g(e,t){var n=!1,r=a(e,function(e){n||(n=!0,f(t,e))},function(e){n||(n=!0,d(t,e))});n||r!==v||(n=!0,d(t,m))}var y=n(94),m=null,v={};e.exports=s,s._10=null,s._97=null,s._61=r,s.prototype.then=function(e,t){if(this.constructor!==s)return l(this,e,t);var n=new s(r);return u(this,new h(e,t,n)),n}},function(e,t,n){"use strict";function r(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}r(),e.exports=n(228)},function(e,t){(function(t){"use strict";function n(e){s.length||(a(),l=!0),s[s.length]=e}function r(){for(;u<s.length;){var e=u;if(u+=1,s[e].call(),u>c){for(var t=0,n=s.length-u;t<n;t++)s[t]=s[t+u];s.length-=u,u=0}}s.length=0,u=0,l=!1}function o(e){var t=1,n=new d(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}function i(e){return function(){function t(){clearTimeout(n),clearInterval(r),e()}var n=setTimeout(t,0),r=setInterval(t,50)}}e.exports=n;var a,s=[],l=!1,u=0,c=1024,f="undefined"!=typeof t?t:self,d=f.MutationObserver||f.WebKitMutationObserver;a="function"==typeof d?o(r):i(r),n.requestFlush=a,n.makeRequestCallFromTimer=i}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=r(s),u=n(5),c=r(u),f=n(2),d=r(f),p=n(50),h=r(p),g=n(97),y=r(g),m=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return v.call(n),(0,c.default)(n),n.frameStyle=Object.assign({},n.props.frameStyle,{position:"fixed"}),n.docProps=n.props.docProps||{},n.minimized=n.pont=n.props.pont,n.title=n.props.title,n.pageName=n.props.pageName,n.owner=n.props.owner,n.x1=n.y1=0,n}return a(t,e),t}(l.default.Component),v=function(){var e=this;this.componentDidMount=function(){e.props.resize&&(e.rsAvatar=e.owner.mainDoc.sovaPagesByName.rsAvatar,e.rsAvatar&&(e.busy=!0,setTimeout(function(){e.busy=!1,e.forceUpdate()},500)))},this.UNSAFE_componentWillUpdate=function(){if(e.rsAvatar&&!e.busy&&!e.minimized&&e.owner.zIndex===e.pageName){var t=e.frameStyle,n=t.top,r=t.left,o=t.width,i=t.height;n+=i-10,r+=o-10,e.rsAvatar.frameStyle={top:n,left:r,display:"block"},e.rsAvatar.linkedRedraw=e.changeSize.bind(e),e.rsAvatar.forceUpdate()}},this.changeSize=function(t){var n=t.clientX-e.rsAvatar.x0,r=t.clientY-e.rsAvatar.y0;e.frameStyle.width+n>230&&(e.frameStyle.width+=n),e.frameStyle.height+r>100&&(e.frameStyle.height+=r),e.rsAvatar.x0=t.clientX,e.rsAvatar.y0=t.clientY,e.forceUpdate()},this.onblur=function(t){return d.default.runCmd(e.owner,"pageBlur",e.pageName,t)},this.closeDoc=function(){e.props.show&&e.props.show.cmCancel&&e.props.show.cmCancel(),e.closePage()},this.closePage=function(t){t&&(t.stopPropagation(),t.preventDefault(),e.props.show&&e.props.show.cmCancel&&e.props.show.cmCancel());var n=e.owner,r=e.pageName;if(e.props.hide)return e.frameStyle.display="none",e.forceUpdate(),void d.default.runCmd(n,"pageHide",r);e.doc&&d.default.runCmd(e.doc,"clsPage",r),d.default.runCmd(n,"clsPage",r);var o=n.zIndexArr.length;if(n.zIndexArr.splice(n.zIndexArr.indexOf(r),1),delete n.sovaPagesByName[r],o=n.zIndexArr.length,n.zIndex=o?n.zIndexArr[o-1]:"",n.sovaPages.splice(e.props.zi,1),n.sovaPagesRef.splice(e.props.zi,1),o&&n.sovaPagesByName[n.zIndex].doc)setTimeout(function(e){return d.default.setFocus(n.sovaPagesByName[n.zIndex].doc,"*")},100);else{var i=e.props.focus2||"*";setTimeout(function(e){return d.default.setFocus(n,i)},100)}n.forceUpdate()},this.maxPage=function(t,n){t.stopPropagation(),t.preventDefault();var r=e.doc,o="info"==r.props.form?"edit":"read",i=e.props.iframeUrl||r.sova&&r.sova.maxPage&&r.sova.maxPage(r)||"opendoc?dbAlias="+r.dbAlias+"&unid="+r.unid+"&mode="+o+"&form="+r.props.form;d.default.xopen(i)},this.minPage=function(t){t.stopPropagation(),t.preventDefault(),e.minimized=!0,e.rsAvatar&&(e.rsAvatar.frameStyle.display="none",e.rsAvatar.forceUpdate()),e.owner.forceUpdate()},this.printPage=function(t,n){t.stopPropagation(),t.preventDefault(),e.doc.iframe&&e.doc.iframe.contentWindow.print()},this.dragOrRestore=function(t){if(!t||(t.stopPropagation(),t.preventDefault(),"_dragOrRestore_"===t.target.getAttribute("name"))){var n=e.owner,r=e.pageName;n.zIndexArr[n.zIndexArr.length-1]!==r&&(n.zIndexArr.includes(r)&&n.zIndexArr.splice(n.zIndexArr.indexOf(r),1),n.zIndexArr.push(r)),n.zIndex=r,e.minimized?(e.frameStyle.transition="all 500ms ease",e.minimized=!1,e.props.resize&&(setTimeout(function(){var t=e.frameStyle,n=t.top,r=t.left,o=t.width,i=t.height;n+=i-10,r+=o-10,e.rsAvatar.frameStyle={top:n,left:r,display:"block"},e.rsAvatar.forceUpdate(),e.rsAvatar.linkedRedraw=e.changeSize.bind(e),e.busy=!1},500),e.busy=!0),setTimeout(function(){e.frameStyle.transition&&delete e.frameStyle.transition},500)):(e.x1=t.clientX,e.y1=t.clientY,n.dragStart=r),n.forceUpdate()}},this.addDoc=function(t){t&&(e.doc=t,e.doc.page=e)},this.redraw=function(t,n){e.linkedRedraw&&e.linkedRedraw(t,n),e.forceUpdate()},this.render=function(){if(e.props.avatar)return l.default.createElement("div",Object.assign({},d.default._on_(e.props),{className:e.props.className,style:Object.assign({},e.frameStyle),tabIndex:"1"}));var t=void 0,n=void 0,r=void 0,o=void 0,i=void 0,a=void 0,s=void 0,u="pageFrame",c="pageBody";if(e.minimized)a={position:"fixed",width:100,height:25,zIndex:1e4,transition:"all 0.5s ease"},e.pont?(e.frameStyle.top+=50,a.top=e.frameStyle.top,a.left=e.frameStyle.left,a.width=a.height=1,e.minimized=e.pont=!1):"rightTop"===e.props.smallCls?(a.top=50,a.right=0):"leftTop"===e.props.smallCls?(a.top=50,a.left=0):(a.top="calc(100vh - 25px)",a.left=105*e.props.zi),setTimeout(function(t){e.frameStyle.transition&&delete e.frameStyle.transition},1e3);else{s=e.owner.dragStart===e.pageName;var f=e.owner.zIndex===e.pageName?999:e.owner.zIndexArr.indexOf(e.pageName)+700;a=Object.assign({},e.frameStyle,{zIndex:f,background:s?"rgba(0,0,0, 0.2)":e.frameStyle.background||"#fff"}),r=e.props.max?l.default.createElement("div",{className:"dlgMaxButton",title:"Открыть в новой вкладке",onClick:e.maxPage},"▲"):null,o=e.props.min?l.default.createElement("div",{className:"dlgMinButton",title:"Сложить",onClick:e.minPage},"_"):null,i=e.props.print?l.default.createElement("div",{className:"dlgPrintButton",title:"Print",onClick:e.printPage},"Печать"):null;var p=r||o||i?" dlgClsR":"",g=e.props.hide?"Скрыть":e.props.smallCls?"Закрыть (Esc)":"Esc";n=e.props.smallCls?l.default.createElement("div",{className:"dlgCloseButton"+p,title:g,onClick:e.closePage},"×"):l.default.createElement("div",{className:"dlgCloseButtonBig"+p,title:g,onClick:e.closePage},"Закрыть ×"),isNaN(a.left)&&delete a.left}e.props.withoutHat?(u="",c=""):t=l.default.createElement("div",{className:"dlgTitleBar",name:"_dragOrRestore_",style:{cursor:e.minimized?"pointer":"move"},onMouseDown:e.dragOrRestore},e.title||"Multi-page",n," ",r," ",o," ",i);var m=Object.assign({},e.props,e.docProps);delete m.key;var v=l.default.createElement("div",{className:u,style:a,onBlur:e.onblur},t,l.default.createElement("div",{className:c,style:{display:s||e.minimized?"none":"block"}},"MsgBox"===e.pageName?l.default.createElement(y.default,{show:e.props.show,doc:e.owner,ref:e.addDoc}):l.default.createElement(h.default,Object.assign({key:e.docProps.unid},m,{closeDoc:e.closeDoc,ref:e.addDoc}))));return e.props.modal?l.default.createElement("div",{className:"modal"},v):v}};t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=n(1),u=r(l),c=n(5),f=r(c),d=n(2),p=r(d),h=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onclick=function(e,t,r,o){n.onblur(e),n.callBack(t,r,n.callBackParam,o)},n.onblur=function(e){e.stopPropagation(),e.preventDefault(),n.setState({isOpen:!1})},n.show=function(e,t,r,o,i){if(t){var a=i||200,l=25*t.length+5,c=[e.clientX,e.clientY],f=c[0],d=c[1],h=window.document.getElementById("root"),g=[h.offsetHeight,h.offsetWidth],y=g[0],m=g[1];d=y-d>l?d:d-l,f=m-f>a+40?f:f-a,n.ctxStyle={top:d,left:f,height:l,width:a},n.callBack=r,n.callBackParam=o,n.items=t.map(function(e,t){var r=p.default.partition(e,"|"),o=s(r,2),i=o[0],a=o[1],l=t;return u.default.createElement("div",{key:l,onClick:function(e){return n.onclick(e,i,a,l)}},i)}),n.setState({isOpen:!0}),setTimeout(function(){return n.state.isOpen&&n.dom.current.focus()},100)}},n.render=function(){return n.state.isOpen?u.default.createElement("div",{tabIndex:"1",ref:n.dom,className:"contextMenu",style:n.ctxStyle,onBlur:n.onblur},n.items):null},(0,f.default)(n),n.state={isOpen:!1},n.items=[],n.dom=u.default.createRef(),n}return a(t,e),t}(u.default.Component);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),f=n(5),d=r(f),p=n(51),h=r(p),g=n(2),y=r(g),m=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.componentDidMount=function(){n.input&&n.text&&(n.input.value=n.text),n.lb?setTimeout(function(e){return n.input&&n.input.focus()},50):setTimeout(function(e){return n.focusBt&&n.focusBt.focus()},0)},n.btnClick=function(e){if(e&&n.cmButton)if(n.lb)if(n.items.length)if(n.multi){var t=n.checked.filter(function(e){return void 0!==e});t=t.map(function(e){return n.items[e].label+(n.items[e].opt?n.sep+n.items[e].opt:"")}),n.cmButton(t.join("\n"))}else{var r=n.items[n.mainSel].opt?n.sep+n.items[n.mainSel].opt:"";n.cmButton(n.items[n.mainSel].label+r)}else n.cmButton("");else n.cmButton(e);else!e&&n.cmCancel()},n.onkeydown=function(e){if(!e.ctrlKey){if(13===e.keyCode||27===e.keyCode)return n.btnClick(13===e.keyCode?n.result||n.lb:null),e.stopPropagation(),void e.preventDefault();if(n.lb){var t=0;switch(e.keyCode){case 32:return n.toggle(n.mainSel,e);case 38:n.state.sel&&(t=n.state.sel-1);break;case 40:t=Math.min(n.last,n.state.sel+1);break;case 33:t=Math.max(0,n.state.sel-10);break;case 34:t=Math.min(n.last,n.state.sel+10);break;case 36:if(e.ctrlKey)break;return;case 35:if(e.ctrlKey){t=n.last;break}return;case 9:t=n.state.sel;break;default:if(!e.ctrlKey&&!e.altKey)return}e.stopPropagation(),e.preventDefault();var r=n.filtered&&n.filtered[t]?n.filtered[t].ref.props.index:t;n.items[r]&&n.items[r].ref&&n.items[r].ref.getDom().focus(),n.setState({sel:t}),setTimeout(function(e){return n.input&&n.input.focus()},50)}}},n.onchange=function(e){n.text=e.target.value,n.setFilter(n.text),n.setState({sel:0})},(0,d.default)(n),n.input=null,n.register={},n.mainDiv=c.default.createRef(),n.show(n.props.show),n.state={dlgDataStyle:Object.assign({},n.props.show.dlgDataStyle,{display:"inline-block",background:"#fff"}),sel:n.checked[0]||0},n}return a(t,e),l(t,[{key:"show",value:function(e){var t=this;this.header=e.header,this.cmCancel=function(){e.cmCancel&&e.cmCancel(),t.page.closePage()},this.cmButton=function(n){e.cmButton(n),t.page.closePage()},this.lb=e.lb,this.info=e.info,this.multi=e.multi,this.checked=e.checked||[],this.result="",this.small=e.small,this.dlgInput=e.small?"1"===e.small?"dlgInput1":"dlgInput2":"dlgInput",this.lb?(this.sep=e.sep||"|",this.text=e.text,this.mainSel=-1,this.items=[],e.data.forEach(function(e,n){var r=y.default.partition(e,t.sep),o=s(r,2),i=o[0],a=o[1];t.items[n]={ref:null,label:i,opt:a}}),this.setFilter(this.text)):this.items=e.data.replace(/<br>/g,"\n").split("\n"),this.focusBt=null,this.buttons=(e.buttons||["OK+|1"]).map(function(e,n){var r=e.includes("+"),o=e.replace(/\+/g,"").split("|");return r&&(t.result=o[1]||""),c.default.createElement("button",{key:n,tabIndex:"1",style:"2"===t.small?{width:65,margin:7}:{width:105,marginBottom:10},onClick:function(){return t.btnClick(o[1])},onFocus:function(e){return t.result=o[1]||""},onBlur:function(e){return t.result=""},ref:function(e){r&&(t.focusBt=e)}},o[0])})}
},{key:"setFilter",value:function(e){if(this.filtered=null,e){var t=" («\"'-",n=e.toLowerCase();this.filtered=this.items.filter(function(e){var r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;if((l+e.label).toLowerCase().includes(l+n))return!0}}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return!1})}}},{key:"onclick",value:function(e){var t=this;this.setState({sel:e}),setTimeout(function(e){return t.input&&t.input.focus()},50)}},{key:"toggle",value:function(e,t){var n=this;if(this.multi){this.filtered=null,this.input.value="",this.text="";var r=this.checked.indexOf(e);r>=0?delete this.checked[r]:this.checked.push(e),this.setState({sel:e}),setTimeout(function(e){return n.input.focus()},100)}t.stopPropagation(),t.preventDefault()}},{key:"render",value:function(){var e=this;this.last=-1,this.mainSel=1;var t=this.items.map(function(t,n){return e.lb?e.filtered&&e.filtered.indexOf(e.items[n])<0?null:(e.last+=1,e.state.sel===e.last&&(e.mainSel=n),c.default.createElement(h.default,{key:""+(e.input&&e.input.value||"")+n,index:n,iShow:e.last,items:e.items,multi:e.multi,onclick:e.onclick,ondoubleclick:e.btnClick,toggle:e.toggle,sel:e.state.sel===e.last,ref:function(t){e.items&&(e.items[n].ref=t)},check:e.checked.includes(n),info:e.info,doc:e.props.doc})):c.default.createElement("div",{key:n},t||" ")});t=t.filter(function(e){return e});var n=this.lb?c.default.createElement("div",{style:{width:600,padding:4,color:"#004080",font:"bold 9pt Arial"}},"Поиск",c.default.createElement("br",null),c.default.createElement("input",{className:this.dlgInput,ref:function(t){return e.input=t},onKeyDown:this.onkeydown,onChange:this.onchange})):null,r=this.small?null:c.default.createElement("div",{className:"dlgButtons",style:{height:this.state.dlgDataStyle.height,display:"block"}},c.default.createElement("br",null),this.buttons),o=this.small?c.default.createElement("div",{style:{textAlign:"center",margin:"auto"}},this.buttons):null;return c.default.createElement("div",{onKeyDown:this.onkeydown,tabIndex:"1",ref:this.mainDiv},c.default.createElement("div",{style:{display:"block",width:"100%",height:this.state.dlgDataStyle.height+5,overflow:"hidden"}},c.default.createElement("div",{className:this.lb?"dlgList":"dlgData",style:Object.assign({},this.state.dlgDataStyle)},this.header?c.default.createElement("div",{className:"msgHeader"},this.header):null,t),r),n,o)}}]),t}(c.default.Component);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=r(s),u=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getDom=function(){return n.dom.current},n.render=function(e){var t={display:"table",width:"100%",tableLayout:"fixed",padding:2};return n.props.index%2&&!n.props.evenColor&&!n.state.sel&&(t.background="#f4f8ff"),l.default.createElement("div",{className:n.state.sel?"viewItemSel":"viewItem",ref:n.dom,tabIndex:"0",onClick:function(e){return n.props.toggle(n.props.index,e)},style:t},n.props.row)},n.state={sel:n.props.sel},n.dom=l.default.createRef(),n}return a(t,e),t}(l.default.Component);t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=n(1),u=r(l),c=n(5),f=r(c),d=n(2),p=r(d),h=n(100),g=r(h),y=n(37),m=n(52),v=n(38),b=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(w.call(n),(0,f.default)(n),n.cellsBoxes=[],n.floatBoxes=[],n.state={zIndex:1},n.cells=n.props.cells||[],n.boxes=n.props.boxes||[],n.tuning=Object.assign({},n.props.tuning,{hide0:!0}),n.type=n.props.type,n.floating=n.props.floating,n.column=n.props.column,n.row=n.props.row,n.box=n.props.box,n.rect=n.props.rect,n.pc_key=n.props.pc_key,n.dom=u.default.createRef(),n.props.xName){n.doc=n.props.doc,n.doc.pageBox=n,n.boxIndex=0,n.nextIndex=1;var r=JSON.parse(n.props.xValue);n.declare=r.declare,n.boxes=r.boxes,n.tuning=r.tuning||{},n.styleElement=document.createElement("style"),document.head.appendChild(n.styleElement)}else{n.parentBox=n.props.parentBox,n.doc=n.parentBox.doc;var a=n.doc.pageBox;if(n.props.boxIndex&&n.props.boxIndex<1e3){if(n.boxIndex=n.props.boxIndex,n.boxIndex%100===0){n.parentBox=null,n.doc.rootBox=n,a.nextIndex=10*n.boxIndex;var s=function e(t){a.nextIndex=Math.max(a.nextIndex,t.boxIndex),t.boxes&&t.boxes.forEach(function(t){return e(t)}),t.cells&&t.cells.forEach(function(t){return e(t)})};s(n),a.nextIndex++}}else n.boxIndex=n.props.boxIndex||a.nextIndex++,n.wasEditor=n.props.wasEditor}return n.boxClassName="box-style-"+n.boxIndex,n.settingIconRT=n.settingIcon3("fbi_"+n.boxIndex,"props rt","выделить блок"),n.settingIconLD=n.settingIcon3("fbi_"+n.boxIndex,"props ld","выделить блок"),n.settingIcon=n.settingIcon3("cmd_setting","props top","показать свойства блока"),n.settingIconEdit=n.settingIcon3("cmd_exitEdit","top2","выйти из редактирования"),n.glass=u.default.createElement("div",{className:"fill",style:{zIndex:1},onDoubleClick:n.dblCl,id:"c_9",onContextMenu:n.contextMenu}),n.mouse={onMouseMove:n.mouseMove,onTouchMove:n.mouseMove,onMouseDown:n.mouseDown,onTouchStart:n.mouseDown,onMouseUp:n.mouseUp,onTouchEnd:n.mouseUp,onMouseLeave:n.mouseMove},n}return a(t,e),t}(u.default.Component),w=function(){var e=this;this.dblCl=function(t){t.stopPropagation(),t.preventDefault(),!e.doc.readOnly&&setTimeout(function(){return e.setEditMode()},1)},this.contextMenu=function(t){t.stopPropagation(),t.preventDefault(),e.doc.contextMenu.show(t,["Вставить плавающий блок|insFloat","Вставить поле|insField","Вставить виджет|insVidget"],e.cmdFromContextMenu)},this.cmdFromContextMenu=function(t,n){switch(n){case"insFloat":(0,y.toHist)(e,"oldRect_insFloat"),e.boxes.push({floating:!0,rect:{left:10,top:10,width:100,height:100}}),e.toHistAfterRender="newRect_insFloat";break;case"insButton":alert("");break;case"insField":break;case"insVidget":break;default:return}e.forceUpdate()},this.getValue=function(){var t="",n=function e(n){n.editorStyle&&(t+=n.editorStyle),n.cellsBoxes.forEach(function(t){return e(t)}),n.floatBoxes.forEach(function(t){return e(t)})};return n(e.doc.pageBox),(0,y.saveAllRoots)(e.doc.pageBox)},this.changeScreen=function(t){var n=100*(t+1);if(e.tuning.screen!==n)for(var r=e.findBoxByIndex(e.tuning.screen),o=(0,y.changeHist)(r,n),i=0;i<e.boxes.length;i++)if(n===e.boxes[i].boxIndex)return o&&(e.boxes[i]=o),e.tuning.screen=n,e.forceUpdate(),e.boxes[i]},this.UNSAFE_componentWillUpdate=function(t){t.column?e.column=t.column:t.row?e.row=t.row:t.box&&(e.box=t.box)},this.componentDidUpdate=function(){if(e.pending&&setTimeout(function(){e.pending&&e.pending[0](e,e.pending[1]),e.pending=null},50),e.refreshSetting&&(e.refreshSetting=null,e.showSetting(!0)),e.recalcHeight){e.cellsBoxes.sort(function(e,t){return e.rect.top-t.rect.top});var t=(0,m.recalcHeight)(e,e.recalcHeight);e.recalcHeight=null,t.toHistAfterRender="newRect_split",setTimeout(function(){return t.forceUpdate()},10)}if(e.recalcWidth){e.cellsBoxes.sort(function(e,t){return e.rect.left-t.rect.left});var n=(0,m.recalcWidth)(e,e.recalcWidth);e.recalcWidth=null,n.toHistAfterRender="newRect_split",setTimeout(function(){return n.forceUpdate()},10)}if(e.toHistAfterRender&&((0,y.toHist)(e,e.toHistAfterRender),e.toHistAfterRender=null),e.boxIndexFocus&&e.boxIndexFocus!==e.boxIndex){var r=e.findBoxByIndex(e.boxIndexFocus);e.boxIndexFocus=null,setTimeout(function(){return r.setWrap()},0)}if(e.boxKeyFocus&&e.boxKeyFocus!==e.pc_key){var o=e.findBoxByKey(e.boxKeyFocus);e.boxKeyFocus=null,setTimeout(function(){return o.setWrap()},0)}e.content&&e.refs.plainText&&(e.refs.plainText.innerHTML=e.content[0],e.wasEditor&&e.refs.rtfEditor.contentFromRaw(e.content[1]),e.content=null)},this.componentDidMount=function(){var t=e.props.content;t&&e.refs.plainText&&(e.refs.plainText.innerHTML=t[0],t[1]&&e.refs.rtfEditor.contentFromRaw(t[1]));var n=e.boxIndex;n>=100&&n<1e3&&n%100===0&&((0,y.changeHist)(null,n)?(0,v.pagePreview)(e,"root"):setTimeout(function(){return(0,y.toHist)(e,"root")},1))},this.mouseUp=function(t){var n=e.doc.rootBox;n.resizeID&&(t.stopPropagation(),t.preventDefault(),n.needHist&&((0,y.toHist)(n.mouseBox,"newRect_"+n.resizeID),n.needHist=!1),n.resizeID=null),n.mouseBox=null},this.mouseMove=function(t){var n=e.doc.rootBox;if(n.mouseBox){t.stopPropagation(),t.preventDefault();var r=n.mouseBox;if(1!==t.buttons)n.resizeID=!1;else if(n.resizeID){var o=t.clientX-n.client[0],i=t.clientY-n.client[1];if(!n.busy&&(o||i)){n.busy=!0,n.needHist||((0,y.toHist)(n.mouseBox,"oldRect_"+n.resizeID),n.needHist=!0);var a=(0,m.getNewRect)(r,n.resizeID,o,i);if(a)for(var s in a)r.rect[s]=a[s];r.forceUpdate(),n.busy=null}}}},this.mouseDown=function(t){e.doc.contextMenu.setState({isOpen:!1});var n=t.target.id,r=e.doc.rootBox,o=p.default.partition(n,"_"),i=s(o,2),a=i[0],l=i[1];if("exitEdit"===l)return e.setEditMode(t,!0);if(!e.editMode&&l&&1===t.buttons&&!r.resizeID)if(t.stopPropagation(),t.preventDefault(),r.needHist=!1,"cmd"!==a){if("c_9"===n){e.setWrap();var u=e.getFloat();return void(u.tuning.fixed?u.parentBox&&(u=u.parentBox.getFloat(),u.tuning.fixed||(r.mouseBox=u,r.client=[t.clientX,t.clientY],r.resizeID="c_0",(0,m.saveOldSize)(u))):(r.mouseBox=u,r.client=[t.clientX,t.clientY],r.resizeID="c_0",(0,m.saveOldSize)(u)))}switch(a){case"row":case"col":case"c":r.client=[t.clientX,t.clientY],r.mouseBox=e,r.resizeID=n,(0,m.saveOldSize)(e);break;case"p":(0,m.saveOldSize)(e.parentBox?e.parentBox:e),e.splitCell(l),e.forceUpdate();break;case"fbi":var c=e.findBoxByIndex(parseInt(l,10));c&&c.setWrap();break;default:r.resizeID=r.mouseBox=null}}else switch(l){case"setting":e.doc.settingIsOpen=!0,e.setWrap();break;case"moveResize":e.setWrap(!0);break;case"edit":e.setEditMode(null);break;case"copyItem":(0,y.copyItem)(e);break;case"deleteItem":(0,y.deleteItem)(e);break;case"pasteItem":(0,y.pasteItem)(e);break;case"doubleItem":(0,y.doubleItem)(e)}},this.findBox=function(t,n){var r=function e(r){if(!r||r[n]===t)return r;for(var o=0;o<r.cellsBoxes.length;o++){var i=e(r.cellsBoxes[o]);if(i)return i}for(var a=0;a<r.floatBoxes.length;a++){var s=e(r.floatBoxes[a]);if(s)return s}};return r(e.doc.rootBox)},this.findBoxByIndex=function(t){return e.findBox(t,"boxIndex")},this.findBoxByKey=function(t){return e.findBox(t,"pc_key")},this.getFloat=function(){for(var t=e;!t.floating&&t.parentBox;)t=t.parentBox;return t},this.splitCell=function(t){(0,y.toHist)(e.getFloat(),"oldRect_split",e.boxIndex);var n=parseInt(t,10),r=50,o=Math.random(),i=void 0;if((0,m.set_b_size)(e),[1,3].includes(n)){if(e.cells.length)i={rect:{height:r},key:o},1===n?e.cells.unshift(i):e.cells.push(i);else{var a=e.content;e.content=null;var s=1===n?r:e.irc.height;e.cells[0]={rect:{height:s},key:o},s=1===n?e.irc.height:r,e.cells[1]={rect:{height:s},key:Math.random()},e.type="rows",e.cells[1===n?1:0].content=a}e.recalcHeight=e.rect.height+r}else if(4===n){if(e.cells.length){for(var l=e.cells.length,u=Math.floor(e.irc.width/(l+1));u>=10&&!(0,m.testWidth)(e,u);u-=5);if(!(u>=10))return(0,y.shiftHist)(),void e.doc.msg.ok("\nШирина столбцов меньше допустимого.\nРаздвиньте ячейку и повторите вставку.","Вставить стобец|Вставка невозможна.");e.cells.forEach(function(e){return e.rect.width=u}),i={rect:{width:e.irc.width-u*l},key:o},e.cells.push(i)}else{if(e.irc.width<20)return(0,y.shiftHist)();var c=e.content,f=Math.round(e.irc.width/2);e.cells[0]={rect:{width:f},key:o},e.cells[1]={rect:{width:e.irc.width-f},key:Math.random()},e.type="cols",e.cells[1].content=c}e.recalcWidth=e.rect.width}else{if(e.cells.length)i={rect:{width:r},key:o},e.cells.push(i);else{var d=e.content;e.cells[0]={rect:{width:e.irc.width},key:o},e.cells[1]={rect:{width:r},key:Math.random()},e.cells[0].content=d,e.type="cols"}e.recalcWidth=e.rect.width+r}e.forceUpdate()},this.addCell=function(t){t&&(e.cellsBoxes.push(t),(0,m.saveOldSize)(e))},this.addBox=function(t){t&&(e.floatBoxes.push(t),(0,m.saveOldSize)(e))},this.cmdUndo=function(){return(0,y.cmdUndo)(e)},this.cmdRedo=function(){return(0,y.cmdRedo)(e)},this.toHist=function(e,t){return(0,y.toHist)(e,t)},this.hideUndo=y.hideUndo,this.hideRedo=y.hideRedo,this.showSetting=function(t){return e.doc.settingIsOpen&&(e.doc.settingBox!==e||t)&&p.default.runCmd(e.doc,"showSetBox",e)},this.clearZI=function(){1!==e.state.zIndex&&e.setState({zIndex:1}),e.floatBoxes.forEach(function(e){return e.clearZI()}),e.cellsBoxes.forEach(function(e){return e.clearZI()})},this.clearWrap=function(t,n){t===e?(e.setState({wrap:!0,moveResize:n,zIndex:2}),e.parentBox&&e.parentBox.setState({zIndex:2})):(e.state.moveResize||e.state.wrap||e.editMode)&&(e.editMode&&(e.editMode=e.doc.boxEditMode=!1,e.doc.toolbar.changeToolbar(),setTimeout(function(){return(0,y.toHist)(e,"newRect_editOff")},10)),e.setState({moveResize:null,wrap:null,zIndex:1})),e.floatBoxes.forEach(function(e){return e.clearWrap(t,n)}),e.cellsBoxes.forEach(function(e){return e.clearWrap(t,n)})},this.setWrap=function(t){e.doc.rootBox.clearZI(),e.doc.rootBox.clearWrap(e,t),!t&&e.showSetting()},this.render=function(){if(0===e.boxIndex){var t=void 0,n=e.tuning.screen;return e.boxes.forEach(function(r){if(n===r.boxIndex){r.key||(e.floatBoxes=[]),r.key=r.key||Math.random();var o=Object.assign({},r,{parentBox:e,box:"box_0",ref:e.addBox});t=u.default.createElement(b,Object.assign({},o,{pc_key:r.key}))}}),u.default.createElement("div",Object.assign({},e.mouse,{style:Object.assign({},e.props.style)}),t)}!e.tuning.textOrButton&&e.editMode&&(e.editMode=e.doc.boxEditMode=!1,setTimeout(function(){return(0,y.toHist)(e,"newRect_editOff")},10)),(0,m.set_b_size)(e);var r=void 0,o=void 0,i=void 0,a=void 0,s=void 0,l=void 0,c=void 0,f=void 0,d=void 0,p=void 0,h=void 0,v=void 0,w=void 0,_=void 0,x=void 0,S=e.boxes.length?e.boxes.map(function(t,n){t.key=t.key||Math.random();var r=Object.assign({},t,{parentBox:e,box:"box_"+n,ref:e.addBox});return u.default.createElement(b,Object.assign({},r,{pc_key:t.key}))}):null,k=0;if("rows"===e.type){v=e.cells.map(function(t,n){t.rect.top=k,t.rect.left=0,t.rect.width=e.irc.width,k+=t.rect.height,t.key=t.key||Math.random();var r=Object.assign({},t,{parentBox:e,row:"row_"+n,ref:e.addCell});return u.default.createElement(b,Object.assign({},r,{pc_key:t.key}))}),h=[];for(var E=e.state.wrap?"side sh":"streak sh skh",C=0,O=0;C<e.cells.length-1;C++)O+=e.cells[C].rect.height,h[2*C]=u.default.createElement("div",{key:"sh_"+C,className:E,style:{top:O}}),e.state.wrap&&!e.state.moveResize&&(h[2*C+1]=u.default.createElement("img",{className:"arrowTB",id:"row_"+C,key:"prow_"+C,src:"/image?6-resize.gif",style:{left:"calc(50% - 6px)",top:O-8},alt:""}))}else if("cols"===e.type){v=e.cells.map(function(t,n){t.rect.left=k,t.rect.top=0,t.rect.height=e.irc.height,k+=t.rect.width,t.key=t.key||Math.random();var r=Object.assign({},t,{parentBox:e,column:"col_"+n,ref:e.addCell});return u.default.createElement(b,Object.assign({},r,{pc_key:t.key}))}),h=[];for(var D=e.state.wrap?"side sv":"streak sv skv",T=0,N=0;T<e.cells.length-1;T++)N+=e.cells[T].rect.width,h[2*T]=u.default.createElement("div",{key:"sv_"+T,className:D,style:{left:N}}),e.state.wrap&&!e.state.moveResize&&(h[2*T+1]=u.default.createElement("img",{className:"arrowLR",id:"col_"+T,key:"pcol_"+T,src:"/image?7-resize.gif",style:{left:N-7,top:"calc(50% - 6px)"},alt:""}))}if(e.editMode);else if(e.state.wrap)if(e.state.moveResize){var I={width:e.rect.width,height:e.rect.height,top:e.rect.top-e.irc.top,left:e.rect.left-e.irc.left};i=u.default.createElement("span",{id:"c_0",key:"c0",className:"moveResize",style:I},m.eightRings.map(function(e,t){return u.default.createElement("div",{id:"c_"+(t+1),key:t,className:"ring",style:Object.assign({},e)})})),d=e.settingIconRT,p=e.settingIconLD}else e.row||e.column||(a=u.default.createElement("span",{title:"move/resize",className:"floatIcon",id:"cmd_moveResize",key:"mri"})),s=(0,m.getAdd)(e,!0),f=e.settingIcon,l=(0,m.getContur)(e,!1),x=u.default.createElement("div",{className:"copy item",id:"cmd_copyItem",title:"копировать",key:"copy"},"C"),e.boxIndex%1e3&&(_=u.default.createElement("div",{className:"delete item",id:"cmd_deleteItem",title:"удалить",key:"del"},"×")),o="showButton"===e.tuning.textOrButton?null:u.default.createElement("div",{className:"editMode item",id:"cmd_edit",title:"режим редактирования",key:"cmde"},"E"),y.boxClipboard&&!["rows","cols"].includes(e.type)&&(w=u.default.createElement("div",{className:"paste item",id:"cmd_pasteItem",title:"вставить",key:"paste"},"V"));else d=e.settingIconRT,p=e.settingIconLD,l=(0,m.getContur)(e,!0);var M=void 0;if(e.state.pont){var P={width:e.rect.width,height:e.rect.height,top:e.rect.top-e.irc.top,left:e.rect.left-e.irc.left,borderBottomWidth:1};M=u.default.createElement("div",{className:"pont",key:"pont"+e.boxIndex,style:P},e.state.pont)}else M=u.default.createElement("div",{className:"pont",key:"pont"+e.boxIndex});e.boxStyle=(0,m.setBoxStyle)(e),(0,m.setEditorStyle)(e),e.doc.boxEditMode=e.editMode=e.editMode&&e.state.wrap,e.editMode?(e.boxStyle.boxShadow="0 0 0 1px #f00, 0 0 0 2px #fff, 0 0 0 3px #f00",o=e.settingIconEdit):(!e.state.wrap&&e.floating&&(100===e.boxIndex||e.boxIndex>=1e3)&&(r=u.default.createElement("div",{className:"floatBlockIcon",id:"fbi_"+e.boxIndex,key:"fbi"})),e.state.wrap&&(e.row&&"cols"===e.type?c=u.default.createElement("div",{id:"cmd_doubleItem",className:"item double",title:"дублировать ряд",key:"dubl"},"D"):e.floating&&!e.state.moveResize&&(c=u.default.createElement("div",{id:"cmd_doubleItem",style:{right:-8},className:"item double",title:"дублировать плавающий блок",key:"dubl"},"D"))));var B=void 0;if(e.boxIndex<1e3)B=u.default.createElement("div",{id:"c_9",className:"fill"});else{var A=void 0,R=void 0;"showRtf"===e.tuning.textOrButton?(A="none",R="block",e.editMode&&(e.wasEditor=!0)):"showButton"===e.tuning.textOrButton?(A="block",R="none",e.state.wrap&&e.doc.toolbar.changeToolbar()):(A="none",R="none",e.state.wrap&&e.doc.toolbar.changeToolbar());var j=u.default.createElement("div",{ref:"plainText",className:e.boxClassName,contentEditable:e.editMode,style:{display:A,overflow:"hidden",height:"inherit"}}),L=e.wasEditor?u.default.createElement(g.default,{display:R,box:e,ref:"rtfEditor"}):null;B=u.default.createElement("div",{className:"fill",style:{overflowY:"auto"}},L,j,e.editMode?null:e.glass)}var F=void 0;return F=e.boxIndex<1e3||e.tuning.noIcons?e.parentBox?null:[r,h]:e.doc.readOnly?[x,M,r,h,l]:[r,l,h,s,a,i,d,p,f,w,x,_,o,M,c],u.default.createElement("div",Object.assign({id:"c_9",key:e.boxIndex},e.mouse,{style:e.boxStyle,ref:e.dom,tabIndex:"1"}),e.boxIndex%1e3?null:(0,m.grid)(e),B,v,S,F)},this.settingIcon3=function(e,t,n){return u.default.createElement("div",{className:t,title:n,key:t},u.default.createElement("div",null,u.default.createElement("div",null),u.default.createElement("div",null),u.default.createElement("div",null)),u.default.createElement("div",null,u.default.createElement("div",null),u.default.createElement("div",null),u.default.createElement("div",null)),u.default.createElement("div",null,u.default.createElement("div",null),u.default.createElement("div",null),u.default.createElement("div",null)),u.default.createElement("div",{id:e,style:{position:"absolute",left:0,width:"inherit",height:"inherit",top:0}}))},this.setEditMode=function(t,n){t&&(t.stopPropagation(),t.preventDefault()),n?(e.editMode=e.doc.boxEditMode=!1,e.doc.toolbar.changeToolbar(),setTimeout(function(){return(0,y.toHist)(e,"newRect_editOff")},10)):(e.editMode=e.doc.boxEditMode=!0,"showRtf"===e.tuning.textOrButton?(e.wasEditor=!0,setTimeout(function(){return e.refs.rtfEditor.setFocus()},10)):(e.tuning.textOrButton||(e.tuning.textOrButton="showButton",e.showSetting(!0)),setTimeout(function(){return e.refs.plainText.focus()},10)),(0,y.toHist)(e,"oldRect_editOn")),e.forceUpdate()},this.testTuning=function(t,n){var r=Number(n||0),o=void 0,i=function(t,n){var i=e.cellsBoxes[e.cells.length-1],a=void 0,s=void 0;if("width"===t?"cols"===e.type?(a=e.cellsBoxes.reduce(function(e,n){return e+n.rect[t]},0),s=e.rect[t]-o-(a-i.rect[t])):s=e.rect[t]-o:"rows"===e.type?(a=e.cellsBoxes.reduce(function(e,n){return e+n.rect[t]},0),s=e.rect[t]-o-(a-i.rect[t])):s=e.rect[t]-o,s<10){for(;s<10&&r;s+=n,r--);return(0,m.recalcWidthInside)(i,s),r}for(;;){if(i.rect[t]=s,"width"===t){if((0,m.testWidth)(i,s))return(0,m.recalcWidthInside)(i,s),r}else if((0,m.testHeight)(i,s))return(0,m.recalcHeightInside)(i,s),r;if(!r)return r;s+=n,r--}};if(["cols","rows"].includes(e.type)&&e.cells.length)switch(t){case"borderWidth":o=2*r;var a=i("width",2),s=i("height",2);return Math.min(a,s).toString();case"borderLeftWidth":return o=r+Number(e.tuning.borderRightWidth||0),i("width",1).toString();case"borderRightWidth":return o=r+Number(e.tuning.borderLeftWidth||0),i("width",1).toString();case"borderTopWidth":return o=r+Number(e.tuning.borderBottomWidth||0),i("height",1).toString();case"borderBottomWidth":return o=r+Number(e.tuning.borderTopWidth||0),i("height",1).toString();default:return!0}return!0}};t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=r(s),u=n(5),c=r(u),f=n(2),d=r(f),p=n(38),h=n(53),g=r(h);n(196);var y=n(126),m=r(y),v=m.default.Editor,b=m.default.EditorState,w=m.default.RichUtils,_=m.default.getDefaultKeyBinding,x=m.default.Modifier,S=m.default.CompositeDecorator,k=m.default.convertFromRaw,E=m.default.convertToRaw,C=m.default.KeyBindingUtil,O={},D=function(e,t,n){e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&"LINK"===n.getEntity(t).getType()},t)},T=function(e){var t=e.contentState.getEntity(e.entityKey).getData(),n=t.url;return l.default.createElement("a",{href:n,style:p.linkStyle},e.children)},N=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.colorAvatar=function(e,t,r){n[e]=t;var o=n.doc.sovaPagesByName.color_avatar;o.frameStyle[r]=t,o.forceUpdate()},n.componentDidUpdate=function(){return n.doc.toolbar.forceUpdate()},n.shouldComponentUpdate=function(){return!n.noUpdate},n.onChange=function(e){return n.setState({editorState:e})},n.setFocus=function(){return n.focus()},n.focus=function(e){return setTimeout(function(){return n.refs.editor&&n.refs.editor.focus()},e||0)},n.contentToRaw=function(){return E(n.state.editorState.getCurrentContent())},n.contentFromRaw=function(e){return n.setState({editorState:b.createWithContent(k(e))})},n.logState=function(){return console.log(n.state.editorState)},n.mapKeyToEditorCommand=function(e){if(C.hasCommandModifier(e)){switch(e.keyCode){case 83:return"myeditor-save";case 89:n.onChange(b.redo(n.state.editorState));break;case 90:n.onChange(b.undo(n.state.editorState));break;default:return _(e)}return e.stopPropagation(),!0}return _(e)},n.handleKeyCommand=function(e,t){return"myeditor-save"===e?"handled":"not-handled"},n.btnLink=function(e){n.noUpdate=!0;var t=n.state.editorState,r=t.getSelection(),o=r.isCollapsed(),i=t.getCurrentContent(),a=r.getStartKey(),s=r.getStartOffset(),l=i.getBlockForKey(a),u=l.getEntityAt(s),c=void 0;if(u){var f=i.getEntity(u);c=f.getData().url}if(o&&!c)n.doc.msg.box("для создания новой ссылки.","Гиперссылка|Необходимо выделить текст",null,null,"1").then(function(){n.noUpdate=!1,n.focus(200)},function(){n.noUpdate=!1,n.focus(200)});else{var d=c?o?"Изменить":"Добавить/изменить/удалить ссылку":"Добавить ссылку",p=c?o?["Изменить|FV"]:["Добавить|FV","Удалить|del!"]:["Добавить|FV"];n.doc.inputBox(d,c,"Гиперссылка",null,p,!0).then(function(e){if(n.noUpdate=!1,"del!"===e)n.onChange(w.toggleLink(t,r,null));else if(e)if(o)i.replaceEntityData(u,{url:e});else{var s=i.createEntity("LINK","MUTABLE",{url:e});a=s.getLastCreatedEntityKey();var l=b.push(t,s,"create-entity");n.onChange(w.toggleLink(l,r,a))}n.focus(200)},function(){n.noUpdate=!1,n.focus(200)})}n.focus()},n.inLine=function(e){n.onChange(w.toggleInlineStyle(n.state.editorState,e)),n.focus()},n.btnBold=function(e){return n.inLine("BOLD")},n.btnItalic=function(e){return n.inLine("ITALIC")},n.btnUnderline=function(e){return n.inLine("UNDERLINE")},n.btnOl=function(e){n.onChange(w.toggleBlockType(n.state.editorState,"ordered-list-item")),n.focus()},n.btnUl=function(e){n.onChange(w.toggleBlockType(n.state.editorState,"unordered-list-item")),n.focus()},n.onBlur=function(e){},n.setColorTool=function(e,t,r){return l.default.createElement(g.default,{xName:e,xValue:t,key:e,doc:n.doc,colorList:r,ref:function(t){return n.doc.register[e]=t}})},n.btnColorClick=function(e){if(n.state.editorState.getSelection().isCollapsed())return n.doc.msg.box("для изменения цвета текста и фона.","Цвет|Необходимо выделить текст",null,null,"1").then(function(){n.noUpdate=!1,n.focus(200)},function(){n.noUpdate=!1,n.focus(200)});n.noUpdate=!0;var t=e.target.getBoundingClientRect();e.stopPropagation(),e.preventDefault();var r={pageName:"color_avatar",className:"rtf_colors",modal:!0,avatar:!0,frameStyle:{left:t.left-78,top:t.bottom+10,height:165},children:[l.default.createElement("div",{key:"a",className:"up-arrow",style:{left:90}}),l.default.createElement("div",{key:"b"},l.default.createElement("div",null,l.default.createElement("div",null,"Цвет",l.default.createElement("br",null),"текста"),n.setColorTool("TEXT_COLOR",n.box.tuning.color,"colorTexList")),l.default.createElement("div",null,l.default.createElement("div",null,"Цвет",l.default.createElement("br",null),"фона"),n.setColorTool("FON_COLOR",n.box.tuning.backgroundColor,"colorTexList"))),l.default.createElement("div",{key:"c"},l.default.createElement("div",null,l.default.createElement("div",{className:"rsvTop",onClick:n.setColorOK},"OK")),l.default.createElement("div",null,l.default.createElement("div",{className:"rsvTop",onClick:n.setColorCancel},"Отмена")))]};d.default.addChildPage(n.doc,r)},n.setColorCancel=function(e){return n.doc.closePage("color_avatar",e)},n.setColorOK=function(e){n.doc.closePage("color_avatar",e);var t=n.text_color||n.box.tuning.color,r=n.fon_color||n.box.tuning.backgroundColor,o="color-"+t+r;O[o]={color:t,backgroundColor:r},n.noUpdate=!1,n.onChange(n.setColor(n.state.editorState,o,"color-")),n.focus(200)},n.btnText=function(e){e.stopPropagation();var t=n.state.editorState,r="fontfamily-Times|toHtml сука игнорирует";O[r]={fontFamily:"Times"},t=n.setColor(t,r,"fontfamily-"),r="fontsize-20",O[r]={fontSize:60},t=n.setColor(t,r,"fontsize-20"),n.noUpdate=!1,n.onChange(t),n.focus(200)},n.setColor=function(e,t,n){var r=e.getSelection(),o=Object.keys(O).filter(function(e){return e.startsWith(n)}),i=o.reduce(function(e,t){return x.removeInlineStyle(e,r,t)},e.getCurrentContent()),a=b.push(e,i,"change-inline-style"),s=e.getCurrentInlineStyle();return r.isCollapsed()&&(a=s.reduce(function(e,t){return w.toggleInlineStyle(e,t)},a)),s.has(t)||(a=w.toggleInlineStyle(a,t)),a},n.clearEvent=function(e){e.stopPropagation(),e.preventDefault()},n.rtfToolbar=function(){return l.default.createElement("div",{className:"rtf-bar"},l.default.createElement("div",null,l.default.createElement("div",{onClick:n.btnBold},"B"),l.default.createElement("div",{onClick:n.btnItalic,style:{fontStyle:"italic"}},"I"),l.default.createElement("div",{onClick:n.btnUnderline,style:{textDecoration:"underline"}},"U"),l.default.createElement("div",{onClick:n.btnLink,className:"tb-link"},l.default.createElement("div",{className:"tb-link-circ"},l.default.createElement("div",null),l.default.createElement("div",null)),l.default.createElement("div",{className:"tb-link-line"})),l.default.createElement("div",{onClick:n.btnOl},l.default.createElement("div",{className:"rtf-ol"}),l.default.createElement("div",{className:"rtf-ol"}),l.default.createElement("div",{className:"rtf-ol"})),l.default.createElement("div",{onClick:n.btnUl},l.default.createElement("div",{className:"rtf-ul"}),l.default.createElement("div",{className:"rtf-ul"}),l.default.createElement("div",{className:"rtf-ul"})),l.default.createElement("div",{onClick:n.btnColorClick,title:"Цвет текста",style:{display:"inline-block",position:"relative"}},l.default.createElement("div",{className:"btn-color"},l.default.createElement("div",null)),l.default.createElement("div",{className:"btn-color-abs"}))))},n.render=function(){var e=!n.box.editMode||"showRtf"!==n.box.tuning.textOrButton;return e||n.doc.toolbar.changeToolbar(n.rtfToolbar()),l.default.createElement("div",{className:"fill",style:{overflowY:"auto",display:n.props.display}},l.default.createElement(v,{keyBindingFn:n.mapKeyToEditorCommand,readOnly:e,blockStyleFn:function(){return n.box.boxClassName},customStyleMap:O,editorState:n.state.editorState,handleKeyCommand:n.handleKeyCommand,onChange:n.onChange,onBlur:n.onBlur,ref:"editor",spellCheck:!0}))},(0,c.default)(n);var r=new S([{strategy:D,component:T}]);return n.box=n.props.box,n.doc=n.box.doc,n.state={editorState:b.createEmpty(r)},n.doc.sova.recalc.TEXT_COLOR=function(e,t){return n.colorAvatar("text_color",t,"color")},n.doc.sova.recalc.FON_COLOR=function(e,t){return n.colorAvatar("fon_color",t,"backgroundColor")},n}return a(t,e),t}(l.default.Component);t.default=N},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,
configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),u=r(l),c=n(5),f=r(c),d=n(2),p=r(d),h=n(20),g=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.getValue=function(){return n.state.sel},n.getDom=function(){return n.dom.current},n.setValue=function(e){return n.setState({sel:e||0})},n.setFocus=function(e){return n.dom.current.focus()},n.changeDropList=function(e,t){n.items=[].concat(o(e)),n.setState({sel:t||0})},n.onclick=function(e,t){e.stopPropagation(),e.preventDefault(),n.setState({sel:t}),p.default.runCmd(n.props.doc,"recalcBand",t,n.props.xName),p.default.recalc(n,t)},n.render=function(){var e=void 0;if(n.props.rowLength){for(var t=[],r=n.props.rowLength,o=0,i=0;i<n.items.length/r;i++){t[i]=[];for(var a=function(e){var r=o;t[i][e]=u.default.createElement("div",{key:e,onClick:function(e){return n.onclick(e,r)}},n.items[r])},s=0;s<r;s++,o++)a(s)}e=t.map(function(e,t){return u.default.createElement("div",{key:t,style:Object.assign({},n.props.style)},e)});var l=n.props.label?u.default.createElement("span",null,n.props.label):null;return u.default.createElement("div",Object.assign({tabIndex:"1",className:n.cn,ref:n.dom},p.default._on_(n.props)),l,e)}return e=n.items.map(function(e,t){return u.default.createElement("div",{key:t,className:t===n.state.sel?n.cnItem+" "+n.cnItem+"-sel":n.cnItem,onClick:function(e){return n.onclick(e,t)}},e)}),u.default.createElement("div",{className:n.cn,style:Object.assign({},n.props.style),ref:n.dom},e.length?e:null)},(0,f.default)(n);var r=void 0;return n.props.ls.forEach(function(e){"string"!=typeof e&&(r=!0)}),n.items=r?(0,h.boxing)(n.props.ls,n.props.doc,n.props.readOnly):n.props.ls,n.cn=n.props.className||"band",n.cnItem=n.cn+"Item",n.dom=u.default.createRef(),n.state={sel:parseInt(n.props.xValue||"0",10)},n}return s(t,e),t}(u.default.Component);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(5),f=r(c),d=n(2),p=r(d),h=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setValue=function(e){return n.setState({label:e.label||n.state.label,cmd:e.cmd||n.state.cmd,title:e.title||n.state.title,param:e.param||n.state.param,className:e.className||n.state.className})},n.getValue=function(e){return Object.assign({},n.state)},n.getDom=function(){return n.dom.current},n.setFocus=function(e){n.setState({focusOn:!0}),n.dom.current.focus()},n.onclick=function(e){return p.default.runCmd(n.props.doc,n.state.cmd,n.state.param,e)},(0,f.default)(n),n.state={focusOn:!1,label:n.props.label,cmd:n.props.cmd,title:n.props.title,param:n.props.param,className:n.props.className},n.dom=u.default.createRef(),n}return a(t,e),s(t,[{key:"render",value:function(){var e=this,t=void 0;return this.state.label.includes("\n")?(t=[],this.state.label.split("\n").forEach(function(n,r){r?"p"===e.props.br?t.push(u.default.createElement("span",{key:r},u.default.createElement("p",{style:{textIndent:20}},n))):t.push(u.default.createElement("span",{key:r},u.default.createElement("br",null),n)):t.push(e.props.s2?u.default.createElement("span",{key:r},u.default.createElement("b",null,n)):u.default.createElement("span",{key:r},n))})):t=this.props.s2?u.default.createElement("b",null,this.state.label,"l"):this.state.label,t=t.length?t:null,u.default.createElement("div",{style:Object.assign({cursor:"pointer"},this.props.style),tabIndex:"1",className:this.state.className||"rsvTop",onClick:this.onclick,ref:this.dom,title:this.state.title},t,this.props.children)}}]),t}(u.default.Component);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(5),f=r(c),d=n(2),p=r(d),h=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));(0,f.default)(n);var r=parseInt(n.props.dayX,10)||29;return n.dayX=new Date(+new Date+864e5*r),n}return a(t,e),s(t,[{key:"getStrDate",value:function(e){return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)}},{key:"changeCurDate",value:function(e,t,n){this.props.cur.setFullYear(this.props.cur.getFullYear()+e,this.props.cur.getMonth()+t,this.props.cur.getDate()+n),this.forceUpdate()}},{key:"compareDates",value:function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}},{key:"keyHandler",value:function(e){if(!e.altKey&&!e.ctrlKey){if(13===e.keyCode)return this.props.setDate(this.getStrDate(this.props.cur),e);if(27===e.keyCode)return this.props.setDate(0,e);switch(e.keyCode){case 37:this.changeCurDate(0,0,-1);break;case 38:this.changeCurDate(0,0,-7);break;case 39:this.changeCurDate(0,0,1);break;case 40:this.changeCurDate(0,0,7);break;case 33:this.changeCurDate(0,-1,0);break;case 34:this.changeCurDate(0,1,0);break;case 36:this.props.cur.setFullYear(this.props.cur.getFullYear(),this.props.cur.getMonth(),1),this.forceUpdate();break;case 35:this.props.cur.setFullYear(this.props.cur.getFullYear(),this.props.cur.getMonth()+1,1),this.changeCurDate(0,0,-1);break;case 32:this.props.cur.setTime(+new Date),this.forceUpdate()}e.stopPropagation(),e.preventDefault()}}},{key:"render",value:function(){for(var e=this,t=new Date,n="Январь Февраль Март Апрель Май Июнь Июль Август Сентябрь Октябрь Ноябрь Декабрь".split(" "),r="пн вт ср чт пт сб вс".split(" ").map(function(e,t){return u.default.createElement("div",{className:t<5?"c_day_name":"c_day_name_wknd",key:e},e)}),o=[],i=[],a=[],s=0;s<3;s++){o[s]=new Date(this.props.cur.getFullYear(),this.props.cur.getMonth()+s-1,1),i[s]=o[s].getMonth(),a[s]=[];for(var l=0;l<6;l++){for(var c=[],f="mw"+s+"_"+l+"_",d=function(n){var r=0===o[s].getDay()?6:o[s].getDay()-1,a=new Date(o[s].getFullYear(),i[s],1-r+7*l+n);if(a.getMonth()===i[s]){var d=n>4?"c_day c_day_wknd":"c_day";e.compareDates(a,t)&&(d+=" c_today"),e.compareDates(a,e.props.cur)&&(d+=" c_cur"),e.compareDates(a,e.dayX)&&(d+=" c_dayx"),c[n]=u.default.createElement("div",{className:d,key:f+n,onClick:function(t){return e.props.setDate(e.getStrDate(a),t)}},""+a.getDate())}else c[n]=u.default.createElement("div",{className:"c_empty",key:f+n}," ")},h=0;h<7;h++)d(h);a[s][l]=u.default.createElement("div",{className:"week",key:f},c)}}return this.props.m1||p.default.anyMobile?u.default.createElement("div",{className:"glass"},u.default.createElement("div",{className:"calendar1m",style:this.props.leftTop,ref:function(e){return e&&e.focus()},tabIndex:"0",onKeyDown:this.keyHandler,onBlur:function(t){return e.props.setDate(0,t)}},u.default.createElement("div",{className:"month"},u.default.createElement("div",{className:"c_month"},n[i[1]]+" "+o[1].getFullYear()),u.default.createElement("div",{className:"week"},r),a[1]),u.default.createElement("div",{className:"c_arr c_left_arr",onClick:function(){e.changeCurDate(0,-1,0)}},"◄"),u.default.createElement("div",{className:"c_arr c_right_arr",onClick:function(){e.changeCurDate(0,1,0)}},"►"))):u.default.createElement("div",{className:"glass"},u.default.createElement("div",{className:"calendar",style:this.props.leftTop,ref:function(e){return e&&e.focus()},tabIndex:"0",onKeyDown:this.keyHandler,onBlur:function(t){return e.props.setDate(0,t)}},u.default.createElement("div",{className:"quarter"},u.default.createElement("div",{className:"month"},u.default.createElement("div",null,n[i[0]]+" "+o[0].getFullYear()),u.default.createElement("div",{className:"week"},r),a[0]),u.default.createElement("div",{className:"month"},u.default.createElement("div",{className:"c_month"},n[i[1]]+" "+o[1].getFullYear()),u.default.createElement("div",{className:"week"},r),a[1]),u.default.createElement("div",{className:"month"},u.default.createElement("div",{className:"c_month"},n[i[2]]+" "+o[2].getFullYear()),u.default.createElement("div",{className:"week"},r),a[2])),u.default.createElement("div",{className:"c_arr c_left_arr",onClick:function(){e.changeCurDate(0,-1,0)}},"◄"),u.default.createElement("div",{className:"c_arr c_right_arr",onClick:function(){e.changeCurDate(0,1,0)}},"►"),u.default.createElement("div",{className:"c_help"},"PgUp, PgDown - изменить месяц   Home, End - начало, конец месяца",u.default.createElement("br",null),"Пробел - найти сегодня   Enter - выбрать дату     "),u.default.createElement("div",{className:"c_arr c_down_arr",onClick:function(){e.changeCurDate(-1,0,0)}}," ◄ год "),u.default.createElement("div",{className:"c_arr c_up_arr",onClick:function(){e.changeCurDate(1,0,0)}}," год ► ")))}}]),t}(u.default.Component);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Checkbox3=t.Checkbox=void 0;var s=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),f=n(5),d=r(f),p=n(2),h=r(p),g=(t.Checkbox=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.getDom=function(){return n.dom.current},n.getValue=function(e){return n.state.isChecked&&n.value},n.setValue=function(e){h.default.recalc(n,e&&n.value,!0,!0),n.setState({isChecked:!!e})},n.onchange=function(e){h.default.recalc(n,!n.state.isChecked&&n.value,!1,!0),n.setState({isChecked:!n.state.isChecked})},(0,d.default)(n),n.state={isChecked:!!n.props.xValue},n.dom=c.default.createRef();var r=n.props.classic?["",{cursor:"pointer"}]:["checkbox",{}],a=s(r,2);n.cName=a[0],n.cursorPointer=a[1];var l=h.default.partition(n.props.ls[0]||"","|"),u=s(l,2);return n.label=u[0],n.value=u[1],n.value=n.value||"1",n}return a(t,e),l(t,[{key:"render",value:function(){return this.props.char?c.default.createElement("span",{onClick:this.onchange,className:this.props.className,style:Object.assign({},this.props.style,{cursor:"pointer"}),title:this.props.title,ref:this.dom},this.state.isChecked?this.label:this.props.ls[1]||"-"):c.default.createElement("div",{className:this.props.className,style:Object.assign({},this.props.style),title:this.props.title,ref:this.dom},c.default.createElement("input",{className:this.cName,style:this.cursorPointer,type:"checkbox",id:this.props.xName,checked:this.state.isChecked,disabled:this.props.readOnly,onChange:this.onchange}),c.default.createElement("label",{onClick:this.onchange,style:this.cursorPointer},this.label))}}]),t}(c.default.Component),t.Checkbox3=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));g.call(n),(0,d.default)(n);var r=void 0,a=h.default.partition(n.props.ls[0],"|",!0),l=s(a,2);n.labL=l[0],n.valL=l[1];var u=h.default.partition(n.props.ls[1],"|",!0),c=s(u,2);return n.labR=c[0],n.valR=c[1],n.valL=n.valL||n.labL,n.valR=n.valR||n.labR,r=n.props.xValue===n.valL?-1:n.props.xValue===n.valR?1:n.props.noEmpty?-1:0,n.state={value:r},n}return a(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.state.value<0?"chb3a":"chb3b",n=this.state.value>0?"chb3a":"chb3b",r=this.state.value?"chb3bc":"chb3ac";return c.default.createElement("div",{className:this.props.className||"chb3",style:Object.assign({},this.props.style)},c.default.createElement("div",{onClick:function(t){return e.onclick(t,-1)},title:this.props.title1},c.default.createElement("div",{className:t,style:{textAlign:"right"}}," "+this.labL+" ",c.default.createElement("div",{style:{float:"right"}},"|"))),c.default.createElement("div",{style:{width:20},onClick:this.setEmpty},c.default.createElement("div",{className:r,style:this.props.noEmpty?{background:"#f4f4f4"}:{}}," ")),c.default.createElement("div",{onClick:function(t){return e.onclick(t,1)},title:this.props.title2},c.default.createElement("div",{className:n,style:{textAlign:"left"}},c.default.createElement("div",{style:{float:"left"}},"|")," "+this.labR+" ")))}}]),t}(c.default.Component),function(){var e=this;this.getValue=function(t){return e.state.value>0?e.valR:e.state.value||e.props.noEmpty?e.valL:""},this.setValue=function(t){var n=t===e.valL?-1:t===e.valR?1:e.props.noEmpty&&-1||0;h.default.recalc(e,n>0?e.valR:n||e.props.noEmpty?e.valL:"",!0,!0),e.setState({value:n})},this.onclick=function(t,n){if(t.stopPropagation(),t.preventDefault(),!e.props.readOnly){var r=n===e.state.value?-n:n;h.default.recalc(e,r<0?e.valL:e.valR,!1,!0),e.setState({value:r})}},this.setEmpty=function(t){e.props.noEmpty||e.props.readOnly||(h.default.recalc(e,""),e.setState({value:0}))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(5),f=r(c),d=n(40),p=r(d),h=n(103),g=r(h),y=n(2),m=r(y),v=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getDom=function(){return n.dom.current},n.setValue=function(e,t){n.m1=t,n.iniDP(e),n.forceUpdate()},n.getValue=function(e){return e?n.dd?n.dd+"."+n.mm+"."+n.styy+n.yy:"":n.dd?n.styy+n.yy+"-"+n.mm+"-"+n.dd:""},n.setFocus=function(e){n.setState({focusOn:!0}),n.dde.focus()},(0,f.default)(n),n.state={focusOn:!1,calendar:!1},n.m1=n.props.m1,n.iniDP(n.props.xValue),n.dom=u.default.createRef(),n}return a(t,e),s(t,[{key:"iniDP",value:function(e){if(e)if("string"==typeof e)this.setDate(e);else{var t=e.getUTCFullYear()+"-",n=e.getUTCMonth()+1;t+=(n<10?"0"+n:n)+"-",n=e.getUTCDate(),t+=(n<10?"0"+n:n)+"-",this.setDate(t)}else this.dd="",this.mm="",this.yy="",this.styy="20";this.waitDigit=0,this.oneDigit=!1}},{key:"setDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t&&(t.stopPropagation(),t.preventDefault());var n=!1;if(e){var r=void 0,o=void 0,i=void 0,a=void 0;try{var s=e.trim();if("."===s.slice(2,3))r=s.slice(0,2),o=s.slice(3,5),i=s.slice(8,10),a=s.slice(6,8);else{if("-"!==s.slice(4,5))return this.state.calendar&&(this.setState({calendar:!1}),this.yye.focus()),!1;r=s.slice(8,10),o=s.slice(5,7),i=s.slice(2,4),a=s.slice(0,2)}var l=new Date(parseInt(a+i,10),parseInt(o,10)-1,parseInt(r,10));n=l.getMonth()===parseInt(o,10)-1&&l.getDate()===parseInt(r,10)&&l.getFullYear()===parseInt(a+i,10),n&&(this.dd=r,this.mm=o,this.yy=i,this.styy=a)}catch(e){}}else n=!0;return this.state.calendar&&(this.setState({calendar:!1}),this.yye.focus()),n}},{key:"checkDT",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!0;if(this.dd){var n=new Date;this.mm||(this.mm=("0"+(n.getMonth()+1).toString()).slice(-2)),this.yy||(this.yy=n.getFullYear().toString().slice(-2),this.styy="20");var r=new Date(this.styy+this.yy,parseInt(this.mm,10)-1,this.dd);t=r.getMonth()===parseInt(this.mm,10)-1&&r.getDate()===parseInt(this.dd,10)}else this.mm="",this.yy="";return t||this.audioTuk(),e&&(e.stopPropagation(),e.preventDefault()),this.forceUpdate(),t}},{key:"dtpFocus",value:function(e){e.stopPropagation(),e.preventDefault(),this.setState({focusOn:!0});var t=e.target;setTimeout(function(){t.selectionStart=0},10),setTimeout(function(){t.selectionEnd=0},10),this.waitDigit=0,this.oneDigit=!1}},{key:"dtpBlur",value:function(e){var t=this;if(this.setState({focusOn:!1}),!this.checkDT(e)&&!this.state.calendar){var n=e.target;setTimeout(function(){!t.state.focusOn&&n.focus()},50)}}},{key:"dtpPaste",value:function(e){try{this.setDate(e.clipboardData.getData("text/plain"))||this.audioTuk()}catch(e){this.audioTuk()}this.checkDT(e)}},{key:"audioTuk",value:function(){var e=this;this.oneDigit||(this.setState({red:!0}),setTimeout(function(){e.setState({red:!1})},500),this.props.doc.audiotuk&&(this.props.doc.audiotuk.pause(),this.props.doc.audiotuk.currentTime=0,this.props.doc.audiotuk.play()))}},{key:"toField",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t?e===this.dde?this.mme.focus():e===this.mme&&this.yye.focus():e===this.yye?this.mme.focus():e===this.mme&&this.dde.focus()}},{key:"dtpKeyDown",value:function(e){var t=e.keyCode;if(e.ctrlKey||e.altKey&&40!==t)return void(this.checkDT()||(e.stopPropagation(),e.preventDefault()));var n=m.default.upDown(e,this.props.doc,this.props.xName,!0);if("up"===n)return this.props.doc.setFocus(this.props.myRow-1);if("down"===n)return this.props.doc.setFocus(this.props.myRow+1);if(t>=96&&t<=105)return this.kbIsDigit(t-48,e);if(t>=48&&t<=57)return e.altKey?this.checkDT(e):this.kbIsDigit(t,e);if(this.waitDigit=0,40===t||13===t)return this.checkDT(e),this.setState({calendar:!0});switch(t){case 8:case 46:if(e.target===this.dde)return this.dd="",this.checkDT(e);break;case 229:case 32:if(e.target===this.dde)return this.dd=("0"+(new Date).getDate().toString()).slice(-2),this.mm="",this.yy="",this.checkDT(e);break;case 110:case 111:case 190:case 191:this.oneDigit&&this.toField(e.target);break;case 37:e.target!==this.dde&&this.toField(e.target,!1);break;case 39:e.target!==this.yye&&this.toField(e.target);break;case 9:if(this.checkDT())return;break;case 27:if(this.checkDT())return;break;case 86:if(e.ctrlKey)return;break;case 45:if(e.shiftKey)return}e.stopPropagation(),e.preventDefault()}},{key:"kbIsDigit",value:function(e,t){var n=this,r=t.target;if(!this.dd&&r!==this.dde)return this.checkDT(t);var o=String.fromCharCode(e);if(r===this.yye)return 0===this.waitDigit?(this.waitDigit=1,this.yy="0"+o,setTimeout(function(){1===n.waitDigit&&(n.waitDigit=0)},1e3)):1===this.waitDigit?(this.waitDigit=2,this.yy=this.yy[1]+o,setTimeout(function(){2===n.waitDigit&&(n.waitDigit=0)},1e3)):2===this.waitDigit?(this.waitDigit=3,this.styy=this.yy,this.yy="0"+o,setTimeout(function(){n.waitDigit=0},1e3)):3===this.waitDigit&&(this.yy=this.yy[1]+o,this.waitDigit=0),this.checkDT(t);var i=void 0,a=void 0,s=void 0,l=parseInt(o,10);if(r===this.dde?(i=3,a=31,s=this.dd):(i=1,a=12,s=this.mm),this.waitDigit){var u=10*parseInt(s,10)+l;0===u||u>a?this.audioTuk():(r===this.dde?this.dd=(u>9?"":"0")+u.toString():this.mm=(u>9?"":"0")+u.toString(),this.toField(r))}else this.oneDigit=!0,r===this.dde?this.dd="0"+o:this.mm="0"+o,l>i?this.toField(r):(this.waitDigit=11,setTimeout(function(){11===n.waitDigit&&(n.waitDigit=0)},1e3));this.checkDT(t)}},{key:"render",value:function(){var e=this,t={className:"dd",autoComplete:"off",type:"text",onFocus:this.dtpFocus,onBlur:this.dtpBlur,onPaste:this.dtpPaste,onKeyDown:this.dtpKeyDown,onChange:function(){}},n=this.state.red?"#FFA07A":this.state.calendar?"#A0FF7A":this.state.focusOn?"#f4fdff":"white",r=null;if(this.state.calendar){var o=this.calendarDiv.getBoundingClientRect(),i=Math.round(o.top),a=Math.round(o.left),s=window.innerHeight,l=window.innerWidth;i=s-i>255?i+23:Math.max(i-225,5),a=this.m1||m.default.anyMobile?a-40:a<280?10:l-a>345?a-225:Math.max(l-575,10),r=u.default.createElement(g.default,{dayX:this.props.dayX,m1:this.m1,leftTop:{marginLeft:a,marginTop:i},setDate:function(t,n){return e.setDate(t,n)},cur:this.dd&&this.mm&&this.yy?new Date(parseInt(this.styy+this.yy,10),parseInt(this.mm,10)-1,parseInt(this.dd,10)):new Date})}return this.props.readOnly?u.default.createElement(p.default,{xValue:this.getValue(!0),readOnly:!0,style:Object.assign({},this.props.style)}):u.default.createElement("div",{style:Object.assign({},this.props.style),ref:this.dom},u.default.createElement("div",{className:(this.props.ttaClassName||"tta")+(this.state.focusOn?" on-focus":""),style:Object.assign({},this.props.ttaStyle,{background:n})},u.default.createElement("div",{className:"datePicker",title:"Для вызова календаря нажмите 'стрелку-вниз' на клавиатуре или пиктограмму мышкой",ref:function(t){return e.calendarDiv=t},style:{width:"3.1cm"}},u.default.createElement("input",Object.assign({tabIndex:"0"},t,{placeholder:"дд",value:this.dd,ref:function(t){return e.dde=t}})),u.default.createElement("span",{onClick:function(){return e.dde&&e.dde.focus()}},"."),u.default.createElement("input",Object.assign({tabIndex:-1},t,{placeholder:"мм",value:this.mm,ref:function(t){return e.mme=t}})),u.default.createElement("span",{onClick:function(){return e.mme&&e.mme.focus()}},"."),u.default.createElement("span",{onClick:function(){return e.yye&&e.yye.focus()},className:"styy",style:this.yy?{color:"black"}:{}},this.styy),u.default.createElement("input",Object.assign({tabIndex:-1},t,{placeholder:"гг",value:this.yy,ref:function(t){return e.yye=t}})),u.default.createElement("span",{onClick:function(){return e.yye&&e.yye.focus()}}," "),u.default.createElement("div",{className:"dtp",onClick:function(){return e.setState({calendar:!0})}},u.default.createElement("div",{className:"dtp1"}),u.default.createElement("div",{className:"dtp2"},("0"+(new Date).getDate().toString()).slice(-2))),r)))}}]),t}(u.default.Component);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(5),f=r(c),d=n(107),p=r(d),h=n(2),g=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.initialize=function(e){n.init(),n.forceUpdate()},(0,f.default)(n),n.labelBlank="поле для присоединенных файлов",n.nDescr=0,n.fileArr=[],n.filter=n.props.fileShow,n.init(),n.state={runUpload:!1},n}return a(t,e),s(t,[{key:"init",value:function(){var e=this;this.fileArr.forEach(function(t,n){return delete e.fileArr[n]}),this.fileArr=[];var t=[];Object.keys(this.props.doc.fieldValues).forEach(function(n){if(n.startsWith(e.filter)){var r=e.props.doc.fieldValues[n].split("|");6===r.length?t.push(r[5].split("_")[0]+n+"|"+n):console.warn("FileShow.js: недействительная структура поля:",n,e.props.doc.fieldValues[n])}}),t.sort().forEach(function(t){var n=t.split("|")[1];e.fileArr.push({key:e.filter+e.nDescr++,xName:n,oldValue:e.props.doc.fieldValues[n],newValue:e.props.doc.fieldValues[n]})})}},{key:"addFiles",value:function(e){var t=e.dataTransfer?e.dataTransfer.files:e.target.files;if(t&&!this.props.readOnly){if(!t[0].size)return this.props.doc.msg.box("Нельзя присоединить файл нулевой длины");var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,l=this.filter+this.nDescr++;this.fileArr.push({key:l,xName:l,fileObject:s})}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}this.forceUpdate()}}},{key:"delFile",value:function(e){this.props.readOnly||(this.fileArr.forEach(function(t){e===t.xName&&(t.del=!0,t.fileObject&&(delete t.fileObject,t.fileObject=null))}),this.forceUpdate())}},{key:"getNewValues",value:function(e){var t="";return this.fileArr.forEach(function(n){n.del?n.oldValue&&(t+=h.Util.addJson(n.xName,n.oldValue,"")):!n.oldValue&&n.newValue?t+=h.Util.addJson(n.xName,"",n.newValue):n.fileObject&&!e&&(t+=h.Util.addJson(n.xName,"",'Файл "'+n.fileObject.name+'" не сохранен'))}),t}},{key:"hasAtt",value:function(){var e=[];if(this.fileArr.forEach(function(t){t.del||(t.fileObject?e.push(t.fileObject.name):e.push(t.oldValue.split("|")[2]))}),e.length)return e.join("\n")}},{key:"startUpload",value:function(){if(this.run=!1,this.uploadError=!1,!this.props.readOnly){if(this.state.runUpload)return void(this.run=!0);for(var e=0;e<this.fileArr.length;e++)this.fileArr[e].fileObject&&!this.fileArr[e].del&&(this.run=!0);this.run&&this.setState({runUpload:!0})}}},{key:"uploadDone",value:function(e,t,n,r){var o=this;r?(this.uploadError=!0,this.props.doc.msg.error("Ошибка при отправке файла на сервер:\n\n"+r)):this.fileArr.forEach(function(r){e===r.xName&&(r.xName=t,r.newValue=n,delete r.fileObject,r.fileObject=null)});var i=!1;this.fileArr.forEach(function(e){e.fileObject&&!e.fileObject.filineErr&&(i=!0,o.forceUpdate())}),i||(this.setState({runUpload:!1}),this.run=!1,this.props.uploadDone(this.filter))}},{key:"render",value:function(){var e=this,t=this.fileArr.map(function(t){return t.del?null:u.default.createElement(p.default,{key:t.key,xName:t.xName,xValue:t.newValue,fileObject:t.fileObject,dbAlias:e.props.doc.dbAlias,unid:e.props.doc.unid,docRef:e.props.doc.getField("ref")||null,delFile:e.delFile,runUpload:e.state.runUpload,uploadDone:e.uploadDone,filter:e.filter,readOnly:e.props.readOnly,doc:e.props.doc})}).filter(function(e){return e}),n=this.props.ttaFileShow||"tta"+(this.props.readOnly?" read-only":"");return u.default.createElement("div",{className:this.props.className,style:Object.assign({},this.props.style)},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:this.props.readOnly?"label":"fileLabel",style:{minWidth:this.props.wl||0,width:this.props.wl||"auto",padding:"2px 3px 8px 0"}},u.default.createElement("input",{type:"file",multiple:!0,onChange:this.addFiles,style:{display:"none"},ref:function(t){e.props.readOnly||(e.btnFile=t)}}),u.default.createElement("span",{onClick:function(){return e.btnFile&&!e.props.readOnly&&e.btnFile.click()},style:{cursor:this.props.readOnly?"default":"pointer"}},this.props.label)),u.default.createElement("div",{className:n},t.length?t:u.default.createElement("div",{className:"filine-blank"},this.labelBlank))))}}]),t}(u.default.Component);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),f=n(5),d=r(f),p=n(36),h=r(p),g=n(2),y=r(g),m=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.delFile=function(e){return n.props.delFile(n.props.xName)},n.notLook=function(){return[".doc",".docx",".xls",".xlsx",".tiff",".zip",".7z"].some(function(e){return n.href.includes(e)})},n.onload=function(e){var t=n.props.doc.mainDoc.sovaPagesByName[n.pageName],r=t&&t.doc;r&&(r.iframe=n.iframe&&n.iframe.current,r.waitLoad&&(r.waitLoad=!1,r.setState({spinner:!1})))},n.onkeydown=function(e){return e.ctrlKey&&"ArrowRight"===e.key?n.setRate(n.rate+.1):e.ctrlKey&&"ArrowLeft"===e.key?n.setRate(n.rate-.1):void 0},n.setRate=function(e){n.rate=parseFloat(e.toFixed(1)),n.rate<.1&&(n.rate=.1),n.rate>3&&(n.rate=3),n.audio.current.playbackRate=n.rate,n.forceUpdate()},(0,d.default)(n),n.state={audio:!1,runUpload:!1},n.audio=c.default.createRef(),n.rate=1,n.progress=null,n.invalid=!1,n.iframe=(0,u.createRef)();try{if(!n.props.xName)return i(n);if(n.props.fileObject)n.f_name=n.props.fileObject.name,n.f_type=n.props.fileObject.type,n.f_size=n.props.fileObject.size,n.f_date_db="",n.f_date_crt=y.default.formatDateTime(new Date(n.props.fileObject.lastModified)),
!n.f_type&&n.f_name.endsWith(".7z")&&(n.f_type="application/x-zip-compressed"),n.href="";else{var r=void 0,a=n.props.xValue.split("|"),l=s(a,6);n.f_store=l[0],n.f_zip=l[1],n.f_name=l[2],n.f_type=l[3],n.f_size=l[4],r=l[5],n.pageName=n.f_name;var f=y.default.partition(r,"_"),p=s(f,2);n.f_date_db=p[0],n.f_date_crt=p[1],n.f_date_crt=n.f_date_crt||n.f_date_db,n.makeHref()}}catch(e){console.warn("Filine.js:",e.message),n.invalid=!0}return n}return a(t,e),l(t,[{key:"openFile",value:function(e){var t=this;if(e.stopPropagation(),e.preventDefault(),this.notLook())return y.default.xopen("docopen?"+this.href);var n=y.default.getRect(this.props.doc,948,600),r={iframeUrl:"docopen?"+this.href+"&UTF-8",max:!0,print:!0,setSpinner:!0,pageName:this.pageName,title:"Просмотр вложения "+this.f_name,frameStyle:Object.assign({},n),fieldValues:{FORM:"attshow"}};if([".jpg",".jpeg",".png",".gif"].some(function(e){return t.href.toLowerCase().includes(e)})){var o='<html><body style="margin:2px; text-align: center"><img src="'+this.href+'" width="100%" alt="alt"></body></html>';r.children=[{_teg:"iframe",attributes:{ref:this.iframe,onLoad:this.onload,srcDoc:o,width:"100%",style:{height:n.height-33}}}]}else r.children=[{_teg:"iframe",attributes:{ref:this.iframe,onLoad:this.onload,src:this.href+"&UTF-8",width:"100%",style:{height:n.height-33}}}];y.default.addChildPage(this.props.doc.mainDoc,r)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){!e.runUpload&&this.progress&&(delete this.progress,this.progress=null),this.setState({audio:this.state.audio,runUpload:!!e.fileObject&&e.runUpload})}},{key:"UNSAFE_componentWillUpdate",value:function(e,t){if(!this.state.runUpload&&t.runUpload){var n=new FormData;n.append("attachment",this.props.fileObject);var r=["upload?"+this.props.dbAlias,this.f_size,this.f_date_crt,this.props.docRef||this.props.unid].join("&");this.props.fileObject.filineErr=null,this.runXHR(r,n)}}},{key:"render",value:function(){var e=this;if(this.state.invalid)return c.default.createElement("div",{className:"filine-blank"},"invalid field: "+this.props.xName);var t=["9.5cm","1.7cm","4.5cm","0.85cm"],n=null,r=void 0,o=void 0;if(this.props.fileObject)r=this.f_name,o=this.state.runUpload?c.default.createElement("div",{style:{width:t[2]}},c.default.createElement("progress",{value:"0",max:"1",style:{width:t[2]},ref:function(t){return e.progress=t}})):c.default.createElement("div",{style:{width:t[2]},title:"Файл не сохранен в базе"},y.default.dtRus(this.f_date_crt));else{var i="Записано в базу "+y.default.dtRus(this.f_date_db);if(r=this.state.audio?c.default.createElement("audio",{controls:"controls",autoPlay:"autoplay",src:this.href,ref:this.audio}):c.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.href,title:"Открыть файл по ссылке. Для сохранения файла на диск нажмите правую кнопку мыши и выберите 'Сохранить как...'"},this.f_name),this.f_type.includes("audio"))n=this.state.audio?c.default.createElement("div",{style:{width:t[2],textAlign:"center"}},c.default.createElement("div",{style:{fontWeight:"bold",cursor:"pointer",marginBottom:5},onClick:function(){return e.setState({audio:!1})}},"остановить"),c.default.createElement("div",null,"скорость ",this.rate),c.default.createElement(h.default,{axis:"x",xmin:.1,xmax:3.1,xstep:.1,x:this.rate,onChange:function(t){var n=t.x;return e.setRate(n)}})):c.default.createElement("div",{style:{width:t[2],textAlign:"center",cursor:"pointer"},title:i,onClick:function(){return e.setState({audio:!0})}},"прослушать запись",c.default.createElement("br",null),y.default.dtRus(this.f_date_crt)),o=c.default.createElement("div",{onKeyDown:this.onkeydown,tabIndex:"1",style:{color:"green"}},n);else{var a=this.notLook()?["сохранить на диск","скачать"]:["Открыть для просмотра или печати","быстрый просмотр"];n=c.default.createElement("span",{style:{color:"blue",cursor:"pointer"},onClick:this.openFile,title:a[0]},a[1],c.default.createElement("br",null)),o=c.default.createElement("div",{style:{width:t[2],textAlign:"center"},title:i},n,y.default.dtRus(this.f_date_crt))}}return c.default.createElement("div",{className:"filine"},c.default.createElement("div",{style:{width:t[0]}},r),c.default.createElement("div",{style:{width:t[1]}},this.f_size),o,c.default.createElement("span",{onClick:this.delFile,style:{width:t[3],display:this.props.readOnly||this.state.runUpload||this.state.audio?"none":"table-cell"},title:"Удалить вложение"},"×"))}},{key:"runXHR",value:function(e,t){var n=this,r=new XMLHttpRequest;r.open("post",e,!0),r.withCredentials=!0,r.addEventListener("load",function(){200===r.status?n.uploadSuccess(r.responseText):n.uploadError(r.status+" "+r.responseText)}),r.addEventListener("error",function(e){return n.uploadError(e.message||e)}),r.upload.addEventListener("progress",function(e){n.progress&&(n.progress.value=e.loaded,n.progress.max=e.total)}),r.send(t)}},{key:"uploadSuccess",value:function(e){try{var t=e.split("&"),n=this.props.filter+t[0];this.f_store=t[1],this.f_date_db=t[2],this.f_zip=t[3]+(1===t[3].length&&this.props.docRef?"R":""),this.makeHref(t[0]),this.setState({runUpload:!1});var r=[this.f_store,this.f_zip,this.f_name,this.f_type,this.f_size,this.f_date_db].join("|");this.props.uploadDone(this.props.xName,n,r)}catch(e){console.log("Filine.js: invalid responseText of xhr",e.message),this.uploadError("uploadSuccess - exception after upload")}}},{key:"makeHref",value:function(e){this.href=["download/"+this.f_name+"?"+this.props.dbAlias,this.props.unid,e||this.props.xName.split("_")[1],this.f_store,this.f_zip,this.f_type,this.f_size].join("&")}},{key:"uploadError",value:function(e){this.props.fileObject.filineErr=e||"error",this.setState({runUpload:!1}),this.props.uploadDone(this.props.xName,"","",e),console.log("uploadError:",e)}}]),t}(c.default.Component);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(2),f=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setValue=function(e){return n.setState({text:e||""})},n.getValue=function(e){return n.state.text},n.getDom=function(){return n.dom.current},n.state={text:n.props.xValue||""},n.dom=u.default.createRef(),n}return a(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("span",Object.assign({title:this.props.title,style:Object.assign({},this.props.style),className:this.props.className,ref:this.dom},c.Util._on_(this.props)),c.Util.splitText(this.state.text,this.props))}}]),t}(u.default.Component);t.default=f},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(t.rgb2hsv=function(e,t,n){var r,o,i,a=Math.max(e,t,n),s=Math.min(e,t,n),l=a-s;return r=0===l?0:e===a?(t-n)/l%6:t===a?(n-e)/l+2:(e-t)/l+4,r=Math.round(60*r),r<0&&(r+=360),o=Math.round(100*(0===a?0:l/a)),i=Math.round(a/255*100),{h:r,s:o,v:i}},function(e){var t=e.toString(16);return 1===t.length?"0"+t:t}),r=t.rgb2hex=function(e,t,r){return"#"+[n(e),n(t),n(r)].join("")},o=(t.hex2rgb=function(e){return"#"===e[0]&&(e=e.substr(1)),3===e.length?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16)}:{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16)}},t.hsv2rgb=function(e,t,n){var r=n/100,o=[],i=r*t/100,a=e/60,s=i*(1-Math.abs(a%2-1)),l=r-i;switch(parseInt(a,10)){case 0:o=[i,s,0];break;case 1:o=[s,i,0];break;case 2:o=[0,i,s];break;case 3:o=[0,s,i];break;case 4:o=[s,0,i];break;case 5:o=[i,0,s];break;default:return{r:0,g:0,b:0}}return{r:Math.round(255*(o[0]+l)),g:Math.round(255*(o[1]+l)),b:Math.round(255*(o[2]+l))}});t.hsv2hex=function(e,t,n){var i=o(e,t,n);return r(i.r,i.g,i.b)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.parseColor=void 0;var s=n(1),l=r(s),u=n(5),c=r(u),f=n(39),d=r(f),p=n(109),h=n(2),g=r(h),y=n(36),m=r(y),v=t.parseColor=function(e){var t=4===e.length?"#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]:e.substr(0,7),n=(0,p.hex2rgb)(t),r=n.r,o=n.g,i=n.b,a=(0,p.rgb2hsv)(r,o,i),s=a.h,l=a.s,u=a.v,c=void 0,f=void 0;return e.length>7?(c=Math.round(100*parseInt(e.substr(7,2),16).toString(10)/255),f=e.substr(0,9)):(c=100,f=t+"ff"),{h:s,s:l,v:u,r:r,g:o,b:i,a:c,hex:t,hexa:f}},b=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));w.call(n),(0,c.default)(n),n.state={color:Object.assign({},n.props.color)};var r=n.props.doc,a=r.page?r.page.props.owner.getField("rainbow"):r.getField("rainbow");return n.colorList=a.split("\n").filter(function(e){return e}),n.avatar=n.props.doc.mainDoc.sovaPagesByName.avatar,n.forDel=-1,n}return a(t,e),t}(l.default.Component),w=function(){var e=this;this.componentDidMount=function(t){return e.refs.cp.focus()},this.setFields=function(t){var n=t.join("\n"),r=e.props.doc;r.page?r.page.props.owner.setField("rainbow",n):r.setField("rainbow",n)},this.changeColor=function(t,n){t.hexa=t.hex+("0"+Math.round(255*t.a/100).toString(16)).slice(-2),e.setState({color:t}),e.props.onChange(Object.assign({},t),n)},this.changeHSV=function(t,n,r,o){var i=(0,p.hsv2rgb)(t,n,r),a=i.r,s=i.g,l=i.b,u=(0,p.rgb2hex)(a,s,l);e.changeColor({a:e.state.color.a,h:t,s:n,v:r,r:a,g:s,b:l,hex:u},o)},this.changeRGB=function(t,n,r,o){var i=(0,p.rgb2hex)(t,n,r),a=(0,p.rgb2hsv)(t,n,r),s=a.h,l=a.s,u=a.v;e.changeColor({a:e.state.color.a,r:t,g:n,b:r,h:s,s:l,v:u,hex:i},o)},this.changeAlpha=function(t,n){return e.changeColor(Object.assign({},e.state.color,{a:t}),n)},this.changeHex=function(t,n){var r=t.trim();if(7===r.length){var o=(0,p.hex2rgb)(r),i=o.r,a=o.g,s=o.b,l=(0,p.rgb2hsv)(i,a,s),u=l.h,c=l.s,f=l.v;e.changeColor({a:e.state.color.a,h:u,s:c,v:f,r:i,g:a,b:s,hex:r},n)}else e.changeColor(Object.assign({},e.state.color,{hex:r}),n)},this.toReinbow=function(t){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation();var n=Math.round(255*e.state.color.a/100).toString(16),r=e.state.color.hex+n;e.colorList.includes(r)||(e.colorList.push(r),e.setFields(e.colorList),e.forceUpdate())},this.colorItemDown=function(t,n){t.stopPropagation(),e.avatar.linkedRedraw=e.move_up.bind(e),e.changeColor(v(e.colorList[n]),!0),e.colorItem=n;var r=t.target.getBoundingClientRect();e.avatar.frameStyle={left:r.left,top:r.top-50,backgroundColor:t.target.style.backgroundColor};var o=[t.clientX,t.clientY];e.avatar.x1=o[0],e.avatar.y1=o[1],e.avatar.props.owner.dragStart=e.avatar.props.pageName,e.avatar.props.owner.forceUpdate()},this.move_up=function(t,n){var r=document.elementsFromPoint(t.clientX,t.clientY),o=e.colorList;if(n)return 0===r.filter(function(e){return"colorHist"===e.className}).length&&(o.splice(e.colorItem,1),e.setFields(o),e.forDel=-1,e.forceUpdate()),e.colorItem=null,e.avatar.frameStyle.display="none",void(e.avatar.linkedRedraw=0);var i=r.filter(function(e){return e.id.startsWith("colorItem_")});if(0===i.length)return e.forDel=r.filter(function(e){return"colorHist"===e.className}).length?-1:e.colorItem,e.forceUpdate();var a=parseInt(g.default.partition(i[0].id,"_")[1],10);if(e.colorItem===a)return void(e.forDel>=0&&(e.forDel=-1,e.forceUpdate()));if(!e.busy){e.busy=!0;var s=void 0,l=void 0;e.colorItem>a?(s=o.splice(e.colorItem,1)[0],l=o.splice(a,1)[0],o.splice(a,0,s,l)):(s=o.splice(a,1)[0],l=o.splice(e.colorItem,1)[0],o.splice(a-1,0,s,l)),e.ipont=e.colorItem,e.forDel=-1,e.colorItem=a,e.forceUpdate(),setTimeout(function(){e.busy=!1,e.ipont=null,e.forceUpdate(),e.setFields(o)},50)}},this.blu=function(e){return e.stopPropagation()},this.render=function(){var t=e.state.color,n=t.a,r=t.h,o=t.s,i=t.v,a=t.r,s=t.g,u=t.b,c=t.hex,f=t.hexa,h=e.colorList.length?e.colorList.map(function(t,n){var r=t===e.props.xValue?{boxShadow:"0 0 2px 2px #8af"}:{};return e.forDel!==n?n===e.ipont?r.opacity=0:(r.opacity=1,r.transition="opacity 1s ease",r.backgroundColor=t):r.borderRadius=0,l.default.createElement("div",{key:n,style:Object.assign({},r),onMouseDown:function(t){return e.colorItemDown(t,n)},id:"colorItem_"+n})}):l.default.createElement("span",null,"Запомнить цвет: ⊕",l.default.createElement("br",null)," ");return l.default.createElement("div",{className:"picker",onMouseUp:e.props.toHist,ref:"cp",tabIndex:"1",onBlur:e.props.hideCP,onFocus:e.props.foMain,onMouseDown:e.mDown,style:e.props.style},l.default.createElement("div",{className:"up-arrow",style:e.props.styleArrow}),l.default.createElement("div",{className:"selector",style:{backgroundColor:(0,p.hsv2hex)(r,100,100)}},l.default.createElement("div",{className:"gradientWhite"}),l.default.createElement("div",{className:"gradientDark"}),l.default.createElement(m.default,{axis:"xy",x:o,xmax:100,y:100-i,ymax:100,active:"noActive",thumb:"colorTumb",onChange:function(t,n){var o=t.x,i=t.y;return e.changeHSV(r,o,100-i,n)},style:{width:"100%",height:"100%",background:"none"},doc:e.props.doc})),l.default.createElement("div",{style:{width:"99%",marginTop:10,display:"flex"}},l.default.createElement("div",{style:{flex:1,margin:"0 14px"}},l.default.createElement(m.default,{axis:"x",x:r,xmax:359,active:"noActive",style:{borderRadius:0,background:"linear-gradient(to left, #FF0000 0%, #FF0099 10%, #CD00FF 20%, #3200FF 30%, #0066FF 40%, #00FFFD 50%, #00FF66 60%, #35FF00 70%, #CDFF00 80%, #FF9900 90%, #FF0000 100%)"},onChange:function(t,n){var r=t.x;return e.changeHSV(r,o,i,n)},doc:e.props.doc}),l.default.createElement("div",{style:{background:"#fff",marginTop:6,border:"1px solid silver"}},l.default.createElement(m.default,{axis:"x",x:n,xmax:100,active:"noActive",style:{margin:0,borderRadius:0,background:"linear-gradient(to right, "+c+"00, "+c+"ff)"},onChange:function(t,n){var r=t.x;return e.changeAlpha(r,n)},doc:e.props.doc}))),l.default.createElement("div",{className:"plus",style:{backgroundColor:f}},l.default.createElement("span",{title:"Добавить в список",onClick:e.toReinbow},"⊕"))),l.default.createElement("div",{className:"inputs"},l.default.createElement("div",{className:"input"},l.default.createElement("div",null,"Hex"),l.default.createElement("input",{tabIndex:"1",onMouseDown:e.props.fo,onBlur:e.blu,style:{width:75,textAlign:"left"},type:"text",value:c,onChange:function(t){return e.changeHex(t.target.value,!0)}})),l.default.createElement("div",{className:"input"},l.default.createElement("div",null,"R"),l.default.createElement(d.default,{onMouseDown:e.props.fo,onBlur:e.blu,dumb:!0,min:0,max:255,xValue:a,onChange:function(t){return e.changeRGB(t,s,u,!0)}})),l.default.createElement("div",{className:"input"},l.default.createElement("div",null,"G"),l.default.createElement(d.default,{onMouseDown:e.props.fo,onBlur:e.blu,dumb:!0,min:0,max:255,xValue:s,onChange:function(t){return e.changeRGB(a,t,u,!0)}})),l.default.createElement("div",{className:"input"},l.default.createElement("div",null,"B"),l.default.createElement(d.default,{dumb:!0,min:0,max:255,xValue:u,onChange:function(t){return e.changeRGB(a,s,t,!0)},onMouseDown:e.props.fo,onBlur:e.blu})),l.default.createElement("div",{className:"input"},l.default.createElement("div",null,"A"),l.default.createElement(d.default,{dumb:!0,min:0,max:100,xValue:n,onChange:function(t){return e.changeAlpha(t,!0)},onMouseDown:e.props.fo,onBlur:e.blu}))),l.default.createElement("div",{className:"colorHist"},h))}};t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=r(s),u=n(20),c=n(2),f=r(c),d=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getDom=function(){return n.dom.current},n.getValue=function(e){return n.textOrObj},n.setValue=function(e,t){n.textOrObj=e,n.kkey=t||0,n.readOnly=t?!["edit","admin","new"].includes(n.props.doc.rsMode):n.props.readOnly,n.forceUpdate()},n.render=function(e){var t=null;if(n.textOrObj)if("string"==typeof n.textOrObj)try{t=JSON.parse(n.textOrObj)}catch(e){t=[f.default._div({br:1,style:{color:"red"}},null,"Error in field JSON("+n.props.xName+")\n"+e.name+": "+e.message),f.default._div(null,null,n.textOrObj)]}else t=n.textOrObj;return l.default.createElement("div",{style:Object.assign({},n.props.style),className:n.props.className,ref:n.dom},(0,u.boxing)(Array.isArray(t)?t:[t],n.props.doc,n.readOnly,0,0,n.kkey))},n.textOrObj=n.props.xValue,n.kkey=0,n.readOnly=n.props.readOnly,n.dom=l.default.createRef(),n}return a(t,e),t}(l.default.Component);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),f=n(5),d=r(f),p=n(51),h=r(p),g=n(2),y=r(g),m=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.componentDidMount=function(e){return n.changeDropList()},n.getValue=function(e){return"undefined"==typeof n.items[n.state.sel]?n.props.xValue||"undefined":n.items[n.state.sel].label},n.setValue=function(e){n.setState({sel:e}),y.default.recalc(n,n.items[e].label,n.items[e].opt,e)},n.getDom=function(){return n.dom.current},n.onclick=function(e){n.setState({sel:e}),n.props.saveAlias&&n.props.doc.setField(n.props.xName+"_ALIAS",n.items[e].opt),y.default.recalc(n,n.items[e].label,n.items[e].opt,e)},(0,d.default)(n),n.items=[],n.dom=c.default.createRef(),n.state={sel:parseInt(n.props.default||0,10),focusOn:!1},n}return a(t,e),l(t,[{key:"changeDropList",value:function(e,t){var n=this,r=parseInt(t||this.props.default||0,10),o=this.props.ls;if("string"==typeof o){if(o.includes("|||")){var i=o.split("|||"),a=s(i,2),l=a[0],u=a[1];o=u.replace(/{FIELD}/g,e||this.props.doc.getField(l))}else o=e||o;y.default.jsonByUrl(this.props.doc,o).then(function(e){n.items=(e||[]).map(function(e){var t=y.default.partition(e,"|"),n=s(t,2),r=n[0],o=n[1];return{ref:null,label:r,opt:o}}),n.setState({sel:r}),n.items[r]?y.default.recalc(n,n.items[r].label,n.items[r].opt,r):y.default.recalc(n,"","","undefined")}).catch(function(e){var t="List.js: Util.jsonByUrl:"+e;n.items=[{ref:null,label:t,opt:""}],console.error(t),n.setState({sel:r})})}else this.items=(e||o).map(function(e){var t=y.default.partition(e,"|"),n=s(t,2),r=n[0],o=n[1];return{ref:null,label:r,opt:o}}),this.setState({sel:r}),this.items[r]?y.default.recalc(this,this.items[r].label,this.items[r].opt,r):y.default.recalc(this,"","","undefined")}},{key:"render",value:function(){var e=this,t=this.items.map(function(t,n){return c.default.createElement(h.default,{key:Math.random(),listItemClassName:e.props.listItemClassName,index:n,iShow:n,items:e.items,evenColor:e.props.evenColor,onclick:function(t){return e.onclick(n)},ondoubleclick:function(e){},sel:e.state.sel===n,ref:function(t){t&&e.items[n]&&(e.items[n].ref=t)}})});return c.default.createElement("div",{className:this.props.className,style:Object.assign({},this.props.style),ref:this.dom},t.length?t:"")}}]),t}(c.default.Component);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),f=n(5),d=r(f),p=n(40),h=r(p),g=n(2),y=r(g),m=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setValue=function(e){return n.setV(e)},n.getValue=function(){return n.state.value},n.setFocus=function(){n.setState({focusOn:!0}),n.tta.focus()},n.getDom=function(){return n.dom.current},n.getDropList=function(e){return n.state.dropList},n.componentDidMount=function(){return n.changeDropList()},(0,d.default)(n),n.multi="lbmd"===n.props.type,n.placeholder="Выберите значение из списка",n.inputEnable=!0,n.input="",n.dom=c.default.createRef(),n.sep=n.props.sep||"|",n.state={value:n.props.xValue||"",focusOn:!1},n}return a(t,e),l(t,[{key:"setV",value:function(e){this.inputEnable=!0,this.input="",this.setState({value:e||""})}},{key:"changeDropList",value:function(e){var t=this,n=this.props.ls;if(this.props.readOnly||!n||!n.length)return this.setState({dropList:[]});if("string"==typeof n){if(n.includes("|||")){var r=y.default.partition(n,"|||"),o=s(r,2),i=o[0],a=o[1];n=a.replace(/{FIELD}/g,e||this.props.doc.getField(i))}else n=e||this.props.ls;y.default.jsonByUrl(this.props.doc,n).then(function(e){t.labels=(e||[]).map(function(e){return e.split(t.sep)[0].toLowerCase()}),t.values=t.props.alias&&(e||[]).map(function(e){return y.default.partition(e,t.sep)[1]}),t.setState({value:t.state.value||"",dropList:e||[]})}).catch(function(e){return console.error("ListBoxSD.js: Util.jsonByUrl:"+n+"\n"+e)})}else{var l=e||n;this.labels=l.map(function(e){return e.split(t.sep)[0].toLowerCase()}),this.values=this.props.alias&&l.map(function(e){return y.default.partition(e,t.sep)[1]}),this.setState({value:this.state.value||"",dropList:l})}}},{key:"onkeydown",value:function(e){var t=y.default.upDown(e,this.props.doc,this.props.xName,!0);if("up"===t)return this.props.doc.setFocus(this.props.myRow-1);if("down"===t)return this.props.doc.setFocus(this.props.myRow+1);var n=0;switch(e.keyCode){case 37:case 39:this.input="",this.inputEnable=!this.state.value,this.forceUpdate();break;case 13:return this.showListBox(e);case 40:return!e.altKey||this.showListBox(e);case 8:return this.delValue(e,-1);case 46:return this.delValue(e,0);case 32:if(this.props.saveAlias&&this.state.value.includes("\n"))break;var r=[];if(this.state.value){var o=this.state.value.split("\n");r=o.slice(0,-1),n=this.labels.indexOf(o.slice(-1)[0].split(this.sep)[0].toLowerCase()),n>=0&&n<this.labels.length-1?n+=1:(this.props.alias&&(n=this.values.indexOf(o.slice(-1)[0].split(this.sep)[0])),n>=0&&n<this.labels.length-1?n+=1:n=0)}r.push(this.state.dropList[n]),this.updateValue(r.join("\n"));break;default:return}e.stopPropagation(),e.preventDefault()}},{key:"onkeypress",value:function(e){if(!e.ctrlKey){var t=e.key.toLowerCase();if(!this.inputEnable)return this.showListBox(e,t);e.stopPropagation();for(var n in this.labels)if(this.labels[n].startsWith(this.input+t))return this.input+=t,void this.updateValue(this.state.dropList[n],!1);var r="(«\"'-",o=!0,i=!1,a=void 0;try{for(var s,l=r[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var u=s.value,c=u+this.input+t;for(var f in this.labels)if(this.labels[f].includes(c))return this.input+=t,void this.updateValue(this.state.dropList[f],!1)}}catch(e){i=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(i)throw a}}}}},{key:"onpaste",value:function(e){try{var t=e.clipboardData.getData("text/plain").toLowerCase();if(this.inputEnable){this.input="";var n=0,r=void 0;for(var o in t){for(var i=!1;n<this.labels.length;n++)if(this.labels[n].startsWith(this.input+t[o])){i=!0;break}if(!i)break;r=n,this.input+=t[o]}this.input&&this.updateValue(this.state.dropList[r],!1)}else this.showListBox(e,t)}catch(e){console.error("Ошибка при вставке текса:"+e.message)}e.stopPropagation(),e.preventDefault()}},{key:"showListBox",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e.stopPropagation(),e.preventDefault(),this.state.dropList&&this.state.dropList.length){var r=this.state.dropList.map(function(e){return e.split(t.sep)[0]}),o=this.input||n||!this.state.value?0:this.state.value.split("\n").reduce(function(e,n){var o=n.split(t.sep)[0],i=r.indexOf(o);return i>=0?e.push(i):t.props.alias&&(i=t.values.indexOf(o),i>=0&&e.push(i)),e},[]);this.props.doc.msg.list(this.state.dropList,"Выберите значение",{multi:this.multi&&!n,checked:o,text:this.input||n,sep:this.sep},this.props.small,this.props.info).then(function(e){t.updateValue(e,!0,!!n&&t.multi),t.tta.focus()}).catch(function(e){return t.tta.focus()})}}},{key:"findAlias",value:function(e){var t=this,n=[],r=[];return e.split("\n").forEach(function(e){var o=y.default.partition(e,t.sep),i=s(o,2),a=i[0],l=i[1];t.props.alias?n.push(l?l:a):(n.push(a),r.push(l))}),[n.join("\n"),r.join("\n")]}},{key:"updateValue",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t&&(this.input=""),this.inputEnable=!(e&&t);var r=this.findAlias(e),o=s(r,2),i=o[0],a=o[1];if(this.setState({value:(n&&this.state.value?this.state.value+"\n":"")+i}),this.props.saveAlias){if(n){var l=this.props.doc.getField(this.props.xName+"_ALIAS");a=(l?l+"\n":"")+a}this.props.doc.setField(this.props.xName+"_ALIAS",a)}y.default.recalc(this,i,a)}},{key:"delValue",value:function(e,t){e.stopPropagation(),e.preventDefault();var n=this.state.value.split("\n");if(n.length){t<0&&(t=n.length-1);var r="";if(this.props.saveAlias){var o=this.props.doc.getField(this.props.xName+"_ALIAS").split("\n");n.length===o.length&&(r=o.filter(function(e,n){return n!==t}).join("\n"),this.props.doc.setField(this.props.xName+"_ALIAS",r))}var i=n.filter(function(e,n){return n!==t}).join("\n");this.input="",this.inputEnable=!i,this.setState({value:i}),y.default.recalc(this,i,r)}}},{key:"render",value:function(){var e=this;if(this.props.readOnly)return c.default.createElement(h.default,{xValue:this.props.xValue||"",readOnly:!0,style:Object.assign({},this.props.style)});var t=this.state.focusOn&&!this.input?c.default.createElement("span",{className:"lbCursor"},"|"):null,n=this.state.value.split("\n").map(function(n,r,o){if(!n){var i=e.state.focusOn?" ":e.props.placeholder||e.placeholder;return c.default.createElement("div",{key:r,style:{border:"1px solid transparent"}},c.default.createElement("span",{className:"placeholder"},i),t)}var a=n.split(e.sep)[0],s=null;return e.input&&0===a.toLowerCase().indexOf(e.input)&&(s=c.default.createElement("b",{style:{color:"#f08"}},a.slice(0,e.input.length)),a=a.slice(e.input.length)),c.default.createElement("div",{key:r,style:{border:"1px solid #eee"}},c.default.createElement("span",{className:"delBtn",title:"Удалить",onClick:function(t){return e.delValue(t,r)}},"×"),s,a,r<o.length-1?null:t)});return c.default.createElement("div",Object.assign({style:Object.assign({},this.props.style)},y.default._on_(this.props),{ref:this.dom}),c.default.createElement("div",{className:"tta"+(this.state.focusOn?" on-focus":""),style:Object.assign({padding:"2px 0 2px 2px"},this.props.ttaStyle),tabIndex:"0",onFocus:function(t){e.inputEnable=!e.state.value,e.setState({focusOn:!0})},onBlur:function(t){e.inputEnable=!1,e.input="",e.setState({focusOn:!1})},onKeyDown:this.onkeydown,onKeyPress:this.onkeypress,onPaste:this.onpaste,ref:function(t){return e.tta=t}},c.default.createElement("div",{style:{display:"table-cell"}},n),c.default.createElement("div",{className:"btn-lb-zone",onClick:function(t){return e.showListBox(t)}},c.default.createElement("div",{className:"btn-lbsd"}))))}}]),t}(c.default.Component);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t;
}}(),l=n(1),u=r(l),c=n(5),f=r(c),d=n(20),p=n(98),h=r(p),g=n(2),y=r(g),m=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getDom=function(){return n.dom.current},n.setValue=function(e){n.items.length&&n.ptrs[n.sel].setState({sel:!1}),n.ptrs=[],n.unids=[],n.sel=0,n.items=(e||[]).map(function(e,t){return n.unids[t]=e[0],u.default.createElement(h.default,{key:e[0],ref:function(e){return n.ptrs[t]=e},sel:t===n.sel,index:t,row:(0,d.boxing)(e.slice(2),n.props.doc),toggle:n.toggle,evenColor:n.props.evenColor})}),n.forceUpdate(),n.items.length&&setTimeout(function(e){return n.ptrs[0].setState({sel:!0})},100)},n.onkeydown=function(e){if(!e.ctrlKey)switch(e.keyCode){case 38:return n.toggle(n.sel-1,e);case 40:return n.toggle(n.sel+1,e);case 33:return n.toggle(n.sel-12,e);case 34:return n.toggle(n.sel+12,e);case 36:return n.toggle(0,e);case 35:return n.toggle(n.items.length-1,e);case 13:return e.stopPropagation(),e.preventDefault(),n.unids[n.sel]&&y.default.runCmd(n.props.doc,"showAsk",n.unids[n.sel]);case 9:n.props.doc.setFocus(0),e.stopPropagation(),e.preventDefault();break;default:return}},n.setFocus=function(e){n.setState({focusOn:!0}),n.dom.current.focus()},(0,f.default)(n),n.items=[],n.ptrs=[],n.unids=[],n.sel=0,n.areaStyle={width:"100%",display:"table",tableLayout:"fixed"},n.state={},n.dom=u.default.createRef(),n}return a(t,e),s(t,[{key:"toggle",value:function(e,t){e!==this.sel&&(e>=this.items.length&&(e=this.items.length-1),e<0&&(e=0),this.ptrs[this.sel].setState({sel:!1}),this.sel=e,this.ptrs[this.sel].setState({sel:!0}),this.ptrs[this.sel].getDom().focus()),t.stopPropagation(),t.preventDefault()}},{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:this.props.className,style:Object.assign({},this.props.style,{border:this.state.focusOn?"1px solid #00f":"1px solid #fff"}),ref:this.dom,onFocus:function(t){return e.setState({focusOn:!0})},onBlur:function(t){return e.setState({focusOn:!1})},tabIndex:"0",onKeyDown:this.onkeydown},u.default.createElement("div",{style:{background:this.items.length?"#fff":"transparent"}},this.items))}}]),t}(u.default.Component);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),f=n(5),d=r(f),p=n(2),h=r(p),g=n(35),y=11,m=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.showDlg=function(e){var t=n.props.doc,r=void 0,o=void 0;if("F"===n.status)return r=t.getField("status_fd"),o=t.getField("notes_fd")||n.notes,n.runXhrHourSave(r,o);var i=215,a=n.status;r=n.status.toLowerCase(),"m"===r&&(r="a"),t.dlg.show(n.props.j+1+"."+("0"+(n.props.mm+1)).slice(-2)+"."+n.props.yy+" "+(n.props.r+y)+":00",{status:r,userName:n.uNamePhone,notes:n.notes},{style:{position:"fixed",zIndex:1e3,width:250,top:"calc(100vh / 2 - 90px)",left:"calc(100vw / 2 - 90px)",height:i,overflow:"hidden"},buttons:["OK+|Y","отмена"],cmButton:function(e){n.enable?(r=t.dlg.getField("status").split("|")[0]||"F",r=r===a.toLowerCase()?a:r,o=t.dlg.getField("notes"),r===n.status&&o===n.notes||n.runXhrHourSave(r,o)):alert("Нельзя изменить чужую аренду")}},{width:240,height:i-65},JSON.parse(t.getField("cellProps_fd")),null,"dlgButtons2")},n.afterSave=function(e,t){n.status=e,n.uNamePhone=n.uName=n.userName,n.uName2=h.default.partition(n.uName,"/")[0],n.notes=t,n.props.setCell(n.props.i,[e,n.uNamePhone,t]),n.setState({status:e})},n.render=function(e){var t=new Date(n.props.yy,n.props.mm,n.props.j+1);n.cl=h.default.anyMobile?"cell":"bigCell",n.cl+=n.props.c13||t.getTime()!==(new Date).setHours(0,0,0,0)?" ":" b",n.classN=n.cl+(n.userName2===n.uName2&&"F"!==n.status?"m"+n.status:n.status);var r=h.default.anyMobile?"":":00";n.props.c13?n.label=n.props.r+y+r:t.getDay()?n.label="":n.label=n.props.r+y+r;var o=h.default.anyMobile?"":c.default.createElement("span",null,c.default.createElement("br",null),n.notes||"",c.default.createElement("br",null),n.uName||"");return c.default.createElement("div",{className:n.classN,onClick:n.showDlg},n.label,o)},(0,d.default)(n),n.status=n.props.value[0]||"F",n.uNamePhone=(n.props.value[1]||"").toString(),n.notes=(n.props.value[2]||"").toString(),n.userName=n.props.doc.props.userName,n.userName2=h.default.partition(n.userName,"/")[0],n.uName=h.default.partition(n.uNamePhone,"\n")[0],n.uName2=h.default.partition(n.uName,"/")[0];var r=n.notes.toLowerCase().trim();return n.status&&(n.userName2===n.uName2||"Новый Век"!==n.uName2||r&&!r.includes("отпуск"))||(n.status="F"),n.enable="F"===n.status||n.userName2===n.uName2,n.state={status:n.status},n}return a(t,e),l(t,[{key:"runXhrHourSave",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=e+"|"+t,i="/saveHour?"+this.props.dKey+"_"+(this.props.j+1)+"_"+(this.props.r+y)+"_"+r;fetch(i,{method:"post",body:o,credentials:"include"}).then(function(r){409===r.status?r.text().then(function(r){return n.props.doc.msg.box("ПЕРЕЗАПИСАТЬ ДОКУМЕНТ?\n"+r,"Конфликт при сохранении",["Да+|Y","Нет"]).then(function(r){return n.runXhrHourSave(e,t,"force")})}).catch(function(e){return alert("Конфликт при сохранении")}):200!==r.status?alert("DocSave-error-status "+r.status+"\nurl:"+i):n.afterSave(e,t)}).catch(function(e){return alert("DocSave-error:"+e+"\n\nurl:"+i)})}}]),t}(c.default.Component),v=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.componentDidMount=function(e){n.noLoad||n.cells||n.waitLoad||h.default.hide(n.props.doc,n.props.name)||(n.waitLoad=!0,n.loadTable())},n.shouldComponentUpdate=function(e,t){return n.noLoad||n.cells||n.waitLoad||h.default.hide(n.props.doc,n.props.name)||(n.waitLoad=!0,n.loadTable()),!0},n.setCell=function(e,t){return n.cells[e]=t},n.onclick=function(e){var t=n.props.doc,r=parseInt(t.getField("show_FD"),10);if(!(1===r&&e<0||10===r&&e>0)){var o=parseInt(t.getField("nRooms_FD"),10);Object.keys(t.register).forEach(function(r){if(t.register[r].props.showCol===n.props.showCol){var i=parseInt(h.default.partition(r,"_")[1],10),a=i+e*o;window.showRooms[a]=window.showRooms[i],window.showRooms[i]=!1,t.register["SCH_"+a.toString()].noLoad=t.register[r].noLoad}}),t.setField("show_FD",(r+e).toString()),t.forceUpdate()}},(0,d.default)(n);var r=n.props.header.split("|"),a=s(r,5);n.title=a[0],n.url=a[1],n.rType=a[2],n.month=a[3],n.dKey=a[4];var l=n.dKey.split("_");return n.mm=parseInt(l[1],10)-1,n.yy=parseInt(l[2],10),n.state={spinner:!1},n.props.doc.roomsLoad=n.props.doc.roomsLoad||[],n.noLoad=!0,n}return a(t,e),l(t,[{key:"loadTable",value:function(){var e=this;if(!this.err){var t=h.default.partition(this.props.xName,"_")[1],n=parseInt(t,10)-1;if(this.props.doc.roomsLoad[t]=!0,this.props.doc.roomsLoad[n])return void setTimeout(this.loadTable,25);setTimeout(function(t){return e.waitLoad?e.setState({spinner:!0}):0},500),this.forceUpdate(),h.default.jsonByUrl(this.props.doc,"api.get?loadMonth&"+this.dKey).then(function(n){e.waitLoad=!1,e.props.doc.setField(e.props.xName+"_key",e.dKey),e.cells=n.slice(),e.setState({spinner:!1}),e.props.doc.roomsLoad[t]=!1}).catch(function(n){e.err=e.props.xName+": "+e.dKey+": "+n,console.log(n),e.setState({spinner:!1}),e.props.doc.roomsLoad[t]=!1,e.waitLoad=!1})}}},{key:"render",value:function(){var e=this,t=this.props.doc,n=void 0,r=void 0,o=void 0;t.state.class_fd&&(o=t.getField("date_fd"),o&&(n=t.state.class_fd,r=o.split("-")[2],r=parseInt(r,10)));var i=void 0,a=null,s=this.cells;if(!this.noLoad&&s&&s.length&&s[0]){i=[];var l=this.props.btn,u=0,f=[],d=void 0,p=void 0,y=[];for(d=0;d<l;d++)n?r===d+1&&(f[d]=c.default.createElement("div",{key:d,style:{transform:"rotate(270deg)"},className:"cellDay"},h.default.partition(this.title," ")[0])):f[d]=c.default.createElement("div",{key:d,className:h.default.anyMobile?"cellDay":"bigCellDay"},d+1);for(i[0]=c.default.createElement("div",{key:"row1",className:"schTable"},f),p=0;p<Math.floor(s.length/l)+1;p++){for(y=[],d=0;d<l&&u<s.length;d++,u++)n&&r!==d+1||(y[d]=c.default.createElement(m,{c13:n,key:u,i:u,value:s[u],r:p,j:d,doc:t,mm:this.mm,yy:this.yy,dKey:this.dKey,setCell:this.setCell}));i[p+1]=c.default.createElement("div",{key:p,className:"schTable"},y)}i[p]=c.default.createElement("div",{key:"row2",className:"schTable"},f)}else i=" ",a=c.default.createElement("div",{className:"btn",onClick:function(n){return h.default.runCmd(t,"loadRoom",e)}},"Загрузить");var v="1"!==t.getField("show_FD"),b="10"!==t.getField("show_FD"),w=this.waitLoad&&this.state.spinner,_=c.default.createElement("div",{style:{width:120,padding:"0 14px",display:"table-cell",color:"blue",font:"normal 14px Verdana",letterSpacing:1}},this.title),x=w||n?null:c.default.createElement("div",{style:{margin:"auto",display:"table",paddingTop:5}},a,_,c.default.createElement("div",{className:"exp",style:v?{}:{cursor:"default"},onClick:function(t){return v&&e.onclick(-1)}},v&&String.fromCharCode(9668)),c.default.createElement("div",{className:"chMonth"},this.month),c.default.createElement("div",{className:"exp",style:b?{}:{cursor:"default"},onClick:function(t){return b&&e.onclick(1)}},b&&String.fromCharCode(9658)),a||_);return c.default.createElement("div",{style:Object.assign({},this.props.style),className:w?"norows":n||"shRow"},x,w?(0,g.spinner)(!1,!1):this.err?this.err:i)}}]),t}(c.default.Component);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(5),f=r(c),d=n(36),p=r(d),h=n(39),g=r(h),y=n(20),m=n(2),v=r(m),b=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(n.setValue=function(e){return n.setRate(isNaN(e)?(n.xmin+n.xmax)/2:Number(e),!1)},n.getValue=function(){return n.rate},n.setRate=function(e,t){n.rate=parseFloat(e.toFixed(n.digits)),n.rate=Math.min(n.rate,n.XMAX),n.rate=Math.max(n.rate,n.xmin),v.default.recalc(n,n.rate,!t,t),n.refs.smartNumber.value=n.rate,n.forceUpdate()},n.toHist=function(e){return v.default.recalc(n,n.rate,!1,!0)},n.setRate2=function(e){return!isNaN(e)&&n.setRate(Number(e),!0)},(0,f.default)(n),n.doc=n.props.doc,n.xName_=n.props.xName+"_1",n.digits=parseInt(n.props.digits||"0",10),n.xmin=Number(n.props.ls[0]),n.xmax=Number(n.props.ls[1]),n.rate=isNaN(n.props.xValue)?(n.xmin+n.xmax)/2:Number(n.props.xValue),n.XMAX=isNaN(n.props.ls[4])?n.xmax:Number(n.props.ls[4]),n.props.metric){var r=n.props.xName+"_metric",a=v.default.partition(n.props.metric,"|");n.metric=(0,y.makeControl)(r,{field:[r,"chb",a],attributes:{title:"переключить",char:1,className:"metric"}},n.doc)}return n}return a(t,e),s(t,[{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:this.props.className,style:Object.assign({},this.props.style),onMouseUp:this.toHist},u.default.createElement("div",{style:{display:"table",margin:"5px auto",borderSpacing:"5px 0"}},u.default.createElement("div",{className:"label",style:{display:"table-cell"}},this.props.ls[3]),u.default.createElement("div",{className:"input"},u.default.createElement(g.default,{min:this.xmin,width:40,xValue:this.rate,onChange:this.setRate2,ref:"smartNumber"})),this.metric),u.default.createElement(p.default,{axis:"x",xmin:this.xmin,xmax:this.xmax,xstep:this.props.ls[2],x:this.rate,onChange:function(t,n){var r=t.x;t.y;return e.setRate(r,n)},style:{width:"90%"},doc:this.props.doc}))}}]),t}(u.default.Component);t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SvgElement=void 0;var s,l=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),d=r(f),p=n(5),h=r(p),g=n(2),y=0,m={},v=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.getValue=function(e){return n.equ(n.oldSvg,n.newBox)?n.props.doc.fieldValues[n.props.xName]:JSON.stringify(n.svgBoxToField(n.newBox))},n.svgBoxToField=function(e){for(var t={_teg:e.props._teg,attributes:{},setting:{}},r=["id","x","y","w","h"],o=0;o<r.length;o++){var i=r[o];(e[i]||0===e[i])&&(t.attributes[i]=e[i].toString())}for(var a in e.setting)t.setting[a]=e.setting[a];if(e.tree){var s=[];e.tree.forEach(function(e){return(!e.state||!e.state.deleted)&&s.push(n.svgBoxToField(e))}),s.length&&(t.children=s)}return t},n.render=function(e){return n.oldSvg?d.default.createElement(b,Object.assign({doc:n.props.doc},n.oldSvg.attributes,{setting:n.oldSvg.setting,children:n.oldSvg.children,ref:function(e){n.newBox=e},style:n.props.style,onKeyDown:n.handleKeyDown,_teg:"svgBox"})):n.errBox},(0,h.default)(n);try{n.oldSvg=JSON.parse(n.props.xValue)}catch(e){console.log("Svg.js.JSON.parse",n.props.xValue,u(n.props.xValue)),n.oldSvg=null,n.errBox=d.default.createElement("div",{style:{color:"red"}},"Ошибка в поле SVG",d.default.createElement("br",null),e.name+": "+e.message)}return window.onkeydown=n.handleKeyDown,n}return a(t,e),c(t,[{key:"equ",value:function(e,t){if((!t.state||!t.state.delete)&&e.attributes.id===t.id&&g.Util.cmpObj(e.setting,t.setting)){for(var n=["x","y","w","h"],r=0;r<n.length;r++){var o=n[r];if("number"==typeof t[o]){if(e.attributes[o]!==t[o].toString())return}else if(e.attributes[o])return}if(!!e.children==!!t.tree){if(t.tree)for(var i=0;i<t.tree.length;i++)if(!this.equ(e.children[i],t.tree[i]))return;return!0}}}},{key:"handleKeyDown",value:function(e){if(!(this.props.doc.waitSave||"preview"===this.props.doc.rsMode||this.props.doc.msg.state.isOpen||this.props.doc.dlg.state.isOpen||this.props.doc.dlgPreview.state.isOpen||this.props.doc.getField("_page_"))){switch(e.keyCode){case 83:if(!this.props.doc.readOnly&&e.ctrlKey){this.props.doc.cmdSave(!1);break}return;case 27:this.props.doc.closeDoc(e.shiftKey);break;case 80:if(e.ctrlKey){this.props.doc.cmdSave(null,!0);break}return;default:return}e.stopPropagation(),e.preventDefault()}}}]),t}(d.default.Component),b=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.appendChild=function(e){var r="api.get?insertSvgItem&"+n.props.doc.dbAlias+"&"+e,o="main"===n.id?400:n.w>40?n.w-20:30,i="main"===n.id?160:n.h>40?n.h-20:30;g.Util.jsonByUrl(n.props.doc,r).then(function(e){var r=d.default.createElement(t,{key:Math.random(),id:"box",svg:n,_teg:"svgBox",x:7,y:7,w:o,h:i,setting:Object.assign({},e.setting),children:e.children,tree:n.tree,doc:n.props.doc,sendShow:!0}),a=(n.state.svgBox||[]).slice();a.push(r),n.setState({svgBox:a})}).catch(function(e){return console.error("Svg.js.appendChild: Util.jsonByUrl("+r+"):"+e)})},n.componentDidMount=function(e){n.sendShow&&g.Util.runCmd(n.props.doc,"sendShow"),n.sendShow=!1},n.contextMenu=function(e){if(e.target.id){var t=g.Util.partition(e.target.id,"__")[0];("main"===t||t.startsWith("box_"))&&g.Util.runCmd(n.props.doc,"contextMenu",{event:e,dom:n.dom.current,box:m[t]||n})}e.preventDefault(),e.stopPropagation()},n.mouseDown=function(e){if(e.target.id)if(n.props.doc.contextMenu)n.props.doc.contextMenu=!1,n.props.doc.forceUpdate();else{n.ctm=n.dom.current.getScreenCTM(),n.pt=n.dom.current.createSVGPoint(),n.pt0=n.dom.current.createSVGPoint(),n.pt0.x=e.clientX,n.pt0.y=e.clientY,n.pt0=n.pt0.matrixTransform(n.ctm.inverse());var t=g.Util.partition(e.target.id,"__"),r=l(t,2);n.clickedId=r[0],n.type=r[1],n.type=n.type||g.Util.partition(n.clickedId,"_")[0],n.current=m[n.clickedId],n.owner=n.current&&n.current.props.svg}else n.clickedId=null,n.type=null;e.preventDefault(),e.stopPropagation()},n.setProprty=function(e){return window.setSvgBoxProprty(n.props.doc,n)},n.render=function(e){if(n.state.deleted)return null;if(!n.props.svg)return d.default.createElement("svg",Object.assign({x:0,y:0,style:Object.assign({},n.props.style)},n.mouse,{ref:n.dom,id:n.id}),d.default.createElement("text",{cursor:"pointer",onClick:n.setProprty,x:"2",y:"20",fill:"#a40",fontSize:"14px",fontFamily:"verdana",style:{background:"#def"}},"page"),n.state.svgBox,d.default.createElement("circle",{id:n.id+"__P",onClick:n.pasteItem,cx:15,cy:45,r:7,fill:"#0f8",cursor:"pointer"},d.default.createElement("title",null,"paste item")));var t=n.w+2*n.rr,r=n.h+2*n.rr,o=n.x-n.rr,i=n.y-n.rr,a=n.w+n.rr,l=n.h+n.rr,u=n.w/2+n.rr,c=n.h/2+n.rr,f="M "+n.rr+" "+n.rr+" H "+a+" V "+l+" H "+n.rr+" Z",p="div"===n.setting.type?"blue":"green",h=n.id+": "+n.setting.type,g=n.setting.text?d.default.createElement("text",{cursor:"pointer",onClick:n.setProprty,x:"10",y:"20",fill:"#888",fontSize:"14px",fontFamily:"verdana",style:{background:"#def"}},n.setting.text.substr(0,80),d.default.createElement("title",null,"property")):null;return d.default.createElement("svg",Object.assign({x:o,y:i,width:t,height:r,fill:"rgba(255,255,255, 0.8)",cursor:n.cursor},n.mouse,{id:n.id}),d.default.createElement("path",{id:n.id+"__R0",d:f,stroke:p}),g,d.default.createElement("text",{cursor:"pointer",onClick:n.setProprty,x:"10",y:l-5,fill:"#a40",fontSize:"14px",fontFamily:"verdana",style:{background:"#def"}},h,d.default.createElement("title",null,"property")),d.default.createElement("circle",Object.assign({id:n.id+"__1",cx:n.rr,cy:n.rr},n.attrCirc,{cursor:"nwse-resize"})),d.default.createElement("circle",Object.assign({id:n.id+"__2",cx:a,cy:n.rr},n.attrCirc,{cursor:"nesw-resize"})),d.default.createElement("circle",Object.assign({id:n.id+"__3",cx:a,cy:l},n.attrCirc,{cursor:"nwse-resize"})),d.default.createElement("circle",Object.assign({id:n.id+"__4",cx:n.rr,cy:l},n.attrCirc,{cursor:"nesw-resize"})),d.default.createElement("circle",Object.assign({id:n.id+"__5",cx:u,cy:n.rr},n.attrCirc,{cursor:"n-resize"})),d.default.createElement("circle",Object.assign({id:n.id+"__6",cx:a,cy:c},n.attrCirc,{cursor:"e-resize"})),d.default.createElement("circle",Object.assign({id:n.id+"__7",cx:u,cy:l},n.attrCirc,{cursor:"n-resize"})),d.default.createElement("circle",Object.assign({id:n.id+"__8",cx:n.rr,cy:c},n.attrCirc,{cursor:"e-resize"})),d.default.createElement("circle",{id:n.id+"__C",onClick:function(e){return s=n.id},cx:a-30,cy:l-10,r:7,fill:"#08f",cursor:"pointer"},d.default.createElement("title",null,"copy item")),d.default.createElement("circle",{id:n.id+"__P",onClick:n.pasteItem,cx:a-10,cy:l-10,r:7,fill:"#0f8",cursor:"pointer"},d.default.createElement("title",null,"paste item")),d.default.createElement("circle",{id:n.id+"__D",onClick:n.deleteItem,cx:a-10,cy:15,r:7,fill:"#f80",cursor:"pointer"},d.default.createElement("title",null,"delete item")),d.default.createElement("animate",{xlinkHref:"#"+n.id+"__C",attributeName:"r",from:"7",to:"50",dur:"0.2s",begin:"click",fill:"freeze"}),d.default.createElement("animate",{xlinkHref:"#"+n.id+"__C",attributeName:"r",from:"50",to:"7",dur:"0.2s",begin:"click+0.2s",fill:"freeze"}),d.default.createElement("animate",{xlinkHref:"#"+n.id+"__P",attributeName:"r",from:"7",to:"50",dur:"0.2s",begin:"click",fill:"freeze"}),d.default.createElement("animate",{xlinkHref:"#"+n.id+"__P",attributeName:"r",from:"50",to:"7",dur:"0.2s",begin:"click+0.2s",fill:"freeze"}),n.state.svgBox)},n.deleteItem=function(e){n.props.doc.msg.box('Delete item "'+n.id+'" ?',"Warning",["Delete+|Y","Cancel"]).then(function(e){n.props.svg.tree.forEach(function(e){return e===n&&n.setState({deleted:!0})}),setTimeout(function(e){return g.Util.runCmd(n.props.doc,"sendShow")},100)}).catch(function(e){})},n.pasteItem=function(e){if(s){if(!["div","form","span","b","i","p","ol","ul","a","label"].includes(n.setting.type)&&"main"!==n.id)return n.props.doc.msg.box("You can paste an item in the div. Box: "+n.setting.type,"warning");var r=m[s],o="main"===n.id?r.w:Math.min(r.w,n.w-16),i="main"===n.id?r.h:Math.min(r.h,n.h-16),a=d.default.createElement(t,{key:Math.random(),id:"box",svg:n,_teg:"svgBox",x:8,y:8,w:o,h:i,setting:Object.assign({},r.setting),children:(r.props.children||[]).slice(),tree:n.tree,doc:n.props.doc,sendShow:!0}),l=(n.state.svgBox||[]).slice();l.push(a),n.setState({svgBox:l})}},(0,h.default)(n),n.setting=Object.assign({},n.props.setting),n.sendShow=n.props.sendShow,n.r=4,n.rr=n.r+1,n.x=parseInt(n.props.x,10)||0,n.y=parseInt(n.props.y,10)||0,n.w=parseInt(n.props.w,10)||20,n.h=parseInt(n.props.h,10)||20,n.svg=n,n.tree=[],n.props.tree&&n.props.tree.push(n),n.props.svg?(y++,n.id="box_"+y,m[n.id]=n,n.cursor="move",n.attrCirc={r:n.r,fill:"white",stroke:"div"===n.setting.type?"blue":"green",strokeWidth:"1"}):(n.props.doc.mainSvg=n,n.id="main",n.dom=d.default.createRef(),n.mouse={onMouseMove:function(e){return n.mouseMove(e)},onMouseDown:function(e){return n.mouseDown(e)},onMouseUp:function(e){return n.mouseUp(e)},onContextMenu:function(e){return n.contextMenu(e)}}),n.state={svgBox:x(n,n.props.children)},n}return a(t,e),c(t,[{key:"mouseMove",value:function(e){if(1===e.buttons&&this.type&&this.owner){this.pt.x=e.clientX,this.pt.y=e.clientY,this.pt=this.pt.matrixTransform(this.ctm.inverse());var t=this.pt.x-this.pt0.x,n=this.pt.y-this.pt0.y;switch(this.type){case"HL":this.current.y+=n,this.current.forceUpdate();break;case"VL":this.current.x+=t,this.current.forceUpdate();break;case"R0":this.current.x+=t,this.current.y+=n,this.current.forceUpdate();break;case"1":this.current.w=Math.max(this.current.w-t,3),this.current.h=Math.max(this.current.h-n,3),this.current.x+=t,this.current.y+=n,this.current.forceUpdate();break;case"2":this.current.w=Math.max(this.current.w+t,3),this.current.h=Math.max(this.current.h-n,3),this.current.y+=n,this.current.forceUpdate();break;case"3":this.current.w=Math.max(this.current.w+t,3),this.current.h=Math.max(this.current.h+n,3),this.current.forceUpdate();break;case"4":this.current.w=Math.max(this.current.w-t,3),this.current.h=Math.max(this.current.h+n,3),this.current.x+=t,this.current.forceUpdate();break;case"5":this.current.h=Math.max(this.current.h-n,3),this.current.y+=n,this.current.forceUpdate();break;case"6":this.current.w=Math.max(this.current.w+t,3),this.current.forceUpdate();break;case"7":this.current.h=Math.max(this.current.h+n,3),this.current.forceUpdate();break;case"8":this.current.w=Math.max(this.current.w-t,3),this.current.x+=t,this.current.forceUpdate()}this.pt0.x=this.pt.x,this.pt0.y=this.pt.y,this.forceUpdate(),e.preventDefault(),e.stopPropagation()}}},{key:"mouseUp",value:function(e){this.type=null,this.forceUpdate(),e.preventDefault(),e.stopPropagation(),g.Util.runCmd(this.props.doc,"sendShow")}}]),t}(d.default.Component),w=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.render=function(e){return d.default.createElement("svg",{x:n.x,y:n.y,cursor:n.cursor},d.default.createElement("line",{strokeWidth:2,strokeDasharray:7,x1:2,y1:2,style:{stroke:"#ccc"},x2:n.x2,y2:n.y2}),d.default.createElement("line",{strokeWidth:2,strokeDasharray:7,x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2,style:{stroke:"#777"}}),d.default.createElement("rect",{id:n.id,x:0,y:0,fill:"transparent",width:n.w,height:n.h}))},(0,h.default)(n),y++,n.x=parseInt(n.props.x||0,10),n.y=parseInt(n.props.y||0,10),n.y?(n.id="HL_"+y,n.x1=9,n.y1=2,n.x2=5e3,n.y2=2,n.cursor="n-resize",n.w=6e3,n.h=4):(n.id="VL_"+y,n.x1=2,n.y1=9,n.x2=2,n.y2=6e3,n.cursor="e-resize",n.w=4,n.h=6e3),n.props.tree.push(n),m[n.id]=n,n}return a(t,e),t}(d.default.Component),_=t.SvgElement=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.render=function(e){var t=n.props.svg,r={},o={};return Object.keys(n.props.attributes).forEach(function(e){e.startsWith("on")?(o[e]=n.props.attributes[e],o.doc=n.props.doc):r[e]=n.props.attributes[e]}),r.style=Object.assign({},r.style),n.getEl(n.props._teg,r,t,n.props.text||null,n.props.children,o)},(0,h.default)(n),n._on=null,Object.keys(n.props.attributes).forEach(function(e){e.startsWith("on")&&(null===n._on&&(n._on={doc:n.props.doc}),n._on[e]=n.props.attributes[e])}),n}return a(t,e),c(t,[{key:"getEl",value:function(e,t,n,r,o,i){var a=0,s=this.props.doc;switch(e){case"svg":a=d.default.createElement("svg",Object.assign({},g.Util._on_(i),t,{ref:this.dom}),r,x(n,o,s));break;case"line":a=d.default.createElement("line",t,r,x(n,o,s));break;case"rect":a=d.default.createElement("rect",t,r,x(n,o,s));break;case"polygon":a=d.default.createElement("polygon",t,r,x(n,o,s));break;case"circle":a=d.default.createElement("circle",t,r,x(n,o,s));break;case"path":a=d.default.createElement("path",t,r,x(n,o,s));break;case"text":a=d.default.createElement("text",t,r,x(n,o,s));break;case"defs":a=d.default.createElement("defs",t,r,x(n,o,s));break;case"a":a=d.default.createElement("a",Object.assign({},t,g.Util._on_(this._on)),r,x(n,o,s));break;case"textPath":a=d.default.createElement("textPath",t,r,x(n,o,s));break;case"ellipse":a=d.default.createElement("ellipse",t,r,x(n,o,s));break;case"linearGradient":a=d.default.createElement("linearGradient",t,r,x(n,o,s));break;case"stop":a=d.default.createElement("stop",t,r,x(n,o,s));break;case"tspan":a=d.default.createElement("tspan",t,r,x(n,o,s));break;case"g":a=d.default.createElement("g",t,r,x(n,o,s));break;case"title":a=d.default.createElement("title",null,r);break;default:console.log("Неописанный SVG элемент:",this.props._teg)}return a}}]),t}(d.default.Component),x=function(e,t,n){if(!t)return null;var r=[];return t.forEach(function(t,o){var i=Math.random();switch(t._teg){case"svgBox":r.push(d.default.createElement(b,Object.assign({doc:e.props.doc,key:i,tree:e.tree,id:"box",svg:e},t.attributes,{children:t.children,_teg:t._teg,setting:t.setting})));break;case"svgLine":var a="HL"===t.attributes.id?function(t){return e.hLine=t}:function(t){return e.vLine=t};r.push(d.default.createElement(w,Object.assign({key:i,tree:e.tree,svg:e},t.attributes,{ref:a,_teg:t._teg})));break;case"#comment":break;default:r.push(d.default.createElement(_,{key:o,doc:n,svg:e,attributes:Object.assign({},t.attributes),_teg:t._teg,text:t.text,children:t.children||null}))}}),r.length&&r};t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),f=n(5),d=r(f),p=n(2),h=r(p),g=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setValue=function(e){return n.setState({cells:e.split("\n")})},n.getValue=function(e){return n.state.cells.join("\n")},n.onclick=function(e,t){return h.default.runCmd(n.props.doc,"docPreview",t+"|offset:min:max:-",e)},(0,d.default)(n),n.state={cells:n.props.xValue.split("\n")},n}return a(t,e),l(t,[{key:"delValue",value:function(e,t){e.stopPropagation(),this.setState({cells:this.state.cells.filter(function(e,n){return t!==n})}),h.default.recalc(this,null,t)}},{key:"render",value:function(){var e=this,t=void 0,n=this.state.cells;if(n.length&&n[0]){t=[];for(var r=this.props.btn[0],o=0,i=this.props.btn[1],a=0;a<Math.floor(n.length/r)+1;a++){for(var l=[],u=function(t){var r=o,a=e.props.readOnly?c.default.createElement("span",{className:"delBtnR"}," "):c.default.createElement("span",{className:"delBtn",title:"Удалить",onClick:function(t){return e.delValue(t,r)}},"×");if("gr"===e.props.type){var u=h.default.partition(n[o],"|"),f=s(u,2),d=f[0],p=f[1];l[t]=c.default.createElement("div",{key:o,className:"ground",style:{minWidth:i,maxWidth:i},onClick:function(t){return e.onclick(t,p)}},a,d)}else l[t]=c.default.createElement("div",{key:o,className:"ask",style:{
minWidth:i,maxWidth:i}},a,n[o])},f=0;f<r&&o<n.length;f++,o++)u(f);t[a]=c.default.createElement("div",{key:a,className:"grTable"},l)}}else t=c.default.createElement("div",{className:"grTable",style:{paddingTop:4}}," ");return c.default.createElement("div",{style:Object.assign({},this.props.style)},c.default.createElement("div",{tabIndex:"1",className:"tta",style:Object.assign({padding:"1px 0 1px 1px"},this.props.ttaStyle)},t))}}]),t}(c.default.Component);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),f=n(5),d=r(f),p=n(2),h=r(p),g=n(20),y=n(35),m=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.UNSAFE_componentWillReceivePropsи=function(e){return e.expand&&n.setState({expand:e.expand})},n.setExpand=function(e){e.stopPropagation(),n.setState({expand:!n.state.expand})},(0,d.default)(n),n.state={expand:n.props.expand},n}return a(t,e),l(t,[{key:"render",value:function(){var e=this,t=(0,g.boxing)(this.props.mainDoc,this.props.doc);if(t=t.slice(1),this.props.refs){var n=" ",r={display:"table-cell",cursor:"default",width:20,textAlign:"center"};this.props.refsDocs&&(n=this.state.expand?"▼":"►",r.cursor="pointer");var o=c.default.createElement("div",{key:9998,style:r,className:"expClass",onClick:function(t){return e.props.refsDocs?e.setExpand(t):0}},n);t.unshift(o)}var i="mRow";this.props.selectedDoc===this.props.mainDoc[0]&&(i+="-sel"),i+=" "+this.props.className;var a=c.default.createElement("div",{key:this.props.mainDoc[0],className:i,style:Object.assign({},this.props.style),onClick:function(t){return e.props.rowClick(e.props.mainDoc[0])}},t);if(!this.props.refsDocs||!this.state.expand)return a;var s=this.props.refsDocs.map(function(n,r){return t=(0,g.boxing)(n,e.props.doc),t=t.slice(1),t.unshift(c.default.createElement("div",{key:9998,style:{width:16,display:"table-cell"}})),i="rRow",e.props.selectedDoc===n[0]&&(i+="-sel"),i+=" "+e.props.className,c.default.createElement("div",{key:n[0],className:i,onClick:function(t){return e.props.rowClick(n[0])},style:Object.assign({},e.props.style)},t)});return c.default.createElement("div",{style:{display:"table-row-group"}},a,s)}}]),t}(c.default.Component),v=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getDom=function(){return n.dom.current},n.componentDidMount=function(e){return!n.props.withoutNavigator&&n.loadView()},n.setValue=function(e){n.cat=e.cat||"",n.subCat=e.subCat||"",n.filtered=e.filtered||"",n.offset=e.offset||"0",n.limit=e.limit||"50",n.loadView()},n.getValue=function(e){return n.dbAlias+"&"+n.selectedDoc},n.rowClick=function(e){n.selectedDoc=e,n.forceUpdate()},(0,d.default)(n),n.mainDocs=[],n.refsDocs=[],n.filtered=n.props.filtered||"",n.offset=n.props.offset||"0",n.limit=n.props.limit||"50",n.dbAlias=n.props.dbAlias||n.props.doc.dbAlias,n.fieldName=n.props.xName,n.dom=c.default.createRef(),n.cat=n.subCat="",n.state={spinner:!1},n}return a(t,e),l(t,[{key:"loadView",value:function(){var e=this;this.waitLoad=!0,setTimeout(function(t){return e.waitLoad?e.setState({spinner:!0}):0},1e3),this.forceUpdate();var t=["dbAlias","fieldName","offset","limit","filtered","cat","subCat"].map(function(t){return t+"="+(e[t]||"")}),n="api.get/paging?"+t.join("&");window.owlDebug&&console.log("Debug View.js:",n),h.default.jsonByUrl(this.props.doc,n).then(function(t){e.mainDocs=t.mainDocs,e.refsDocs=t.refsDocs,e.waitLoad=!1,e.selectedDoc=e.mainDocs&&e.mainDocs.length&&e.mainDocs[0][0],e.setState({i:0,spinner:!1});var n=e.selectedDoc?e.dbAlias+"&"+e.selectedDoc:"";if(h.default.runCmd(e.props.doc,"viewLoaded",e.props.xName+"|"+n),t.setField){var r=h.default.partition(t.setField,"|"),o=s(r,2),i=o[0],a=o[1];e.props.doc.setField(i,a)}}).catch(function(t){alert("loadView-error:"+t),console.log("loadView-error:",n,t),e.waitLoad=!1,e.setState({i:0,spinner:!1})})}},{key:"render",value:function(){var e=this;if(this.waitLoad&&this.state.spinner)return c.default.createElement("div",{style:{height:"90%",position:"relative"}},(0,y.spinner)(!1,!1,"preloaderColor"));var t=this.mainDocs.map(function(t){var n="";return t[0].endsWith("+")&&(t[0]=t[0].slice(0,-1),n=e.props.addClassName),c.default.createElement(m,{key:t[0],mainDoc:t,refsDocs:e.refsDocs&&e.refsDocs[t[0]],expand:e.selectedDoc===t[0],doc:e.props.doc,dbAlias:e.props.doc.dbAlias,rowClick:e.rowClick,selectedDoc:e.selectedDoc,className:n,refs:e.props.refs})});return c.default.createElement("div",{style:Object.assign({},this.props.style,{overflow:"hidden"}),ref:this.dom},c.default.createElement("div",{style:{overflow:"auto",height:"inherit"}},c.default.createElement("div",{style:{width:"100%",display:"table",tableLayout:"fixed"}},t)))}}]),t}(c.default.Component);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(1),l=r(s),u=n(93),c=r(u),f=n(50),d=r(f),p=function(e){function t(){var e,n,r,a;o(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.closeDoc=function(e,t){var n=e.getField("autoOrder");if(n&&!t){var r=n.split(">this")[0];return void(window.location.href=["/newdoc?"+e.dbAlias,encodeURIComponent(r),e.dbAlias,e.unid].join("&"))}if(e.viewRefresh){var o=window.opener&&!window.opener.closed&&window.opener.top&&!window.opener.top.closed?window.opener.top:null,i=o&&o.view&&(o.view.nocats||o.view);i&&i.viewRefresh&&i.viewRefresh(e.unid)}window.close()},r.render=function(e){var t=window.jsDoc;return console.log("Sova.online 5.0, React "+l.default.version+"/"+(t&&t.version)),t?l.default.createElement(d.default,{closeDoc:r.closeDoc,urlForm:t.urlForm,dbAlias:t.dbAlias,cssJsUrl:t.cssJsUrl,unid:t.unid,rsMode:t.rsMode,printList:t.printList,newForm:t.newForm,userName:t.userName||"",fieldValues:t.fieldValues||null,oldValues:t.oldValues||null}):l.default.createElement("h2",null,"Документ недоступен")},a=n,i(r,a)}return a(t,e),t}(l.default.Component);c.default.render(l.default.createElement(p,null),document.getElementById("root"))},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(21),a=n(10),s=n(16),l=n(11),u=n(7),c=n(6),f=n(12),d=n(15),p=n(3),h=n(189),g=d("draft_tree_data_support"),y=g?l:s,m=p.List,v=p.Repeat,b={insertAtomicBlock:function(e,t,n){var o=e.getCurrentContent(),s=e.getSelection(),l=u.removeRange(o,s,"backward"),d=l.getSelectionAfter(),p=u.splitBlock(l,d),h=p.getSelectionAfter(),b=u.setBlockType(p,h,"atomic"),w=a.create({entity:t}),_={key:f(),type:"atomic",text:n,characterList:m(v(w,n.length))},x={key:f(),type:"unstyled"};g&&(_=r({},_,{nextSibling:x.key}),x=r({},x,{prevSibling:_.key}));var S=[new y(_),new y(x)],k=i.createFromArray(S),E=u.replaceWithFragment(b,h,k),C=E.merge({selectionBefore:s,selectionAfter:E.getSelectionAfter().set("hasFocus",!0)});return c.push(e,C,"insert-fragment")},moveAtomicBlock:function(e,t,n,r){var o,i=e.getCurrentContent(),a=e.getSelection();if("before"===r||"after"===r){var s=i.getBlockForKey("before"===r?n.getStartKey():n.getEndKey());o=h(i,t,s,r)}else{var l=u.removeRange(i,n,"backward"),f=l.getSelectionAfter(),d=l.getBlockForKey(f.getFocusKey());if(0===f.getStartOffset())o=h(l,t,d,"before");else if(f.getEndOffset()===d.getLength())o=h(l,t,d,"after");else{var p=u.splitBlock(l,f),g=p.getSelectionAfter(),y=p.getBlockForKey(g.getFocusKey());o=h(p,t,y,"before")}}var m=o.merge({selectionBefore:a,selectionAfter:o.getSelectionAfter().set("hasFocus",!0)});return c.push(e,m,"move-block")}};e.exports=b},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function a(e,t){var n=[],r=e.map(function(e){return e.getStyle()}).toList();return l(r,s,h,function(e,r){n.push(new y({start:e+t,end:r+t}))}),f(n)}function s(e,t){return e===t}var l=n(22),u=n(72),c=n(3),f=c.List,d=c.Repeat,p=c.Record,h=function(){return!0},g={start:null,end:null},y=p(g),m={start:null,end:null,decoratorKey:null,leaves:null},v=p(m),b={generate:function(e,t,n){var r=t.getLength();if(!r)return f.of(new v({start:0,end:0,decoratorKey:null,leaves:f.of(new y({start:0,end:0}))}));var o=[],i=n?n.getDecorations(t,e):f(d(null,r)),u=t.getCharacterList();return l(i,s,h,function(e,t){o.push(new v({start:e,end:t,decoratorKey:i.get(e),leaves:a(u.slice(e,t).toList(),e)}))}),f(o)},fromJS:function(e){var t=e.leaves,n=i(e,["leaves"]);return new v(r({},n,{leaves:null!=t?f(Array.isArray(t)?t:u(t)).map(function(e){return y(e)}):null}))}};e.exports=b},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t,n){for(var r=t;r<n;r++)if(null!=e[r])return!1;return!0}function i(e,t,n,r){for(var o=t;o<n;o++)e[o]=r}var a=n(3),s=a.List,l=".",u=function(){function e(e){r(this,"_decorators",void 0),this._decorators=e.slice()}var t=e.prototype;return t.getDecorations=function(e,t){var n=Array(e.getText().length).fill(null);return this._decorators.forEach(function(r,a){var s=0,u=r.strategy,c=function(e,t){o(n,e,t)&&(i(n,e,t,a+l+s),s++)};u(e,c,t)}),s(n)},t.getComponentForKey=function(e){var t=parseInt(e.split(l)[0],10);return this._decorators[t].component},t.getPropsForKey=function(e){var t=parseInt(e.split(l)[0],10);return this._decorators[t].props},e}();e.exports=u},function(e,t,n){"use strict";function r(e,t,n,r){var i=e.getBlockMap(),s=t.getStartKey(),l=t.getStartOffset(),u=t.getEndKey(),c=t.getEndOffset(),f=i.skipUntil(function(e,t){return t===s}).takeUntil(function(e,t){return t===u}).concat(a([[u,i.get(u)]])).map(function(e,t){var i,a;s===u?(i=l,a=c):(i=t===s?l:0,a=t===u?c:e.getLength());for(var f,d=e.getCharacterList();i<a;)f=d.get(i),d=d.set(i,r?o.applyStyle(f,n):o.removeStyle(f,n)),i++;return e.set("characterList",d)});return e.merge({blockMap:i.merge(f),selectionBefore:t,selectionAfter:t})}var o=n(10),i=n(3),a=i.Map,s={add:function(e,t,n){return r(e,t,n,!0)},remove:function(e,t,n){return r(e,t,n,!1)}};e.exports=s},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(8),i=n(27),a=n(78),s=n(3),l=n(4),u=n(9),c=s.Map,f={subtree:!0,characterData:!0,childList:!0,characterDataOldValue:!1,attributes:!1},d=o.isBrowser("IE <= 11"),p=function(){function e(e){var t=this;r(this,"observer",void 0),r(this,"container",void 0),r(this,"mutations",void 0),r(this,"onCharData",void 0),this.container=e,this.mutations=c();var n=a(e);n.MutationObserver&&!d?this.observer=new n.MutationObserver(function(e){return t.registerMutations(e)}):this.onCharData=function(e){e.target instanceof Node?void 0:l(!1),t.registerMutation({type:"characterData",target:e.target})}}var t=e.prototype;return t.start=function(){this.observer?this.observer.observe(this.container,f):this.container.addEventListener("DOMCharacterDataModified",this.onCharData)},t.stopAndFlushMutations=function(){var e=this.observer;e?(this.registerMutations(e.takeRecords()),e.disconnect()):this.container.removeEventListener("DOMCharacterDataModified",this.onCharData);var t=this.mutations;return this.mutations=c(),t},t.registerMutations=function(e){for(var t=0;t<e.length;t++)this.registerMutation(e[t])},t.getMutationTextContent=function(e){var t=e.type,n=e.target,r=e.removedNodes;if("characterData"===t){if(""!==n.textContent)return d?n.textContent.replace("\n",""):n.textContent}else if("childList"===t){if(r&&r.length)return"";if(""!==n.textContent)return n.textContent}return null},t.registerMutation=function(e){var t=this.getMutationTextContent(e);if(null!=t){var n=u(i(e.target));this.mutations=this.mutations.set(n,t)}},e}();e.exports=p},function(e,t,n){"use strict";var r=n(121),o=n(21),i=n(10),a=n(123),s=n(16),l=n(41),u=n(42),c=n(54),f=n(127),d=n(55),p=n(25),h=n(7),g=n(58),y=n(6),m=n(43),v=n(145),b=n(62),w=n(26),_=n(150),x=n(151),S=n(12),k=n(67),E=n(172),C=n(63),O={Editor:f,EditorBlock:d,EditorState:y,CompositeDecorator:a,Entity:p,EntityInstance:g,BlockMapBuilder:o,CharacterMetadata:i,ContentBlock:s,ContentState:l,RawDraftContentState:v,SelectionState:w,AtomicBlockUtils:r,KeyBindingUtil:m,Modifier:h,RichUtils:b,DefaultDraftBlockRenderMap:u,DefaultDraftInlineStyle:c,convertFromHTML:C,convertFromRaw:x,convertToRaw:_,genKey:S,getDefaultKeyBinding:k,getVisibleSelectionRect:E};e.exports=O},function(e,t,n){(function(t){"use strict";function r(){return r=l||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var l=n(13),u=n(42),c=n(54),f=n(129),d=n(131),p=n(134),h=n(135),g=n(136),y=n(138),m=n(57),v=n(6),b=n(1),w=n(46),_=n(32),x=n(8),S=n(19),k=n(12),E=n(67),C=n(34),O=n(15),D=n(4),T=n(23),N=n(9),I=x.isBrowser("IE"),M=!I,P={edit:h,composite:f,drag:p,cut:null,render:null},B=!1,A=function(e){function t(){return e.apply(this,arguments)||this}s(t,e);var n=t.prototype;return n.render=function(){return null},n.componentDidMount=function(){this._update()},n.componentDidUpdate=function(){this._update()},n._update=function(){var e=this.props.editor;e._latestEditorState=this.props.editorState,e._blockSelectEvents=!0},t}(b.Component),R=function(e){function n(t){var n;return n=e.call(this,t)||this,a(i(n),"_blockSelectEvents",void 0),a(i(n),"_clipboard",void 0),a(i(n),"_handler",void 0),a(i(n),"_dragCount",void 0),a(i(n),"_internalDrag",void 0),a(i(n),"_editorKey",void 0),a(i(n),"_placeholderAccessibilityID",void 0),a(i(n),"_latestEditorState",void 0),a(i(n),"_latestCommittedEditorState",void 0),a(i(n),"_pendingStateFromBeforeInput",void 0),a(i(n),"_onBeforeInput",void 0),a(i(n),"_onBlur",void 0),a(i(n),"_onCharacterData",void 0),a(i(n),"_onCompositionEnd",void 0),a(i(n),"_onCompositionStart",void 0),a(i(n),"_onCopy",void 0),a(i(n),"_onCut",void 0),a(i(n),"_onDragEnd",void 0),a(i(n),"_onDragOver",void 0),a(i(n),"_onDragStart",void 0),a(i(n),"_onDrop",void 0),a(i(n),"_onInput",void 0),a(i(n),"_onFocus",void 0),a(i(n),"_onKeyDown",void 0),a(i(n),"_onKeyPress",void 0),a(i(n),"_onKeyUp",void 0),a(i(n),"_onMouseDown",void 0),a(i(n),"_onMouseUp",void 0),a(i(n),"_onPaste",void 0),a(i(n),"_onSelect",void 0),a(i(n),"editor",void 0),a(i(n),"editorContainer",void 0),a(i(n),"focus",void 0),a(i(n),"blur",void 0),a(i(n),"setMode",void 0),a(i(n),"exitCurrentMode",void 0),a(i(n),"restoreEditorDOM",void 0),a(i(n),"setClipboard",void 0),a(i(n),"getClipboard",void 0),a(i(n),"getEditorKey",void 0),a(i(n),"update",void 0),a(i(n),"onDragEnter",void 0),a(i(n),"onDragLeave",void 0),a(i(n),"_handleEditorContainerRef",function(e){n.editorContainer=e,n.editor=null!==e?e.firstChild:null}),a(i(n),"focus",function(e){var t=n.props.editorState,r=t.getSelection().getHasFocus(),o=n.editor;if(o){var i=_.getScrollParent(o),a=e||C(i),s=a.x,l=a.y;T(o)?void 0:D(!1),o.focus(),i===window?window.scrollTo(s,l):w.setTop(i,l),r||n.update(v.forceSelection(t,t.getSelection()))}}),a(i(n),"blur",function(){var e=n.editor;e&&(T(e)?void 0:D(!1),e.blur())}),a(i(n),"setMode",function(e){var t=n.props,r=t.onPaste,i=t.onCut,a=t.onCopy,s=o({},P.edit);r&&(s.onPaste=r),i&&(s.onCut=i),a&&(s.onCopy=a);var l=o({},P,{edit:s});n._handler=l[e]}),a(i(n),"exitCurrentMode",function(){n.setMode("edit")}),a(i(n),"restoreEditorDOM",function(e){n.setState({contentsKey:n.state.contentsKey+1},function(){n.focus(e)})}),a(i(n),"setClipboard",function(e){n._clipboard=e}),a(i(n),"getClipboard",function(){return n._clipboard}),a(i(n),"update",function(e){n._latestEditorState=e,n.props.onChange(e)}),a(i(n),"onDragEnter",function(){n._dragCount++}),a(i(n),"onDragLeave",function(){n._dragCount--,0===n._dragCount&&n.exitCurrentMode()}),n._blockSelectEvents=!1,n._clipboard=null,n._handler=null,n._dragCount=0,n._editorKey=t.editorKey||k(),n._placeholderAccessibilityID="placeholder-"+n._editorKey,n._latestEditorState=t.editorState,n._latestCommittedEditorState=t.editorState,n._onBeforeInput=n._buildHandler("onBeforeInput"),n._onBlur=n._buildHandler("onBlur"),n._onCharacterData=n._buildHandler("onCharacterData"),n._onCompositionEnd=n._buildHandler("onCompositionEnd"),n._onCompositionStart=n._buildHandler("onCompositionStart"),n._onCopy=n._buildHandler("onCopy"),n._onCut=n._buildHandler("onCut"),n._onDragEnd=n._buildHandler("onDragEnd"),n._onDragOver=n._buildHandler("onDragOver"),n._onDragStart=n._buildHandler("onDragStart"),n._onDrop=n._buildHandler("onDrop"),n._onInput=n._buildHandler("onInput"),n._onFocus=n._buildHandler("onFocus"),n._onKeyDown=n._buildHandler("onKeyDown"),n._onKeyPress=n._buildHandler("onKeyPress"),n._onKeyUp=n._buildHandler("onKeyUp"),n._onMouseDown=n._buildHandler("onMouseDown"),n._onMouseUp=n._buildHandler("onMouseUp"),n._onPaste=n._buildHandler("onPaste"),n._onSelect=n._buildHandler("onSelect"),n.getEditorKey=function(){return n._editorKey},n.state={contentsKey:0},n}s(n,e);var l=n.prototype;return l._buildHandler=function(e){var t=this;return function(n){if(!t.props.readOnly){var r=t._handler&&t._handler[e];r&&(g?g(function(){return r(t,n)}):r(t,n))}}},l._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},l._renderPlaceholder=function(){if(this._showPlaceholder()){var e={text:N(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return b.createElement(y,e)}return null},l._renderARIADescribedBy=function(){var e=this.props.ariaDescribedBy||"",t=this._showPlaceholder()?this._placeholderAccessibilityID:"";return e.replace("{{editor_id_placeholder}}",t)||void 0},l.render=function(){var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,i=e.blockStyleFn,a=e.customStyleFn,s=e.customStyleMap,l=e.editorState,u=e.preventScroll,f=e.readOnly,p=e.textAlignment,h=e.textDirectionality,g=S({"DraftEditor/root":!0,"DraftEditor/alignLeft":"left"===p,"DraftEditor/alignRight":"right"===p,"DraftEditor/alignCenter":"center"===p}),y={outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},m=this.props.role||"textbox",v="combobox"===m?!!this.props.ariaExpanded:null,w={blockRenderMap:t,blockRendererFn:n,blockStyleFn:i,customStyleMap:o({},c,s),customStyleFn:a,editorKey:this._editorKey,editorState:l,preventScroll:u,textDirectionality:h};return b.createElement("div",{className:g},this._renderPlaceholder(),b.createElement("div",{className:S("DraftEditor/editorContainer"),ref:this._handleEditorContainerRef},b.createElement("div",{"aria-activedescendant":f?null:this.props.ariaActiveDescendantID,"aria-autocomplete":f?null:this.props.ariaAutoComplete,"aria-controls":f?null:this.props.ariaControls,"aria-describedby":this._renderARIADescribedBy(),"aria-expanded":f?null:v,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,"aria-owns":f?null:this.props.ariaOwneeID,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:S({notranslate:!f,"public/DraftEditor/content":!0}),contentEditable:!f,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:this.props.editorRef,role:f?null:m,spellCheck:M&&this.props.spellCheck,style:y,suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},b.createElement(A,{editor:this,editorState:l}),b.createElement(d,r({},w,{key:"contents"+this.state.contentsKey})))))},l.componentDidMount=function(){this._blockSelectEvents=!1,!B&&O("draft_ods_enabled")&&(B=!0,m.initODS()),this.setMode("edit"),I&&(this.editor?this.editor.ownerDocument.execCommand("AutoUrlDetect",!1,!1):t.execCommand("AutoUrlDetect",!1,!1))},l.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestEditorState=this.props.editorState,this._latestCommittedEditorState=this.props.editorState},n}(b.Component);a(R,"defaultProps",{ariaDescribedBy:"{{editor_id_placeholder}}",blockRenderMap:u,blockRendererFn:function(){return null},blockStyleFn:function(){return""},keyBindingFn:E,readOnly:!1,spellCheck:!1,stripPastedStyles:!1}),e.exports=R}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(){return r=l||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=n(13),u=n(137),c=n(14),f=n(1),d=n(46),p=n(32),h=n(90),g=n(34),y=n(91),m=n(3),v=n(4),b=n(23),w=10,_=(m.List,function(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t}),x=function(e,t){var n=e.getNextSiblingKey();return!!n&&t.getBlockForKey(n).getType()===e.getType()},S=function(e,t,n){var r=[],o=!0,i=!1,a=void 0;try{for(var s,l=n.reverse()[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var u=s.value;if(u.type!==t)break;r.push(u)}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}n.splice(n.indexOf(r[0]),r.length+1);var d=r.reverse(),p=d[0].key;return n.push(f.cloneElement(e,{key:"".concat(p,"-wrap"),"data-offset-key":c.encode(p,0,0)},d)),n},k=function(e,t){var n=t.get(e.getType())||t.get("unstyled"),r=n.wrapper,o=n.element||t.get("unstyled").element;return{Element:o,wrapperTemplate:r}},E=function(e,t){var n=t(e);if(!n)return{};var r=n.component,o=n.props,i=n.editable;return{CustomComponent:r,customProps:o,customEditable:i}},C=function(e,t,n,r,o,i){var s={"data-block":!0,"data-editor":t,"data-offset-key":n,key:e.getKey(),ref:i},l=r(e);return l&&(s.className=l),void 0!==o.customEditable&&(s=a({},s,{contentEditable:o.customEditable,suppressContentEditableWarning:!0})),s},O=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,s(o(t),"wrapperRef",f.createRef()),t}i(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e){var t=this.props,n=t.block,r=t.direction,o=t.tree,i=!n.getChildKeys().isEmpty(),a=n!==e.block||o!==e.tree||r!==e.direction||_(e.selection,e.block.getKey())&&e.forceSelection;return i||a},n.componentDidMount=function(){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var n=this.wrapperRef.current;if(n){var r,o=p.getScrollParent(n),i=g(o);if(o===window){var a=h(n),s=a.y+a.height,l=y().height;r=s-l,r>0&&window.scrollTo(i.x,i.y+r+w)}else{b(n)?void 0:v(!1);var u=n,c=u.offsetHeight+u.offsetTop,f=o.offsetHeight+i.y;r=c-f,r>0&&d.setTop(o,d.getTop(o)+r+w)}}}},n.render=function(){var e=this,n=this.props,o=n.block,i=n.blockRenderMap,s=n.blockRendererFn,l=n.blockStyleFn,d=n.contentState,p=n.decorator,h=n.editorKey,g=n.editorState,y=n.customStyleFn,m=n.customStyleMap,v=n.direction,b=n.forceSelection,w=n.selection,O=n.tree,D=null;o.children.size&&(D=o.children.reduce(function(n,r){var o=c.encode(r,0,0),u=d.getBlockForKey(r),p=E(u,s),y=p.CustomComponent||t,m=k(u,i),v=m.Element,b=m.wrapperTemplate,w=C(u,h,o,l,p,null),_=a({},e.props,{tree:g.getBlockTree(r),blockProps:p.customProps,offsetKey:o,block:u});return n.push(f.createElement(v,w,f.createElement(y,_))),!b||x(u,d)?n:(S(b,v,n),n)},[]));var T=o.getKey(),N=c.encode(T,0,0),I=E(o,s),M=I.CustomComponent,P=null!=M?f.createElement(M,r({},this.props,{tree:g.getBlockTree(T),blockProps:I.customProps,offsetKey:N,block:o})):f.createElement(u,{block:o,children:D,contentState:d,customStyleFn:y,customStyleMap:m,decorator:p,direction:v,forceSelection:b,hasSelection:_(w,T),selection:w,tree:O});if(o.getParentKey())return P;var B=k(o,i),A=B.Element,R=C(o,h,N,l,I,this.wrapperRef);return f.createElement(A,R,P)},t}(f.Component);e.exports=O},function(e,t,n){"use strict";function r(e){b||(b=new o(f(e)),b.start())}var o=n(125),i=n(7),a=n(14),s=n(6),l=n(31),u=n(8),c=n(65),f=n(66),d=n(68),p=n(44),h=n(9),g=u.isBrowser("IE"),y=20,m=!1,v=!1,b=null,w={onCompositionStart:function(e){v=!0,r(e)},onCompositionEnd:function(e){m=!1,v=!1,setTimeout(function(){m||w.resolveComposition(e)},y)},onSelect:c,onKeyDown:function(e,t){return v?void(t.which!==l.RIGHT&&t.which!==l.LEFT||t.preventDefault()):(w.resolveComposition(e),void e._onKeyDown(t))},onKeyPress:function(e,t){t.which===l.RETURN&&t.preventDefault()},resolveComposition:function(e){if(!v){var t=h(b).stopAndFlushMutations();b=null,m=!0;var n=s.set(e._latestEditorState,{inCompositionMode:!1});if(e.exitCurrentMode(),!t.size)return void e.update(n);var r=n.getCurrentContent();t.forEach(function(e,t){var o=a.decode(t),l=o.blockKey,u=o.decoratorKey,c=o.leafKey,f=n.getBlockTree(l).getIn([u,"leaves",c]),d=f.start,h=f.end,g=n.getSelection().merge({anchorKey:l,focusKey:l,anchorOffset:d,focusOffset:h,isBackward:!1}),y=p(r,g),m=r.getBlockForKey(l).getInlineStyleAt(d);r=i.replaceText(r,g,e,m,y),n=s.set(n,{currentContent:r})});var o=d(n,f(e)),l=o.selectionState;e.restoreEditorDOM();var u=g?s.forceSelection(n,l):s.acceptSelection(n,l);e.update(s.push(u,r,"insert-characters"))}}};e.exports=w},function(e,t,n){"use strict";function r(){return r=s||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var s=n(13),l=n(55),u=n(14),c=n(1),f=n(19),d=n(220),p=n(9),h=function(e,t,n,r){return f({"public/DraftStyleDefault/unorderedListItem":"unordered-list-item"===e,"public/DraftStyleDefault/orderedListItem":"ordered-list-item"===e,"public/DraftStyleDefault/reset":n,"public/DraftStyleDefault/depth0":0===t,"public/DraftStyleDefault/depth1":1===t,"public/DraftStyleDefault/depth2":2===t,"public/DraftStyleDefault/depth3":3===t,"public/DraftStyleDefault/depth4":t>=4,"public/DraftStyleDefault/listLTR":"LTR"===r,"public/DraftStyleDefault/listRTL":"RTL"===r})},g=function(e){function t(){return e.apply(this,arguments)||this}a(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e){var t=this.props.editorState,n=e.editorState,r=t.getDirectionMap(),o=n.getDirectionMap();if(r!==o)return!0;var i=t.getSelection().getHasFocus(),a=n.getSelection().getHasFocus();if(i!==a)return!0;var s=n.getNativelyRenderedContent(),l=t.isInCompositionMode(),u=n.isInCompositionMode();if(t===n||null!==s&&n.getCurrentContent()===s||l&&u)return!1;var c=t.getCurrentContent(),f=n.getCurrentContent(),d=t.getDecorator(),p=n.getDecorator();return l!==u||c!==f||d!==p||n.mustForceSelection()},n.render=function(){for(var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,i=e.blockStyleFn,a=e.customStyleMap,s=e.customStyleFn,f=e.editorState,g=e.editorKey,y=e.preventScroll,m=e.textDirectionality,v=f.getCurrentContent(),b=f.getSelection(),w=f.mustForceSelection(),_=f.getDecorator(),x=p(f.getDirectionMap()),S=v.getBlocksAsArray(),k=[],E=null,C=null,O=0;O<S.length;O++){var D=S[O],T=D.getKey(),N=D.getType(),I=n(D),M=void 0,P=void 0,B=void 0;I&&(M=I.component,P=I.props,
B=I.editable);var A=m?m:x.get(T),R=u.encode(T,0,0),j={contentState:v,block:D,blockProps:P,blockStyleFn:i,customStyleMap:a,customStyleFn:s,decorator:_,direction:A,forceSelection:w,offsetKey:R,preventScroll:y,selection:b,tree:f.getBlockTree(T)},L=t.get(N)||t.get("unstyled"),F=L.wrapper,K=L.element||t.get("unstyled").element,z=D.getDepth(),U="";if(i&&(U=i(D)),"li"===K){var V=C!==F||null===E||z>E;U=d(U,h(N,z,V,A))}var H=M||l,W={className:U,"data-block":!0,"data-editor":g,"data-offset-key":R,key:T};void 0!==B&&(W=o({},W,{contentEditable:B,suppressContentEditableWarning:!0}));var q=c.createElement(K,W,c.createElement(H,r({},j,{key:T})));k.push({block:q,wrapperTemplate:F,key:T,offsetKey:R}),E=F?D.getDepth():null,C=F}for(var Y=[],X=0;X<k.length;){var J=k[X];if(J.wrapperTemplate){var G=[];do G.push(k[X].block),X++;while(X<k.length&&k[X].wrapperTemplate===J.wrapperTemplate);var $=c.cloneElement(J.wrapperTemplate,{key:J.key+"-wrap","data-offset-key":J.offsetKey},G);Y.push($)}else Y.push(J.block),X++}return c.createElement("div",{"data-contents":"true"},Y)},t}(c.Component);e.exports=g},function(e,t,n){"use strict";var r=n(15),o=r("draft_tree_data_support");e.exports=n(o?132:130)},function(e,t,n){"use strict";function r(){return r=i||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var i=n(13),a=n(128),s=n(14),l=n(1),u=n(9),c=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e){var t=this.props.editorState,n=e.editorState,r=t.getDirectionMap(),o=n.getDirectionMap();if(r!==o)return!0;var i=t.getSelection().getHasFocus(),a=n.getSelection().getHasFocus();if(i!==a)return!0;var s=n.getNativelyRenderedContent(),l=t.isInCompositionMode(),u=n.isInCompositionMode();if(t===n||null!==s&&n.getCurrentContent()===s||l&&u)return!1;var c=t.getCurrentContent(),f=n.getCurrentContent(),d=t.getDecorator(),p=n.getDecorator();return l!==u||c!==f||d!==p||n.mustForceSelection()},n.render=function(){for(var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,o=e.blockStyleFn,i=e.customStyleMap,c=e.customStyleFn,f=e.editorState,d=e.editorKey,p=e.textDirectionality,h=f.getCurrentContent(),g=f.getSelection(),y=f.mustForceSelection(),m=f.getDecorator(),v=u(f.getDirectionMap()),b=h.getBlocksAsArray(),w=b[0],_=[],x=w;x;){var S=x.getKey(),k={blockRenderMap:t,blockRendererFn:n,blockStyleFn:o,contentState:h,customStyleFn:c,customStyleMap:i,decorator:m,editorKey:d,editorState:f,forceSelection:y,selection:g,block:x,direction:p?p:v.get(S),tree:f.getBlockTree(S)},E=t.get(x.getType())||t.get("unstyled"),C=E.wrapper;_.push({block:l.createElement(a,r({key:S},k)),wrapperTemplate:C,key:S,offsetKey:s.encode(S,0,0)});var O=x.getNextSiblingKey();x=O?h.getBlockForKey(O):null}for(var D=[],T=0;T<_.length;){var N=_[T];if(N.wrapperTemplate){var I=[];do I.push(_[T].block),T++;while(T<_.length&&_[T].wrapperTemplate===N.wrapperTemplate);var M=l.cloneElement(N.wrapperTemplate,{key:N.key+"-wrap","data-offset-key":N.offsetKey},I);D.push(M)}else D.push(N.block),T++}return l.createElement("div",{"data-contents":"true"},D)},t}(l.Component);e.exports=c},function(e,t,n){"use strict";function r(){return r=i||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var i=n(13),a=n(14),s=n(1),l=n(47),u=n(33),c=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.block,n=e.children,o=e.contentState,i=e.decorator,c=e.decoratorKey,f=e.direction,d=e.leafSet,p=e.text,h=t.getKey(),g=d.get("leaves"),y=i.getComponentForKey(c),m=i.getPropsForKey(c),v=a.encode(h,parseInt(c,10),0),b=p.slice(g.first().get("start"),g.last().get("end")),w=u.getHTMLDirIfDifferent(l.getDirection(b),f);return s.createElement(y,r({},m,{contentState:o,decoratedText:b,dir:w,key:v,entityKey:t.getEntityAt(d.get("start")),offsetKey:v}),n)},t}(s.Component);e.exports=c},function(e,t,n){"use strict";function r(e,t){var n=null,r=null,o=f(e.currentTarget);if("function"==typeof o.caretRangeFromPoint){var i=o.caretRangeFromPoint(e.x,e.y);n=i.startContainer,r=i.startOffset}else{if(!e.rangeParent)return null;n=e.rangeParent,r=e.rangeOffset}n=y(n),r=y(r);var a=y(c(n));return p(t,a,r,a,r)}function o(e){e._internalDrag=!1;var t=e.editorContainer;if(t){var n=new MouseEvent("mouseup",{view:h(t),bubbles:!0,cancelable:!0});t.dispatchEvent(n)}}function i(e,t){var n=l.moveText(e.getCurrentContent(),e.getSelection(),t);return u.push(e,n,"insert-fragment")}function a(e,t,n){var r=l.insertText(e.getCurrentContent(),t,n,e.getCurrentInlineStyle());return u.push(e,r,"insert-fragment")}var s=n(87),l=n(7),u=n(6),c=n(27),f=n(29),d=n(76),p=n(77),h=n(78),g=n(30),y=n(9),m={onDragEnd:function(e){e.exitCurrentMode(),o(e)},onDrop:function(e,t){var n=new s(t.nativeEvent.dataTransfer),l=e._latestEditorState,u=r(t.nativeEvent,l);if(t.preventDefault(),e._dragCount=0,e.exitCurrentMode(),null!=u){var c=n.getFiles();if(c.length>0){if(e.props.handleDroppedFiles&&g(e.props.handleDroppedFiles(u,c)))return;return void d(c,function(t){t&&e.update(a(l,u,t))})}var f=e._internalDrag?"internal":"external";e.props.handleDrop&&g(e.props.handleDrop(u,n,f))||(e._internalDrag?e.update(i(l,u)):e.update(a(l,u,n.getText()))),o(e)}}};e.exports=m},function(e,t,n){"use strict";var r=n(8),o=n(155),i=n(156),a=n(157),s=n(158),l=n(159),u=n(160),c=n(161),f=n(162),d=n(163),p=n(164),h=n(165),g=n(65),y=r.isBrowser("Chrome"),m=r.isBrowser("Firefox"),v=y||m?g:function(e){},b={onBeforeInput:o,onBlur:i,onCompositionStart:a,onCopy:s,onCut:l,onDragOver:u,onDragStart:c,onFocus:f,onInput:d,onKeyDown:p,onPaste:h,onSelect:g,onMouseUp:v,onKeyUp:v};e.exports=b},function(e,t,n){"use strict";var r=n(93),o=r.unstable_flushControlled;e.exports=o},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var o=n(133),i=n(56),a=n(14),s=n(3),l=n(1),u=n(19),c=(s.List,function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.block,n=e.contentState,r=e.customStyleFn,s=e.customStyleMap,c=e.decorator,f=e.direction,d=e.forceSelection,p=e.hasSelection,h=e.selection,g=e.tree,y=t.getKey(),m=t.getText(),v=g.size-1,b=this.props.children||g.map(function(e,u){var g=e.get("decoratorKey"),b=e.get("leaves"),w=b.size-1,_=b.map(function(e,n){var o=a.encode(y,u,n),c=e.get("start"),f=e.get("end");return l.createElement(i,{key:o,offsetKey:o,block:t,start:c,selection:p?h:null,forceSelection:d,text:m.slice(c,f),styleSet:t.getInlineStyleAt(c),customStyleMap:s,customStyleFn:r,isLast:g===v&&n===w})}).toArray();return g&&c?l.createElement(o,{block:t,children:_,contentState:n,decorator:c,decoratorKey:g,direction:f,leafSet:e,text:m,key:u}):_}).toArray();return l.createElement("div",{"data-offset-key":a.encode(y,0,0),className:u({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===f,"public/DraftStyleDefault/rtl":"RTL"===f})},b)},t}(l.Component));e.exports=c},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var o=n(1),i=n(19),a=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e){return this.props.text!==e.text||this.props.editorState.getSelection().getHasFocus()!==e.editorState.getSelection().getHasFocus()},n.render=function(){var e=this.props.editorState.getSelection().getHasFocus(),t=i({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":e}),n={whiteSpace:"pre-wrap"};return o.createElement("div",{className:t},o.createElement("div",{className:i("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID,style:n},this.props.text))},t}(o.Component);e.exports=a},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return f?"\n"===e.textContent:"BR"===e.tagName}var s=n(1),l=n(8),u=n(4),c=n(17),f=l.isBrowser("IE <= 11"),d=function(e){return f?s.createElement("span",{key:"A","data-text":"true",ref:e},"\n"):s.createElement("br",{key:"A","data-text":"true",ref:e})},p=function(e){return f?s.createElement("span",{key:"B","data-text":"true",ref:e},"\n"):s.createElement("br",{key:"B","data-text":"true",ref:e})},h=function(e){function t(t){var n;return n=e.call(this,t)||this,i(r(n),"_forceFlag",void 0),i(r(n),"_node",void 0),n._forceFlag=!1,n}o(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e){var t=this._node,n=""===e.children;c(t)?void 0:u(!1);var r=t;return n?!a(r):r.textContent!==e.children},n.componentDidMount=function(){this._forceFlag=!this._forceFlag},n.componentDidUpdate=function(){this._forceFlag=!this._forceFlag},n.render=function(){var e=this;return""===this.props.children?this._forceFlag?d(function(t){return e._node=t}):p(function(t){return e._node=t}):s.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true",ref:function(t){return e._node=t}},this.props.children)},t}(s.Component);e.exports=h},function(e,t){"use strict";var n={getRemovalRange:function(e,t,n,r,o){var i=n.split(" ");i=i.map(function(e,t){if("forward"===o){if(t>0)return" "+e}else if(t<i.length-1)return e+" ";return e});for(var a,s,l=r,u=null,c=null,f=0;f<i.length;f++){if(s=i[f],a=l+s.length,e<a&&l<t)null!==u?c=a:(u=l,c=a);else if(null!==u)break;l=a}var d=r+n.length,p=u===r,h=c===d;return(!p&&h||p&&!h)&&("forward"===o?c!==d&&c++:u!==r&&u--),{start:u,end:c}}};e.exports=n},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(16),a=n(11),s=n(63),l=n(12),u=n(74),c=n(15),f=n(3),d=n(86),p=f.List,h=f.Repeat,g=c("draft_tree_data_support"),y=g?a:i,m={processHTML:function(e,t){return s(e,u,t)},processText:function(e,t,n){return e.reduce(function(e,o,i){o=d(o);var a=l(),s={key:a,type:n,text:o,characterList:p(h(t,o.length))};if(g&&0!==i){var u=i-1,c=e[u]=e[u].merge({nextSibling:a});s=r({},s,{prevSibling:c.getKey()})}return e.push(new y(s)),e},[])}};e.exports=m},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(12),a=n(4),s=function(e,t){for(var n=[].concat(e).reverse();n.length;){var r=n.pop();t(r);var o=r.children;Array.isArray(o)?void 0:a(!1),n=n.concat([].concat(o.reverse()))}},l=function(e){if(!e||!e.type)return!1;var t=e.type;return"unordered-list-item"===t||"ordered-list-item"===t},u=function(e){Array.isArray(e.children)&&(e.children=e.children.map(function(t){return t.type===e.type?r({},t,{depth:(e.depth||0)+1}):t}))},c={fromRawTreeStateToRawState:function(e){var t=e.blocks,n=[];return Array.isArray(t)?void 0:a(!1),Array.isArray(t)&&t.length?(s(t,function(e){var t=r({},e);l(e)&&(t.depth=t.depth||0,u(e),null!=e.children&&e.children.length>0)||(delete t.children,n.push(t))}),e.blocks=n,r({},e,{blocks:n})):e},fromRawStateToRawTreeState:function(e){var t=[],n=[];return e.blocks.forEach(function(e){var o=l(e),a=e.depth||0,s=r({},e,{children:[]});if(!o)return void t.push(s);var u=n[0];if(null==u&&0===a)t.push(s);else if(null==u||u.depth<a-1){var c={key:i(),text:"",depth:a-1,type:e.type,children:[],entityRanges:[],inlineStyleRanges:[]};n.unshift(c),1===a?t.push(c):null!=u&&u.children.push(c),c.children.push(s)}else if(u.depth===a-1)u.children.push(s);else{for(;null!=u&&u.depth>=a;)n.shift(),u=n[0];a>0?u.children.push(s):t.push(s)}}),r({},e,{blocks:t})}};e.exports=c},function(e,t,n){"use strict";var r=(n(49),{isValidBlock:function(e,t){var n=e.getKey(),r=e.getParentKey();if(null!=r){var o=t.get(r);if(!o.getChildKeys().includes(n))return!1}var i=e.getChildKeys().map(function(e){return t.get(e)});if(!i.every(function(e){return e.getParentKey()===n}))return!1;var a=e.getPrevSiblingKey();if(null!=a){var s=t.get(a);if(s.getNextSiblingKey()!==n)return!1}var l=e.getNextSiblingKey();if(null!=l){var u=t.get(l);if(u.getPrevSiblingKey()!==n)return!1}return(null===l||null===a||a!==l)&&!(""!=e.text&&e.getChildKeys().size>0)},isConnectedTree:function(e){var t=e.toArray().filter(function(e){return null==e.getParentKey()&&null==e.getPrevSiblingKey()});if(1!==t.length)return!1;for(var n=t.shift(),r=0,o=n.getKey(),i=[];null!=o;){var a=e.get(o),s=a.getChildKeys(),l=a.getNextSiblingKey();if(s.size>0){null!=l&&i.unshift(l);var u=s.map(function(t){return e.get(t)}),c=u.find(function(e){return null==e.getPrevSiblingKey()});if(null==c)return!1;o=c.getKey()}else o=null!=a.getNextSiblingKey()?a.getNextSiblingKey():i.shift();r++}return r===e.size},isValidTree:function(e){var t=this,n=e.toArray();return!!n.every(function(n){return t.isValidBlock(n,e)})&&this.isConnectedTree(e)}});e.exports=r},function(e,t,n){"use strict";var r,o=n(208),i=n(3),a=n(9),s=i.OrderedMap,l={getDirectionMap:function(e,t){r?r.reset():r=new o;var n=e.getBlockMap(),l=n.valueSeq().map(function(e){return a(r).getDirection(e.getText())}),u=s(n.keySeq().zip(l));return null!=t&&i.is(t,u)?t:u}};e.exports=l},function(e,t){"use strict"},function(e,t,n){"use strict";var r=n(7),o=n(6),i=n(28),a=n(9),s=null,l={cut:function(e){var t=e.getCurrentContent(),n=e.getSelection(),l=null;if(n.isCollapsed()){var u=n.getAnchorKey(),c=t.getBlockForKey(u).getLength();if(c===n.getAnchorOffset()){var f=t.getKeyAfter(u);if(null==f)return e;l=n.set("focusKey",f).set("focusOffset",0)}else l=n.set("focusOffset",c)}else l=n;l=a(l),s=i(t,l);var d=r.removeRange(t,l,"forward");return d===t?e:o.push(e,d,"remove-range")},paste:function(e){if(!s)return e;var t=r.replaceWithFragment(e.getCurrentContent(),e.getSelection(),s);return o.push(e,t,"insert-fragment")}};e.exports=l},function(e,t){"use strict";function n(e,t,n,r){var o=t.getStartKey(),i=t.getEndKey(),a=e.getBlockMap(),s=a.toSeq().skipUntil(function(e,t){return t===o}).takeUntil(function(e,t){return t===i}).concat([[i,a.get(i)]]).map(function(e){var t=e.getDepth()+n;return t=Math.max(0,Math.min(t,r)),e.set("depth",t)});return a=a.merge(s),e.merge({blockMap:a,selectionBefore:t,selectionAfter:t})}e.exports=n},function(e,t,n){"use strict";function r(e,t,n,r){for(var i=t,a=e.getCharacterList();i<n;)a=a.set(i,o.applyEntity(a.get(i),r)),i++;return e.set("characterList",a)}var o=n(10);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r=e.getBlockMap(),a=t.getStartKey(),s=t.getStartOffset(),l=t.getEndKey(),u=t.getEndOffset(),c=r.skipUntil(function(e,t){return t===a}).takeUntil(function(e,t){return t===l}).toOrderedMap().merge(i.OrderedMap([[l,r.get(l)]])).map(function(e,t){var r=t===a?s:0,i=t===l?u:e.getLength();return o(e,r,i,n)});return e.merge({blockMap:r.merge(c),selectionBefore:t,selectionAfter:t})}var o=n(148),i=n(3);e.exports=r},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(16),a=n(11),s=n(61),l=n(166),u=n(167),c=n(4),f=function(e,t){return{key:e.getKey(),text:e.getText(),type:e.getType(),depth:e.getDepth(),inlineStyleRanges:u(e),entityRanges:l(e,t),data:e.getData().toObject()}},d=function(e,t,n,o){if(e instanceof i)return void n.push(f(e,t));e instanceof a?void 0:c(!1);var s=e.getParentKey(),l=o[e.getKey()]=r({},f(e,t),{children:[]});return s?void o[s].children.push(l):void n.push(l)},p=function(e,t){var n=t.entityMap,r=[],o={},i={},a=0;return e.getBlockMap().forEach(function(e){e.findEntityRanges(function(e){return null!==e.getEntity()},function(t){var r=e.getEntityAt(t),o=s.stringify(r);i[o]||(i[o]=r,n[o]="".concat(a),a++)}),d(e,n,r,o)}),{blocks:r,entityMap:n}},h=function(e,t){var n=t.blocks,r=t.entityMap,o={};return Object.keys(r).forEach(function(t,n){var r=e.getEntity(s.unstringify(t));o[n]={type:r.getType(),mutability:r.getMutability(),data:r.getData()}}),{blocks:n,entityMap:o}},g=function(e){var t={entityMap:{},blocks:[]};return t=p(e,t),t=h(e,t)};e.exports=g},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(16),a=n(11),s=n(41),l=n(25),u=n(142),c=(n(143),n(26)),f=n(152),d=n(153),p=n(154),h=n(12),g=n(15),y=n(3),m=n(4),v=g("draft_tree_data_support"),b=y.List,w=y.Map,_=y.OrderedMap,x=function(e,t){var n=e.key,r=e.type,o=e.data,i=e.text,a=e.depth,s={text:i,depth:a||0,type:r||"unstyled",key:n||h(),data:w(o),characterList:S(e,t)};return s},S=function(e,t){var n=e.text,o=e.entityRanges,i=e.inlineStyleRanges,a=o||[],s=i||[];return f(p(n,s),d(n,a.filter(function(e){return t.hasOwnProperty(e.key)}).map(function(e){return r({},e,{key:t[e.key]})})))},k=function(e){return r({},e,{key:e.key||h()})},E=function(e,t,n){var o=t.map(function(e){return r({},e,{parentRef:n})});return e.concat(o.reverse())},C=function(e,t){return e.map(k).reduce(function(n,o,i){Array.isArray(o.children)?void 0:m(!1);var s=o.children.map(k),l=new a(r({},x(o,t),{prevSibling:0===i?null:e[i-1].key,nextSibling:i===e.length-1?null:e[i+1].key,children:b(s.map(function(e){return e.key}))}));n=n.set(l.getKey(),l);for(var u=E([],s,l);u.length>0;){var c=u.pop(),f=c.parentRef,d=f.getChildKeys(),p=d.indexOf(c.key),h=Array.isArray(c.children);if(!h){h?void 0:m(!1);break}var g=c.children.map(k),y=new a(r({},x(c,t),{parent:f.getKey(),children:b(g.map(function(e){return e.key})),prevSibling:0===p?null:d.get(p-1),nextSibling:p===d.size-1?null:d.get(p+1)}));n=n.set(y.getKey(),y),u=E(u,g,y)}return n},_())},O=function(e,t){return _(e.map(function(e){var n=new i(x(e,t));return[n.getKey(),n]}))},D=function(e,t){var n=e.blocks.find(function(e){return Array.isArray(e.children)&&e.children.length>0}),r=v&&!n?u.fromRawStateToRawTreeState(e).blocks:e.blocks;if(!v)return O(n?u.fromRawTreeStateToRawState(e).blocks:r,t);var o=C(r,t);return o},T=function(e){var t=e.entityMap,n={};return Object.keys(t).forEach(function(e){var r=t[e],o=r.type,i=r.mutability,a=r.data;n[e]=l.__create(o,i,a||{})}),n},N=function(e){Array.isArray(e.blocks)?void 0:m(!1);var t=T(e),n=D(e,t),r=n.isEmpty()?new c:c.createEmpty(n.first().getKey());return new s({blockMap:n,entityMap:t,selectionBefore:r,selectionAfter:r})};e.exports=N},function(e,t,n){"use strict";function r(e,t){var n=e.map(function(e,n){var r=t[n];return o.create({style:e,entity:r})});return a(n)}var o=n(10),i=n(3),a=i.List;e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=Array(e.length).fill(null);return t&&t.forEach(function(t){for(var r=i(e,0,t.offset).length,o=r+i(e,t.offset,t.length).length,a=r;a<o;a++)n[a]=t.key}),n}var o=n(18),i=o.substr;e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=Array(e.length).fill(l);return t&&t.forEach(function(t){for(var r=s(e,0,t.offset).length,o=r+s(e,t.offset,t.length).length;r<o;)n[r]=n[r].add(t.style),r++}),n}var o=n(18),i=n(3),a=i.OrderedSet,s=o.substr,l=a();e.exports=r},function(e,t,n){"use strict";function r(e){return y&&(e==h||e==g)}function o(e,t,n,r,o){var i=a.replaceText(e.getCurrentContent(),e.getSelection(),t,n,r);return s.push(e,i,"insert-characters",o)}function i(e,t){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var n=e._latestEditorState,i=t.data;if(i){if(e.props.handleBeforeInput&&c(e.props.handleBeforeInput(i,n,t.timeStamp)))return void t.preventDefault();var a=n.getSelection(),l=a.getStartOffset(),h=a.getAnchorKey();if(!a.isCollapsed())return t.preventDefault(),void e.update(o(n,i,n.getCurrentInlineStyle(),u(n.getCurrentContent(),n.getSelection()),!0));var g=o(n,i,n.getCurrentInlineStyle(),u(n.getCurrentContent(),n.getSelection()),!1),y=!1;if(y||(y=f(e._latestCommittedEditorState)),!y){var m=n.getBlockTree(h),v=g.getBlockTree(h);y=m.size!==v.size||m.zip(v).some(function(e){var t=e[0],n=e[1],r=t.get("start"),o=r+(r>=l?i.length:0),a=t.get("end"),s=a+(a>=l?i.length:0),u=n.get("start"),c=n.get("end"),f=n.get("decoratorKey");return t.get("decoratorKey")!==f||t.get("leaves").size!==n.get("leaves").size||o!==u||s!==c||null!=f&&c-u!==a-r})}if(y||(y=r(i)),y||(y=d(g.getDirectionMap()).get(h)!==d(n.getDirectionMap()).get(h)),y)return t.preventDefault(),g=s.set(g,{forceSelection:!0}),void e.update(g);g=s.set(g,{nativelyRenderedContent:g.getCurrentContent()}),e._pendingStateFromBeforeInput=g,p(function(){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0)})}}var a=n(7),s=n(6),l=n(8),u=n(44),c=n(30),f=n(178),d=n(9),p=n(223),h="'",g="/",y=l.isBrowser("Firefox");e.exports=i},function(e,t,n){"use strict";function r(e,t){var n=t.currentTarget.ownerDocument;if(!Boolean(e.props.preserveSelectionOnBlur)&&a(n)===n.body){var r=n.defaultView.getSelection(),s=e.editor;1===r.rangeCount&&i(s,r.anchorNode)&&i(s,r.focusNode)&&r.removeAllRanges()}var l=e._latestEditorState,u=l.getSelection();if(u.getHasFocus()){var c=u.set("hasFocus",!1);e.props.onBlur&&e.props.onBlur(t),e.update(o.acceptSelection(l,c))}}var o=n(6),i=n(48),a=n(89);e.exports=r},function(e,t,n){"use strict";function r(e,t){e.setMode("composite"),e.update(o.set(e._latestEditorState,{inCompositionMode:!0})),e._onCompositionStart(t)}var o=n(6);e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=e._latestEditorState,r=n.getSelection();return r.isCollapsed()?void t.preventDefault():void e.setClipboard(o(e._latestEditorState))}var o=n(70);e.exports=r},function(e,t,n){"use strict";function r(e,t){var n,r=e._latestEditorState,i=r.getSelection(),a=t.target;if(i.isCollapsed())return void t.preventDefault();if(c(a)){var f=a;n=u(s.getScrollParent(f))}var d=l(r);e.setClipboard(d),e.setMode("cut"),setTimeout(function(){e.restoreEditorDOM(n),e.exitCurrentMode(),e.update(o(r))},0)}function o(e){var t=i.removeRange(e.getCurrentContent(),e.getSelection(),"forward");return a.push(e,t,"remove-range")}var i=n(7),a=n(6),s=n(32),l=n(70),u=n(34),c=n(177);e.exports=r},function(e,t){"use strict";function n(e,t){e.setMode("drag"),t.preventDefault()}e.exports=n},function(e,t){"use strict";function n(e){e._internalDrag=!0,e.setMode("drag")}e.exports=n},function(e,t,n){"use strict";function r(e,t){var n=e._latestEditorState,r=n.getSelection();if(!r.getHasFocus()){var a=r.set("hasFocus",!0);e.props.onFocus&&e.props.onFocus(t),i.isBrowser("Chrome < 60.0.3081.0")?e.update(o.forceSelection(n,a)):e.update(o.acceptSelection(n,a))}}var o=n(6),i=n(8);e.exports=r},function(e,t,n){"use strict";function r(e,t){switch(e){case"deleteContentBackward":return d(t)}return t}function o(e,t){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var n=e.editor,o=n.ownerDocument.defaultView.getSelection(),l=o.anchorNode,u=o.isCollapsed,d=(null===l||void 0===l?void 0:l.nodeType)!==Node.TEXT_NODE&&(null===l||void 0===l?void 0:l.nodeType)!==Node.ELEMENT_NODE;if(null!=l&&!d){if(l.nodeType===Node.TEXT_NODE&&(null!==l.previousSibling||null!==l.nextSibling)){var y=l.parentNode;if(null==y)return;l.nodeValue=y.textContent;for(var m=y.firstChild;null!=m;m=m.nextSibling)m!==l&&y.removeChild(m)}var v=l.textContent,b=e._latestEditorState,w=p(f(l)),_=a.decode(w),x=_.blockKey,S=_.decoratorKey,k=_.leafKey,E=b.getBlockTree(x).getIn([S,"leaves",k]),C=E.start,O=E.end,D=b.getCurrentContent(),T=D.getBlockForKey(x),N=T.getText().slice(C,O);if(v.endsWith(g)&&(v=v.slice(0,-1)),v!==N){var I,M,P,B,A=b.getSelection(),R=A.merge({anchorOffset:C,focusOffset:O,isBackward:!1}),j=T.getEntityAt(C),L=c(j)?D.getEntity(j):null,F=null!=L?L.getMutability():null,K="MUTABLE"===F,z=K?"spellcheck-change":"apply-entity",U=i.replaceText(D,R,v,T.getInlineStyleAt(C),K?T.getEntityAt(C):null);if(h)I=o.anchorOffset,M=o.focusOffset,P=C+Math.min(I,M),B=P+Math.abs(I-M),I=P,M=B;else{var V=v.length-N.length;P=A.getStartOffset(),B=A.getEndOffset(),I=u?B+V:P,M=B+V}var H=U.merge({selectionBefore:D.getSelectionAfter(),selectionAfter:A.merge({anchorOffset:I,focusOffset:M})});e.update(s.push(b,H,z))}else{var W=t.nativeEvent.inputType;if(W){var q=r(W,b);if(q!==b)return e.restoreEditorDOM(),void e.update(q)}}}}var i=n(7),a=n(14),s=n(6),l=n(8),u=n(64),c=u.notEmptyKey,f=n(27),d=n(81),p=n(9),h=l.isEngine("Gecko"),g="\n\n";e.exports=o},function(e,t,n){"use strict";function r(e,t,n){switch(e){case"redo":return a.redo(t);case"delete":return b(t);case"delete-word":return h(t);case"backspace":return v(t);case"backspace-word":return p(t);case"backspace-to-start-of-line":return d(t,n);case"split-block":return g(t);case"transpose-characters":return w(t);case"move-selection-to-start-of-block":return m(t);case"move-selection-to-end-of-block":return y(t);case"secondary-cut":return u.cut(t);case"secondary-paste":return u.paste(t);default:return t}}function o(e,t){function n(n){var r=e.props[n];return!!r&&(r(t),!0)}var o=t.which,s=e._latestEditorState;switch(o){case l.RETURN:if(t.preventDefault(),e.props.handleReturn&&f(e.props.handleReturn(t,s)))return;break;case l.ESC:if(t.preventDefault(),n("onEscape"))return;break;case l.TAB:if(n("onTab"))return;break;case l.UP:if(n("onUpArrow"))return;break;case l.RIGHT:if(n("onRightArrow"))return;break;case l.DOWN:if(n("onDownArrow"))return;break;case l.LEFT:if(n("onLeftArrow"))return;break;case l.SPACE:S&&x(t)&&t.preventDefault()}var u=e.props.keyBindingFn(t);if(null!=u&&""!==u){if("undo"===u)return void _(t,s,e.update);if(t.preventDefault(),!e.props.handleKeyCommand||!f(e.props.handleKeyCommand(u,s,t.timeStamp))){var c=r(u,s,t);c!==s&&e.update(c)}}else if(o===l.SPACE&&S&&x(t)){var d=i.replaceText(s.getCurrentContent(),s.getSelection()," ");e.update(a.push(s,d,"insert-characters"))}}var i=n(7),a=n(6),s=n(43),l=n(31),u=n(146),c=n(8),f=n(30),d=n(180),p=n(181),h=n(182),g=n(183),y=n(184),m=n(185),v=n(81),b=n(186),w=n(187),_=n(188),x=s.isOptionKeyCommand,S=c.isBrowser("Chrome");e.exports=o},function(e,t,n){"use strict";function r(e,t){t.preventDefault();var n=new l(t.clipboardData);if(!n.isRichText()){var r=n.getFiles(),m=n.getText();if(r.length>0){if(e.props.handlePastedFiles&&g(e.props.handlePastedFiles(r)))return;return void h(r,function(t){if(t=t||m){var n=e._latestEditorState,r=y(t),o=s.create({style:n.getCurrentInlineStyle(),entity:p(n.getCurrentContent(),n.getSelection())}),i=d.getCurrentBlockType(n),l=c.processText(r,o,i),h=a.createFromArray(l),g=u.replaceWithFragment(n.getCurrentContent(),n.getSelection(),h);e.update(f.push(n,g,"insert-fragment"))}})}}var v=[],b=n.getText(),w=n.getHTML(),_=e._latestEditorState;if(e.props.formatPastedText){var x=e.props.formatPastedText(b,w),S=x.text,k=x.html;b=S,w=k}if(!e.props.handlePastedText||!g(e.props.handlePastedText(b,w,_))){if(b&&(v=y(b)),!e.props.stripPastedStyles){var E=e.getClipboard();if(!e.props.formatPastedText&&n.isRichText()&&E){var C;if((null===(C=w)||void 0===C?void 0:C.indexOf(e.getEditorKey()))!==-1||1===v.length&&1===E.size&&E.first().getText()===b)return void e.update(o(e._latestEditorState,E))}else if(E&&n.types.includes("com.apple.webarchive")&&!n.types.includes("text/html")&&i(v,E))return void e.update(o(e._latestEditorState,E));if(w){var O=c.processHTML(w,e.props.blockRenderMap);if(O){var D=O.contentBlocks,T=O.entityMap;if(D){var N=a.createFromArray(D);return void e.update(o(e._latestEditorState,N,T))}}}e.setClipboard(null)}if(v.length){var I=s.create({style:_.getCurrentInlineStyle(),entity:p(_.getCurrentContent(),_.getSelection())}),M=d.getCurrentBlockType(_),P=c.processText(v,I,M),B=a.createFromArray(P);e.update(o(e._latestEditorState,B))}}}function o(e,t,n){var r=u.replaceWithFragment(e.getCurrentContent(),e.getSelection(),t);return f.push(e,r.set("entityMap",n),"insert-fragment")}function i(e,t){return e.length===t.size&&t.valueSeq().every(function(t,n){return t.getText()===e[n]})}var a=n(21),s=n(10),l=n(87),u=n(7),c=n(141),f=n(6),d=n(62),p=n(44),h=n(76),g=n(30),y=n(193);e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=[];return e.findEntityRanges(function(e){return!!e.getEntity()},function(r,i){var s=e.getText(),l=e.getEntityAt(r);n.push({offset:a(s.slice(0,r)),length:a(s.slice(r,i)),key:Number(t[o.stringify(l)])})}),n}var o=n(61),i=n(18),a=i.strlen;e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r=[],o=t.map(function(e){return e.has(n)}).toList();return a(o,s,l,function(t,o){var a=e.getText();r.push({offset:i.strlen(a.slice(0,t)),length:i.strlen(a.slice(t,o)),style:n})}),r}function o(e){var t=e.getCharacterList().map(function(e){return e.getStyle()}).toList(),n=t.flatten().toSet().map(function(n){return r(e,t,n)});return Array.prototype.concat.apply(u,n.toJS())}var i=n(18),a=n(22),s=function(e,t){return e===t},l=function(e){return!!e},u=[];e.exports=o},function(e,t,n){"use strict";function r(e){var t=getComputedStyle(e),n=l(e),r=n.createElement("div");r.style.fontFamily=t.fontFamily,r.style.fontSize=t.fontSize,r.style.fontStyle=t.fontStyle,r.style.fontWeight=t.fontWeight,r.style.lineHeight=t.lineHeight,r.style.position="absolute",r.textContent="M";var o=n.body;o?void 0:c(!1),o.appendChild(r);var i=r.getBoundingClientRect();return o.removeChild(r),i.height}function o(e,t){for(var n=1/0,r=1/0,o=-(1/0),i=-(1/0),a=0;a<e.length;a++){var s=e[a];0!==s.width&&1!==s.width&&(n=Math.min(n,s.top),r=Math.min(r,s.bottom),o=Math.max(o,s.top),i=Math.max(i,s.bottom))}return o<=r&&o-n<t&&i-r<t}function i(e){switch(e.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return e.length;default:return e.childNodes.length}}function a(e){e.collapsed?void 0:c(!1),e=e.cloneRange();var t=e.startContainer;1!==t.nodeType&&(t=t.parentNode);var n=r(t),a=e.endContainer,l=e.endOffset;for(e.setStart(e.startContainer,0);o(u(e),n)&&(a=e.startContainer,l=e.startOffset,a.parentNode?void 0:c(!1),e.setStartBefore(a),1!==a.nodeType||"inline"===getComputedStyle(a).display););for(var f=a,d=l-1;;){for(var p=f.nodeValue,h=d;h>=0;h--)if(!(null!=p&&h>0&&s.isSurrogatePair(p,h-1))){if(e.setStart(f,h),!o(u(e),n))break;a=f,l=h}if(h===-1||0===f.childNodes.length)break;f=f.childNodes[h],d=i(f)}return e.setStart(a,l),e}var s=n(18),l=n(29),u=n(73),c=n(4);e.exports=a;
},function(e,t,n){"use strict";function r(e,t,n,r,i){var a=r.getStartOffset(),s=r.getEndOffset(),l=t.getEntityAt(a),u=n.getEntityAt(s-1);if(!l&&!u)return r;var c=r;if(l&&l===u)c=o(e,t,c,i,l,!0,!0);else if(l&&u){var f=o(e,t,c,i,l,!1,!0),d=o(e,n,c,i,u,!1,!1);c=c.merge({anchorOffset:f.getAnchorOffset(),focusOffset:d.getFocusOffset(),isBackward:!1})}else if(l){var p=o(e,t,c,i,l,!1,!0);c=c.merge({anchorOffset:p.getStartOffset(),isBackward:!1})}else if(u){var h=o(e,n,c,i,u,!1,!1);c=c.merge({focusOffset:h.getEndOffset(),isBackward:!1})}return c}function o(e,t,n,r,o,l,u){var c=n.getStartOffset(),f=n.getEndOffset(),d=e.__get(o),p=d.getMutability(),h=u?c:f;if("MUTABLE"===p)return n;var g=a(t,o).filter(function(e){return h<=e.end&&h>=e.start});1!=g.length?s(!1):void 0;var y=g[0];if("IMMUTABLE"===p)return n.merge({anchorOffset:y.start,focusOffset:y.end,isBackward:!1});l||(u?f=y.end:c=y.start);var m=i.getRemovalRange(c,f,t.getText().slice(y.start,y.end),y.start,r);return n.merge({anchorOffset:m.start,focusOffset:m.end,isBackward:!1})}var i=n(140),a=n(171),s=n(4);e.exports=r},function(e,t,n){"use strict";function r(e){var t=o(e),n=0,r=0,i=0,a=0;if(t.length){if(t.length>1&&0===t[0].width){var s=t[1];n=s.top,r=s.right,i=s.bottom,a=s.left}else{var l=t[0];n=l.top,r=l.right,i=l.bottom,a=l.left}for(var u=1;u<t.length;u++){var c=t[u];0!==c.height&&0!==c.width&&(n=Math.min(n,c.top),r=Math.max(r,c.right),i=Math.max(i,c.bottom),a=Math.min(a,c.left))}}return{top:n,right:r,bottom:i,left:a,width:r-a,height:i-n}}var o=n(73);e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=[];return e.findEntityRanges(function(e){return e.getEntity()===t},function(e,t){n.push({start:e,end:t})}),n.length?void 0:o(!1),n}var o=n(4);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.getSelection();if(!t.rangeCount)return null;var n=t.getRangeAt(0),r=o(n),i=r.top,a=r.right,s=r.bottom,l=r.left;return 0===i&&0===a&&0===s&&0===l?null:r}var o=n(170);e.exports=r},function(e,t,n){"use strict";var r=n(21),o=n(11),i=n(3),a=n(79),s=n(4),l=n(84),u=i.List,c=function(e,t,n,r,o,i){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"REPLACE_WITH_NEW_DATA",l=n.get(o),u=l.getText(),c=l.getCharacterList(),f=o,d=i+r.getText().length,p=null;switch(s){case"MERGE_OLD_DATA_TO_NEW_DATA":p=r.getData().merge(l.getData());break;case"REPLACE_WITH_NEW_DATA":p=r.getData()}var h=l.getType();u&&"unstyled"===h&&(h=r.getType());var g=l.merge({text:u.slice(0,i)+r.getText()+u.slice(i),characterList:a(c,r.getCharacterList(),i),type:h,data:p});return e.merge({blockMap:n.set(o,g),selectionBefore:t,selectionAfter:t.merge({anchorKey:f,anchorOffset:d,focusKey:f,focusOffset:d,isBackward:!1})})},f=function(e,t,n){var r=e.getText(),o=e.getCharacterList(),i=r.slice(0,t),a=o.slice(0,t),s=n.first();return e.merge({text:i+s.getText(),characterList:a.concat(s.getCharacterList()),type:i?e.getType():s.getType(),data:s.getData()})},d=function(e,t,n){var r=e.getText(),o=e.getCharacterList(),i=r.length,a=r.slice(t,i),s=o.slice(t,i),l=n.last();return l.merge({text:l.getText()+a,characterList:l.getCharacterList().concat(s),data:l.getData()})},p=function(e,t){var n=e.getKey(),r=e,o=[];for(t.get(n)&&o.push(n);r&&r.getNextSiblingKey();){var i=r.getNextSiblingKey();if(!i)break;o.push(i),r=t.get(i)}return o},h=function(e,t,n,r){return e.withMutations(function(t){var o=n.getKey(),i=r.getKey(),a=n.getNextSiblingKey(),s=n.getParentKey(),l=p(r,e),c=l[l.length-1];if(t.get(i)?(t.setIn([o,"nextSibling"],i),t.setIn([i,"prevSibling"],o)):(t.setIn([o,"nextSibling"],r.getNextSiblingKey()),t.setIn([r.getNextSiblingKey(),"prevSibling"],o)),t.setIn([c,"nextSibling"],a),a&&t.setIn([a,"prevSibling"],c),l.forEach(function(e){return t.setIn([e,"parent"],s)}),s){var f=e.get(s),d=f.getChildKeys(),h=d.indexOf(o),g=h+1,y=d.toArray();y.splice.apply(y,[g,0].concat(l)),t.setIn([s,"children"],u(y))}})},g=function(e,t,n,i,a,s){var l=n.first()instanceof o,u=[],c=i.size,p=n.get(a),g=i.first(),y=i.last(),m=y.getLength(),v=y.getKey(),b=l&&(!p.getChildKeys().isEmpty()||!g.getChildKeys().isEmpty());n.forEach(function(e,t){return t!==a?void u.push(e):(b?u.push(e):u.push(f(e,s,i)),i.slice(b?0:1,c-1).forEach(function(e){return u.push(e)}),void u.push(d(e,s,i)))});var w=r.createFromArray(u);return l&&(w=h(w,n,p,g)),e.merge({blockMap:w,selectionBefore:t,selectionAfter:t.merge({anchorKey:v,anchorOffset:m,focusKey:v,focusOffset:m,isBackward:!1})})},y=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA";t.isCollapsed()?void 0:s(!1);var i=e.getBlockMap(),a=l(n),u=t.getStartKey(),f=t.getStartOffset(),d=i.get(u);return d instanceof o&&(d.getChildKeys().isEmpty()?void 0:s(!1)),1===a.size?c(e,t,i,a.first(),u,f,r):g(e,t,i,a,u,f)};e.exports=y},function(e,t,n){"use strict";function r(e,t,n,r){t.isCollapsed()?void 0:a(!1);var o=null;if(null!=n&&(o=n.length),null==o||0===o)return e;var l=e.getBlockMap(),u=t.getStartKey(),c=t.getStartOffset(),f=l.get(u),d=f.getText(),p=f.merge({text:d.slice(0,c)+n+d.slice(c,f.getLength()),characterList:i(f.getCharacterList(),s(r,o).toList(),c)}),h=c+o;return e.merge({blockMap:l.set(u,p),selectionAfter:t.merge({anchorOffset:h,focusOffset:h})})}var o=n(3),i=n(79),a=n(4),s=o.Repeat;e.exports=r},function(e,t,n){"use strict";function r(e){return!(!e||!e.ownerDocument)&&(o(e)&&"A"===e.nodeName)}var o=n(17);e.exports=r},function(e,t,n){"use strict";function r(e){return!(!e||!e.ownerDocument)&&(o(e)&&"IMG"===e.nodeName)}var o=n(17);e.exports=r},function(e,t){"use strict";function n(e){if(!(e&&"ownerDocument"in e))return!1;if("ownerDocument"in e){var t=e;if(!t.ownerDocument.defaultView)return t instanceof Node;if(t instanceof t.ownerDocument.defaultView.Node)return!0}return!1}e.exports=n},function(e,t){"use strict";function n(e){var t=e.getSelection(),n=t.getAnchorKey(),r=e.getBlockTree(n),o=t.getStartOffset(),i=!1;return r.some(function(e){return o===e.get("start")?(i=!0,!0):o<e.get("end")&&e.get("leaves").some(function(e){var t=e.get("start");return o===t&&(i=!0,!0)})}),i}e.exports=n},function(e,t,n){"use strict";function r(e){return e.which===o.RETURN&&(e.getModifierState("Shift")||e.getModifierState("Alt")||e.getModifierState("Control"))}var o=n(31);e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=l(e,function(e){var n=e.getSelection();if(n.isCollapsed()&&0===n.getAnchorOffset())return s(e,1);var r=t.currentTarget.ownerDocument,o=r.defaultView.getSelection(),l=o.getRangeAt(0);return l=i(l),a(e,null,l.endContainer,l.endOffset,l.startContainer,l.startOffset).selectionState},"backward");return n===e.getCurrentContent()?e:o.push(e,n,"remove-range")}var o=n(6),i=n(168),a=n(69),s=n(45),l=n(24);e.exports=r},function(e,t,n){"use strict";function r(e){var t=s(e,function(e){var t=e.getSelection(),n=t.getStartOffset();if(0===n)return a(e,1);var r=t.getStartKey(),i=e.getCurrentContent(),s=i.getBlockForKey(r).getText().slice(0,n),l=o.getBackward(s);return a(e,l.length||1)},"backward");return t===e.getCurrentContent()?e:i.push(e,t,"remove-range")}var o=n(60),i=n(6),a=n(45),s=n(24);e.exports=r},function(e,t,n){"use strict";function r(e){var t=s(e,function(e){var t=e.getSelection(),n=t.getStartOffset(),r=t.getStartKey(),i=e.getCurrentContent(),s=i.getBlockForKey(r).getText().slice(n),l=o.getForward(s);return a(e,l.length||1)},"forward");return t===e.getCurrentContent()?e:i.push(e,t,"remove-range")}var o=n(60),i=n(6),a=n(83),s=n(24);e.exports=r},function(e,t,n){"use strict";function r(e){var t=o.splitBlock(e.getCurrentContent(),e.getSelection());return i.push(e,t,"split-block")}var o=n(7),i=n(6);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.getSelection(),n=t.getEndKey(),r=e.getCurrentContent(),i=r.getBlockForKey(n).getLength();return o.set(e,{selection:t.merge({anchorKey:n,anchorOffset:i,focusKey:n,focusOffset:i,isBackward:!1}),forceSelection:!0})}var o=n(6);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.getSelection(),n=t.getStartKey();return o.set(e,{selection:t.merge({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:0,isBackward:!1}),forceSelection:!0})}var o=n(6);e.exports=r},function(e,t,n){"use strict";function r(e){var t=s(e,function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),o=t.getAnchorOffset(),s=n.getBlockForKey(r).getText()[o];return a(e,s?i.getUTF16Length(s,0):1)},"forward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return o.push(e,t.set("selectionBefore",n),n.isCollapsed()?"delete-character":"remove-range")}var o=n(6),i=n(18),a=n(83),s=n(24);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.getSelection();if(!t.isCollapsed())return e;var n=t.getAnchorOffset();if(0===n)return e;var r=t.getAnchorKey(),s=e.getCurrentContent(),l=s.getBlockForKey(r),u=l.getLength();if(u<=1)return e;var c,f;n===u?(c=t.set("anchorOffset",n-1),f=t):(c=t.set("focusOffset",n+1),f=c.set("anchorOffset",n+1));var d=a(s,c),p=o.removeRange(s,c,"backward"),h=p.getSelectionAfter(),g=h.getAnchorOffset()-1,y=h.merge({anchorOffset:g,focusOffset:g}),m=o.replaceWithFragment(p,y,d),v=i.push(e,m,"insert-fragment");return i.acceptSelection(v,f)}var o=n(7),i=n(6),a=n(28);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r=o.undo(t);if("spellcheck-change"===t.getLastChangeType()){var i=r.getCurrentContent();return void n(o.set(r,{nativelyRenderedContent:i}))}return e.preventDefault(),t.getNativelyRenderedContent()?(n(o.set(t,{nativelyRenderedContent:null})),void setTimeout(function(){n(r)},0)):void n(r)}var o=n(6);e.exports=r},function(e,t,n){"use strict";var r=n(11),o=n(71),i=n(3),a=n(4),s=i.OrderedMap,l=i.List,u=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},c=function(e,t,n,r,o){if(!o)return e;var i="after"===r,a=t.getKey(),s=n.getKey(),c=t.getParentKey(),f=t.getNextSiblingKey(),d=t.getPrevSiblingKey(),p=n.getParentKey(),h=i?n.getNextSiblingKey():s,g=i?s:n.getPrevSiblingKey();return e.withMutations(function(e){u(c,e,function(e){var t=e.getChildKeys();return e.merge({children:t.delete(t.indexOf(a))})}),u(d,e,function(e){return e.merge({nextSibling:f})}),u(f,e,function(e){return e.merge({prevSibling:d})}),u(h,e,function(e){return e.merge({prevSibling:a})}),u(g,e,function(e){return e.merge({nextSibling:a})}),u(p,e,function(e){var t=e.getChildKeys(),n=t.indexOf(s),r=i?n+1:0!==n?n-1:0,o=t.toArray();return o.splice(r,0,a),e.merge({children:l(o)})}),u(a,e,function(e){return e.merge({nextSibling:h,prevSibling:g,parent:p})})})},f=function(e,t,n,i){"replace"===i?a(!1):void 0;var l=n.getKey(),u=t.getKey();u===l?a(!1):void 0;var f=e.getBlockMap(),d=t instanceof r,p=[t],h=f.delete(u);d&&(p=[],h=f.withMutations(function(e){var n=t.getNextSiblingKey(),r=o(t,e);e.toSeq().skipUntil(function(e){return e.getKey()===u}).takeWhile(function(e){var t=e.getKey(),o=t===u,i=n&&t!==n,a=!n&&e.getParentKey()&&(!r||t!==r);return!!(o||i||a)}).forEach(function(t){p.push(t),e.delete(t.getKey())})}));var g=h.toSeq().takeUntil(function(e){return e===n}),y=h.toSeq().skipUntil(function(e){return e===n}).skip(1),m=p.map(function(e){return[e.getKey(),e]}),v=s();if("before"===i){var b=e.getBlockBefore(l);b&&b.getKey()===t.getKey()?a(!1):void 0,v=g.concat([].concat(m,[[l,n]]),y).toOrderedMap()}else if("after"===i){var w=e.getBlockAfter(l);w&&w.getKey()===u?a(!1):void 0,v=g.concat([[l,n]].concat(m),y).toOrderedMap()}return e.merge({blockMap:c(v,t,n,i,d),selectionBefore:e.getSelectionAfter(),selectionAfter:e.getSelectionAfter().merge({anchorKey:u,focusKey:u})})};e.exports=f},function(e,t,n){"use strict";var r=n(11),o=n(71),i=n(3),a=(i.List,i.Map),s=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},l=function(e,t){var n=[];if(!e)return n;for(var r=t.get(e);r&&r.getParentKey();){var o=r.getParentKey();o&&n.push(o),r=o?t.get(o):null}return n},u=function(e,t){var n=[];if(!e)return n;for(var r=o(e,t);r&&t.get(r);){var i=t.get(r);n.push(r),r=i.getParentKey()?o(i,t):null}return n},c=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getNextSiblingKey();r&&!t.get(r);)r=n.get(r).getNextSiblingKey()||null;return r},f=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getPrevSiblingKey();r&&!t.get(r);)r=n.get(r).getPrevSiblingKey()||null;return r},d=function(e,t,n,r){return e.withMutations(function(o){if(s(t.getKey(),o,function(e){return e.merge({nextSibling:c(e,o,r),prevSibling:f(e,o,r)})}),s(n.getKey(),o,function(e){return e.merge({nextSibling:c(e,o,r),prevSibling:f(e,o,r)})}),l(t.getKey(),r).forEach(function(e){return s(e,o,function(e){return e.merge({children:e.getChildKeys().filter(function(e){return o.get(e)}),nextSibling:c(e,o,r),prevSibling:f(e,o,r)})})}),s(t.getNextSiblingKey(),o,function(e){return e.merge({prevSibling:t.getPrevSiblingKey()})}),s(t.getPrevSiblingKey(),o,function(e){return e.merge({nextSibling:c(e,o,r)})}),s(n.getNextSiblingKey(),o,function(e){return e.merge({prevSibling:f(e,o,r)})}),s(n.getPrevSiblingKey(),o,function(e){return e.merge({nextSibling:n.getNextSiblingKey()})}),l(n.getKey(),r).forEach(function(e){s(e,o,function(e){return e.merge({children:e.getChildKeys().filter(function(e){return o.get(e)}),nextSibling:c(e,o,r),prevSibling:f(e,o,r)})})}),u(n,r).forEach(function(e){return s(e,o,function(e){return e.merge({nextSibling:c(e,o,r),prevSibling:f(e,o,r)})})}),null==e.get(t.getKey())&&null!=e.get(n.getKey())&&n.getParentKey()===t.getKey()&&null==n.getPrevSiblingKey()){var i=t.getPrevSiblingKey();s(n.getKey(),o,function(e){return e.merge({prevSibling:i})}),s(i,o,function(e){return e.merge({nextSibling:n.getKey()})});var a=i?e.get(i):null,d=a?a.getParentKey():null;if(t.getChildKeys().forEach(function(e){s(e,o,function(e){return e.merge({parent:d})})}),null!=d){var p=e.get(d);s(d,o,function(e){return e.merge({children:p.getChildKeys().concat(t.getChildKeys())})})}s(t.getChildKeys().find(function(t){var n=e.get(t);return null===n.getNextSiblingKey()}),o,function(e){return e.merge({nextSibling:t.getNextSiblingKey()})})}})},p=function(e,t){if(t.isCollapsed())return e;var n=e.getBlockMap(),i=t.getStartKey(),s=t.getStartOffset(),u=t.getEndKey(),c=t.getEndOffset(),f=n.get(i),p=n.get(u),g=f instanceof r,y=[];if(g){var m=p.getChildKeys(),v=l(u,n);p.getNextSiblingKey()&&(y=y.concat(v)),m.isEmpty()||(y=y.concat(v.concat([u]))),y=y.concat(l(o(p,n),n))}var b;b=f===p?h(f.getCharacterList(),s,c):f.getCharacterList().slice(0,s).concat(p.getCharacterList().slice(c));var w=f.merge({text:f.getText().slice(0,s)+p.getText().slice(c),characterList:b}),_=g&&0===s&&0===c&&p.getParentKey()===i&&null==p.getPrevSiblingKey(),x=_?a([[i,null]]):n.toSeq().skipUntil(function(e,t){return t===i}).takeUntil(function(e,t){return t===u}).filter(function(e,t){return y.indexOf(t)===-1}).concat(a([[u,null]])).map(function(e,t){return t===i?w:null}),S=n.merge(x).filter(function(e){return!!e});return g&&f!==p&&(S=d(S,f,p,n)),e.merge({blockMap:S,selectionBefore:t,selectionAfter:t.merge({anchorKey:i,anchorOffset:s,focusKey:i,focusOffset:s,isBackward:!1})})},h=function(e,t,n){if(0===t)for(;t<n;)e=e.shift(),t++;else if(n===e.count())for(;n>t;)e=e.pop(),n--;else{var r=e.slice(0,t),o=e.slice(n);e=r.concat(o).toList()}return e};e.exports=p},function(e,t,n){"use strict";function r(e,t){if(!e)return"[empty]";var n=o(e,t);if(n.nodeType===Node.TEXT_NODE)return n.textContent;m(n)?void 0:y(!1);var r=n;return r.outerHTML}function o(e,t){var n=void 0!==t?t(e):[];if(e.nodeType===Node.TEXT_NODE){var r=e.textContent.length;return g(e).createTextNode("[text "+r+(n.length?" | "+n.join(", "):"")+"]")}var i=e.cloneNode();1===i.nodeType&&n.length&&i.setAttribute("data-labels",n.join(", "));for(var a=e.childNodes,s=0;s<a.length;s++)i.appendChild(o(a[s],t));return i}function i(e,t){for(var n=e,o=n;n;){if(m(n)&&o.hasAttribute("contenteditable"))return r(n,t);n=n.parentNode,o=n}return"Could not find contentEditable parent of node"}function a(e){return null===e.nodeValue?e.childNodes.length:e.nodeValue.length}function s(e,t,n,r,o){var i=g(t);if(p(i.documentElement,t)){var a=i.defaultView.getSelection(),s=e.getAnchorKey(),c=e.getAnchorOffset(),f=e.getFocusKey(),d=e.getFocusOffset(),h=e.getIsBackward();if(!a.extend&&h){var y=s,m=c;s=f,c=d,f=y,d=m,h=!1}var v=s===n&&r<=c&&o>=c,b=f===n&&r<=d&&o>=d;if(v&&b)return a.removeAllRanges(),u(a,t,c-r,e),void l(a,t,d-r,e);if(h){if(b&&(a.removeAllRanges(),u(a,t,d-r,e)),v){var w=a.focusNode,_=a.focusOffset;a.removeAllRanges(),u(a,t,c-r,e),l(a,w,_,e)}}else v&&(a.removeAllRanges(),u(a,t,c-r,e)),b&&l(a,t,d-r,e)}}function l(e,t,n,r){var o=h(),s=e.extend;if(s&&null!=t&&p(o,t)){n>a(t)&&f.logSelectionStateFailure({anonymizedDom:i(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(r.toJS())});var l=t===e.focusNode;try{e.rangeCount>0&&e.extend&&e.extend(t,n)}catch(a){throw f.logSelectionStateFailure({anonymizedDom:i(t,function(t){var n=[];return t===o&&n.push("active element"),t===e.anchorNode&&n.push("selection anchor node"),t===e.focusNode&&n.push("selection focus node"),n}),extraParams:JSON.stringify({activeElementName:o?o.nodeName:null,nodeIsFocus:t===e.focusNode,nodeWasFocus:l,selectionRangeCount:e.rangeCount,selectionAnchorNodeName:e.anchorNode?e.anchorNode.nodeName:null,selectionAnchorOffset:e.anchorOffset,selectionFocusNodeName:e.focusNode?e.focusNode.nodeName:null,selectionFocusOffset:e.focusOffset,message:a?""+a:null,offset:n},null,2),selectionState:JSON.stringify(r.toJS(),null,2)}),a}}else if(t&&e.rangeCount>0){var u=e.getRangeAt(0);u.setEnd(t,n),e.addRange(u.cloneRange())}}function u(e,t,n,r){var o=g(t).createRange();if(n>a(t)&&(f.logSelectionStateFailure({anonymizedDom:i(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(r.toJS())}),c.handleExtensionCausedError()),o.setStart(t,n),v)try{e.addRange(o)}catch(e){}else e.addRange(o)}var c=n(57),f=n(59),d=n(8),p=n(48),h=n(89),g=n(29),y=n(4),m=n(17),v=d.isBrowser("IE");e.exports={setDraftEditorSelection:s,addFocusToSelection:l}},function(e,t,n){"use strict";var r=n(11),o=n(12),i=n(3),a=n(4),s=n(82),l=i.List,u=i.Map,c=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},f=function(e,t,n){return e.withMutations(function(e){var r=t.getKey(),o=n.getKey();c(t.getParentKey(),e,function(e){var t=e.getChildKeys(),n=t.indexOf(r)+1,i=t.toArray();return i.splice(n,0,o),e.merge({children:l(i)})}),c(t.getNextSiblingKey(),e,function(e){return e.merge({prevSibling:o})}),c(r,e,function(e){return e.merge({nextSibling:o})}),c(o,e,function(e){return e.merge({prevSibling:r})})})},d=function(e,t){t.isCollapsed()?void 0:a(!1);var n=t.getAnchorKey(),i=e.getBlockMap(),l=i.get(n),c=l.getText();if(!c){var d=l.getType();if("unordered-list-item"===d||"ordered-list-item"===d)return s(e,t,function(e){return e.merge({type:"unstyled",depth:0})})}var p=t.getAnchorOffset(),h=l.getCharacterList(),g=o(),y=l instanceof r,m=l.merge({text:c.slice(0,p),characterList:h.slice(0,p)}),v=m.merge({key:g,text:c.slice(p),characterList:h.slice(p),data:u()}),b=i.toSeq().takeUntil(function(e){return e===l}),w=i.toSeq().skipUntil(function(e){return e===l}).rest(),_=b.concat([[n,m],[g,v]],w).toOrderedMap();return y&&(l.getChildKeys().isEmpty()?void 0:a(!1),_=f(_,m,v)),e.merge({blockMap:_,selectionBefore:t,selectionAfter:t.merge({anchorKey:g,anchorOffset:0,focusKey:g,focusOffset:0,isBackward:!1})})};e.exports=d},function(e,t){"use strict";function n(e){return e.split(r)}var r=/\r\n?|\n/g;e.exports=n},function(e,t){"use strict";function n(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})}e.exports=n},function(e,t,n){!function(t,n){e.exports=n()}(this,function(){"use strict";function e(e,t){if(e)for(var n in e)({}).hasOwnProperty.call(e,n)&&t(n,e[n])}function t(e){return void 0===e||null===e||0===e.length||0===e.trim().length}function n(e){return e&&E[e]}function r(t){var n="";return e(t,function(e,t){t&&(n+="".concat(e,":").concat(t,";"))}),n}function o(e,t){var n=[];if(t)for(var r=0,o=0,i=e,a=t.trigger||"#",s=t.separator||" ";i.length>0&&o>=0;)if(i[0]===a?(o=0,r=0,i=i.substr(a.length)):(o=i.indexOf(s+a),o>=0&&(i=i.substr(o+(s+a).length),r+=o+s.length)),o>=0){var l=i.indexOf(s)>=0?i.indexOf(s):i.length,u=i.substr(0,l);u&&u.length>0&&n.push({offset:r,length:u.length+a.length,type:"HASHTAG"}),r+=a.length}return n}function i(e,t){var n=[],r=0,i=e.entityRanges.map(function(e){var t=e.offset,n=e.length,r=e.key;return{offset:t,length:n,key:r,type:"ENTITY"}});return i=i.concat(o(e.text,t)),i=i.sort(function(e,t){return e.offset-t.offset}),i.forEach(function(e){e.offset>r&&n.push({start:r,end:e.offset}),n.push({start:e.offset,end:e.offset+e.length,entityKey:e.key,type:e.type}),r=e.offset+e.length}),r<e.text.length&&n.push({start:r,end:e.text.length}),n}function a(e){return!(!(e.entityRanges.length>0)||!t(e.text)&&"atomic"!==e.type)}function s(e){var t=e.text,n=e.inlineStyleRanges,r={BOLD:new Array(t.length),ITALIC:new Array(t.length),UNDERLINE:new Array(t.length),STRIKETHROUGH:new Array(t.length),CODE:new Array(t.length),SUPERSCRIPT:new Array(t.length),SUBSCRIPT:new Array(t.length),COLOR:new Array(t.length),BGCOLOR:new Array(t.length),FONTSIZE:new Array(t.length),FONTFAMILY:new Array(t.length),length:t.length};return n&&n.length>0&&n.forEach(function(e){for(var t=e.offset,n=t+e.length,o=t;o<n;o+=1)0===e.style.indexOf("color-")?r.COLOR[o]=e.style.substring(6):0===e.style.indexOf("bgcolor-")?r.BGCOLOR[o]=e.style.substring(8):0===e.style.indexOf("fontsize-")?r.FONTSIZE[o]=e.style.substring(9):0===e.style.indexOf("fontfamily-")?r.FONTFAMILY[o]=e.style.substring(11):r[e.style]&&(r[e.style][o]=!0)}),r}function l(e,t){var n={};return e.COLOR[t]&&(n.COLOR=e.COLOR[t]),e.BGCOLOR[t]&&(n.BGCOLOR=e.BGCOLOR[t]),e.FONTSIZE[t]&&(n.FONTSIZE=e.FONTSIZE[t]),e.FONTFAMILY[t]&&(n.FONTFAMILY=e.FONTFAMILY[t]),e.UNDERLINE[t]&&(n.UNDERLINE=!0),e.ITALIC[t]&&(n.ITALIC=!0),e.BOLD[t]&&(n.BOLD=!0),e.STRIKETHROUGH[t]&&(n.STRIKETHROUGH=!0),e.CODE[t]&&(n.CODE=!0),e.SUBSCRIPT[t]&&(n.SUBSCRIPT=!0),e.SUPERSCRIPT[t]&&(n.SUPERSCRIPT=!0),n}function u(e,t,n){var r=!0;return n>0&&n<e.length?t.forEach(function(t){r=r&&e[t][n]===e[t][n-1]}):r=!1,r}function c(e,t){return"BOLD"===e?"<strong>".concat(t,"</strong>"):"ITALIC"===e?"<em>".concat(t,"</em>"):"UNDERLINE"===e?"<ins>".concat(t,"</ins>"):"STRIKETHROUGH"===e?"<del>".concat(t,"</del>"):"CODE"===e?"<code>".concat(t,"</code>"):"SUPERSCRIPT"===e?"<sup>".concat(t,"</sup>"):"SUBSCRIPT"===e?"<sub>".concat(t,"</sub>"):t}function f(e){if(e&&e.length>0){var t=e.map(function(e){switch(e){case"\n":return"<br>";case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";default:return e}});return t.join("")}return""}function d(e,t){if(e&&(e.COLOR||e.BGCOLOR||e.FONTSIZE||e.FONTFAMILY)){var n='style="';return e.COLOR&&(n+="color: ".concat(e.COLOR,";")),e.BGCOLOR&&(n+="background-color: ".concat(e.BGCOLOR,";")),e.FONTSIZE&&(n+="font-size: ".concat(e.FONTSIZE).concat(/^\d+$/.test(e.FONTSIZE)?"px":"",";")),e.FONTFAMILY&&(n+="font-family: ".concat(e.FONTFAMILY,";")),n+='"',"<span ".concat(n,">").concat(t,"</span>")}return t}function p(e,t,n,r){var o=e[t];if("function"==typeof r){var i=r(o,n);if(i)return i}if("MENTION"===o.type)return'<a href="'.concat(o.data.url,'" class="wysiwyg-mention" data-mention data-value="').concat(o.data.value,'">').concat(n,"</a>");if("LINK"===o.type){var a=o.data.targetOption||"_self";return'<a href="'.concat(o.data.url,'" target="').concat(a,'">').concat(n,"</a>")}if("IMAGE"===o.type){var s=o.data.alignment;return s&&s.length?'<div style="text-align:'.concat(s,';"><img src="').concat(o.data.src,'" alt="').concat(o.data.alt,'" style="height: ').concat(o.data.height,";width: ").concat(o.data.width,'"/></div>'):'<img src="'.concat(o.data.src,'" alt="').concat(o.data.alt,'" style="height: ').concat(o.data.height,";width: ").concat(o.data.width,'"/>')}return"EMBEDDED_LINK"===o.type?'<iframe width="'.concat(o.data.width,'" height="').concat(o.data.height,'" src="').concat(o.data.src,'" frameBorder="0"></iframe>'):n}function h(e,t,n,r){var o=[],i=Array.from(e.text);if(i.length>0)for(var a,c=s(e),f=n;f<r;f+=1)f!==n&&u(c,t,f)?(a.text.push(i[f]),a.end=f+1):(a={styles:l(c,f),text:[i[f]],start:f,end:f+1},o.push(a));return o}function g(e){if(e){for(var t=e,n=0;n<t.length&&" "===e[n];n+=1)t=t.replace(" ","&nbsp;");return t}return e}function y(e){if(e){for(var t=e,n=t.length-1;n>=0&&" "===t[n];n-=1)t="".concat(t.substring(0,n),"&nbsp;").concat(t.substring(n+1));return t}return e}function m(t){var n=t.styles,r=t.text,o=f(r);return e(n,function(e,t){o=c(e,o)}),o}function v(e,t){var n=h(e,["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","SUPERSCRIPT","SUBSCRIPT"],t.start,t.end),r="";return n.forEach(function(e){r+=m(e)}),r=d(t.styles,r)}function b(e,t,n,r){var o=[],i=h(e,["COLOR","BGCOLOR","FONTSIZE","FONTFAMILY"],n.start,n.end);i.forEach(function(t){o.push(v(e,t))});var a=o.join("");return"ENTITY"===n.type?void 0!==n.entityKey&&null!==n.entityKey&&(a=p(t,n.entityKey,a,r)):"HASHTAG"===n.type&&(a='<a href="'.concat(a,'" class="wysiwyg-hashtag">').concat(a,"</a>")),a}function w(e,t,n,r){var o=[],a=i(e,n);return a.forEach(function(n,i){var s=b(e,t,n,r);0===i&&(s=g(s)),i===a.length-1&&(s=y(s)),o.push(s)}),o.join("")}function _(e,t,o,i,s){var l=[];if(a(e))l.push(p(t,e.entityRanges[0].key,void 0,s));else{var u=n(e.type);if(u){l.push("<".concat(u));var c=r(e.data);c&&l.push(' style="'.concat(c,'"')),i&&l.push(' dir = "auto"'),l.push(">"),l.push(w(e,t,o,s)),l.push("</".concat(u,">"))}}return l.push("\n"),l.join("")}function x(e){return"unordered-list-item"===e||"ordered-list-item"===e}function S(e,t,o,i,a){var s,l=[],u=[];return e.forEach(function(e){var c=!1;if(s?s.type!==e.type?(l.push("</".concat(n(s.type),">\n")),l.push("<".concat(n(e.type),">\n"))):s.depth===e.depth?u&&u.length>0&&(l.push(S(u,t,o,i,a)),u=[]):(c=!0,u.push(e)):l.push("<".concat(n(e.type),">\n")),!c){l.push("<li");var f=r(e.data);f&&l.push(' style="'.concat(f,'"')),i&&l.push(' dir = "auto"'),l.push(">"),l.push(w(e,t,o,a)),l.push("</li>\n"),s=e}}),u&&u.length>0&&l.push(S(u,t,o,i,a)),l.push("</".concat(n(s.type),">\n")),l.join("")}function k(e,t,n,r){var o=[];if(e){var i=e.blocks,a=e.entityMap;if(i&&i.length>0){var s=[];if(i.forEach(function(e){if(x(e.type))s.push(e);else{if(s.length>0){var i=S(s,a,t,r);o.push(i),s=[]}var l=_(e,a,t,n,r);o.push(l)}}),s.length>0){var l=S(s,a,t,n,r);o.push(l),s=[]}}}return o.join("")}var E={unstyled:"p","header-one":"h1","header-two":"h2","header-three":"h3","header-four":"h4","header-five":"h5","header-six":"h6","unordered-list-item":"ul","ordered-list-item":"ol",blockquote:"blockquote",code:"pre"};return k})},function(e,t){},196,196,196,196,196,196,196,196,function(e,t){"use strict";function n(e){return e.split("/")}var r={isImage:function(e){return"image"===n(e)[0]},isJpeg:function(e){var t=n(e);return r.isImage(e)&&("jpeg"===t[1]||"pjpeg"===t[1])}};e.exports=r},function(e,t){"use strict";var n="[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;・、。〈-】〔-〟：-？！-／［-｀｛-･⸮؟٪-٬؛،؍﴾﴿᠁।၊။‐-‧‰-⁞¡-±´-¸º»¿]";e.exports={getPunctuation:function(){return n}}},function(e,t){"use strict";function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=function(){function e(e){n(this,"_uri",void 0),this._uri=e}var t=e.prototype;return t.toString=function(){return this._uri},e}();e.exports=r},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(47),i=n(33),a=n(4),s=function(){function e(e){r(this,"_defaultDir",void 0),r(this,"_lastDir",void 0),e?i.isStrong(e)?void 0:a(!1):e=i.getGlobalDir(),this._defaultDir=e,this.reset()}var t=e.prototype;return t.reset=function(){this._lastDir=this._defaultDir},t.getDirection=function(e){return this._lastDir=o.getDirection(e,this._lastDir),this._lastDir},e}();e.exports=s},function(e,t,n){"use strict";function r(e){return s[e]||e}function o(e){if(!e)return{major:"",minor:""};var t=e.split(".");return{major:t[0],minor:t[1]}}var i=n(234),a="Unknown",s={"Mac OS":"Mac OS X"},l=new i,u=l.getResult(),c=o(u.browser.version),f={browserArchitecture:u.cpu.architecture||a,browserFullVersion:u.browser.version||a,browserMinorVersion:c.minor||a,browserName:u.browser.name||a,browserVersion:u.browser.major||a,deviceName:u.device.model||a,engineName:u.engine.name||a,engineVersion:u.engine.version||a,platformArchitecture:u.cpu.architecture||a,platformName:r(u.os.name)||a,platformVersion:u.os.version||a,platformFullVersion:u.os.version||a};e.exports=f},function(e,t,n){"use strict";function r(e,t){var n=e.split(x);return n.length>1?n.some(function(e){return C.contains(e,t)}):(e=n[0].trim(),o(e,t))}function o(e,t){var n=e.split(S);if(n.length>0&&n.length<=2?void 0:w(!1),1===n.length)return i(n[0],t);var r=n[0],o=n[1];return h(r)&&h(o)?void 0:w(!1),i(">="+r,t)&&i("<="+o,t)}function i(e,t){if(e=e.trim(),""===e)return!0;var n=t.split(_),r=d(e),o=r.modifier,i=r.rangeComponents;switch(o){case"<":return a(n,i);case"<=":return s(n,i);case">=":return u(n,i);case">":return c(n,i);case"~":case"~>":return f(n,i);default:return l(n,i)}}function a(e,t){return b(e,t)===-1}function s(e,t){var n=b(e,t);return n===-1||0===n}function l(e,t){return 0===b(e,t)}function u(e,t){var n=b(e,t);return 1===n||0===n}function c(e,t){return 1===b(e,t)}function f(e,t){var n=t.slice(),r=t.slice();r.length>1&&r.pop();var o=r.length-1,i=parseInt(r[o],10);return p(i)&&(r[o]=i+1+""),u(e,n)&&a(e,r)}function d(e){var t=e.split(_),n=t[0].match(k);return n?void 0:w(!1),{modifier:n[1],rangeComponents:[n[2]].concat(t.slice(1))}}function p(e){return!isNaN(e)&&isFinite(e)}function h(e){return!d(e).modifier}function g(e,t){for(var n=e.length;n<t;n++)e[n]="0"}function y(e,t){e=e.slice(),t=t.slice(),g(e,t.length);for(var n=0;n<t.length;n++){var r=t[n].match(/^[x*]$/i);if(r&&(t[n]=e[n]="0","*"===r[0]&&n===t.length-1))for(var o=n;o<e.length;o++)e[o]="0"}return g(t,e.length),[e,t]}function m(e,t){var n=e.match(E)[1],r=t.match(E)[1],o=parseInt(n,10),i=parseInt(r,10);return p(o)&&p(i)&&o!==i?v(o,i):v(e,t)}function v(e,t){return typeof e!=typeof t?w(!1):void 0,e>t?1:e<t?-1:0}function b(e,t){for(var n=y(e,t),r=n[0],o=n[1],i=0;i<o.length;i++){var a=m(r[i],o[i]);if(a)return a}return 0}var w=n(4),_=/\./,x=/\|\|/,S=/\s+\-\s+/,k=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,E=/^(\d*)(.*)/,C={contains:function(e,t){return r(e.trim(),t.trim())}};e.exports=C},function(e,t){"use strict";function n(e){return e.replace(r,function(e,t){return t.toUpperCase()})}var r=/-(.)/g;e.exports=n},function(e,t,n){"use strict";function r(e){var t=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?a(!1):void 0,"number"!=typeof t?a(!1):void 0,0===t||t-1 in e?void 0:a(!1),"function"==typeof e.callee?a(!1):void 0,e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}function o(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function i(e){return o(e)?Array.isArray(e)?e.slice():r(e):[e]}var a=n(4);e.exports=i},function(e,t){"use strict";function n(e){return e=e||document,e.scrollingElement?e.scrollingElement:r||"CSS1Compat"!==e.compatMode?e.body:e.documentElement}var r="undefined"!=typeof navigator&&navigator.userAgent.indexOf("AppleWebKit")>-1;e.exports=n},function(e,t,n){"use strict";function r(e){var t=e.ownerDocument.documentElement;if(!("getBoundingClientRect"in e&&o(t,e)))return{left:0,right:0,top:0,bottom:0};var n=e.getBoundingClientRect();return{left:Math.round(n.left)-t.clientLeft,right:Math.round(n.right)-t.clientLeft,top:Math.round(n.top)-t.clientTop,bottom:Math.round(n.bottom)-t.clientTop}}var o=n(48);e.exports=r},function(e,t,n){"use strict";function r(e){return null==e?e:String(e)}function o(e,t){var n;if(window.getComputedStyle&&(n=window.getComputedStyle(e,null)))return r(n.getPropertyValue(a(t)));if(document.defaultView&&document.defaultView.getComputedStyle){if(n=document.defaultView.getComputedStyle(e,null))return r(n.getPropertyValue(a(t)));
if("display"===t)return"none"}return r(e.currentStyle?"float"===t?e.currentStyle.cssFloat||e.currentStyle.styleFloat:e.currentStyle[i(t)]:e.style&&e.style[i(t)])}var i=n(211),a=n(217);e.exports=o},function(e,t){"use strict";function n(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}e.exports=n},function(e,t){"use strict";function n(e){return e.replace(r,"-$1").toLowerCase()}var r=/([A-Z])/g;e.exports=n},function(e,t){"use strict";function n(e){var t=e?e.ownerDocument||e:document,n=t.defaultView||window;return!(!e||!("function"==typeof n.Node?e instanceof n.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=n},function(e,t,n){"use strict";function r(e){return o(e)&&3==e.nodeType}var o=n(218);e.exports=r},function(e,t){"use strict";function n(e){var t=e||"",n=arguments.length;if(n>1)for(var r=1;r<n;r++){var o=arguments[r];o&&(t=(t?t+" ":"")+o)}return t}e.exports=n},function(e,t){"use strict";function n(e,t,n){if(!e)return null;var o={};for(var i in e)r.call(e,i)&&(o[i]=t.call(n,e[i],i,e));return o}var r=Object.prototype.hasOwnProperty;e.exports=n},function(e,t){"use strict";function n(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}e.exports=n},function(e,t,n){(function(t){"use strict";n(233),e.exports=t.setImmediate}).call(t,function(){return this}())},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){g&&p&&(g=!1,p.length?h=p.concat(h):y=-1,h.length&&s())}function s(){if(!g){var e=o(a);g=!0;for(var t=h.length;t;){for(p=h,h=[];++y<t;)p&&p[y].run();y=-1,t=h.length}p=null,g=!1,i(e)}}function l(e,t){this.fun=e,this.array=t}function u(){}var c,f,d=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var p,h=[],g=!1,y=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new l(e,t)),1!==h.length||g||o(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.prependListener=u,d.prependOnceListener=u,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){"use strict";function r(e){var t=new o(o._61);return t._81=1,t._65=e,t}var o=n(92);e.exports=o;var i=r(!0),a=r(!1),s=r(null),l=r(void 0),u=r(0),c=r("");o.resolve=function(e){if(e instanceof o)return e;if(null===e)return s;if(void 0===e)return l;if(e===!0)return i;if(e===!1)return a;if(0===e)return u;if(""===e)return c;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new o(t.bind(e))}catch(e){return new o(function(t,n){n(e)})}return r(e)},o.all=function(e){var t=Array.prototype.slice.call(e);return new o(function(e,n){function r(a,s){if(s&&("object"==typeof s||"function"==typeof s)){if(s instanceof o&&s.then===o.prototype.then){for(;3===s._81;)s=s._65;return 1===s._81?r(a,s._65):(2===s._81&&n(s._65),void s.then(function(e){r(a,e)},n))}var l=s.then;if("function"==typeof l){var u=new o(l.bind(s));return void u.then(function(e){r(a,e)},n)}}t[a]=s,0===--i&&e(t)}if(0===t.length)return e([]);for(var i=t.length,a=0;a<t.length;a++)r(a,t[a])})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){e.forEach(function(e){o.resolve(e).then(t,n)})})},o.prototype.catch=function(e){return this.then(null,e)}},function(e,t,n){"use strict";function r(){u=!1,s._10=null,s._97=null}function o(e){function t(t){(e.allRejections||a(f[t].error,e.whitelist||l))&&(f[t].displayId=c++,e.onUnhandled?(f[t].logged=!0,e.onUnhandled(f[t].displayId,f[t].error)):(f[t].logged=!0,i(f[t].displayId,f[t].error)))}function n(t){f[t].logged&&(e.onHandled?e.onHandled(f[t].displayId,f[t].error):f[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+f[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+f[t].displayId+".")))}e=e||{},u&&r(),u=!0;var o=0,c=0,f={};s._10=function(e){2===e._81&&f[e._72]&&(f[e._72].logged?n(e._72):clearTimeout(f[e._72].timeout),delete f[e._72])},s._97=function(e,n){0===e._45&&(e._72=o++,f[e._72]={displayId:null,error:n,timeout:setTimeout(t.bind(null,e._72),a(n,l)?100:2e3),logged:!1})}}function i(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):");var n=(t&&(t.stack||t))+"";n.split("\n").forEach(function(e){console.warn("  "+e)})}function a(e,t){return t.some(function(t){return e instanceof t})}var s=n(92),l=[ReferenceError,TypeError,RangeError],u=!1;t.disable=r,t.enable=o},function(e,t){"use strict";function n(e){if(void 0===e)return void console.error("Autobind error: No context provided.");var t=Object.getPrototypeOf(e);i=arguments.length>1?Array.prototype.slice.call(arguments,1):Object.getOwnPropertyNames(t),i.forEach(function(e){var n=Object.getOwnPropertyDescriptor(t,e);return void 0===n?void console.warn('Autobind: "'+e+'" method not found in class.'):void(o.indexOf(e)===-1&&"function"==typeof n.value&&Object.defineProperty(t,e,r(t,e,n)))})}function r(e,t,n){var r=n.value;return{configurable:!0,get:function(){if(this===e||this.hasOwnProperty(t))return r;var n=r.bind(this);return Object.defineProperty(this,t,{value:n,configurable:!0,writable:!0}),n}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var o=["constructor","render","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","componentWillUnmount"],i=[];e.exports=t.default},function(e,t,n){"use strict";function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e,t){i(e,t),i(e+"Capture",t)}function i(e,t){for(Xo[e]=t,e=0;e<t.length;e++)Yo.add(t[e])}function a(e){return!!$o.call(Zo,e)||!$o.call(Qo,e)&&(Go.test(e)?Zo[e]=!0:(Qo[e]=!0,!1))}function s(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),"data-"!==e&&"aria-"!==e));default:return!1}}function l(e,t,n,r){if(null===t||"undefined"==typeof t||s(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function u(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}function c(e){return e[1].toUpperCase()}function f(e,t,n,r){var o=ei.hasOwnProperty(t)?ei[t]:null,i=null!==o?0===o.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]));i||(l(t,n,o,r)&&(n=null),r||null===o?a(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(o=o.type,n=3===o||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function d(e){return null===e||"object"!=typeof e?null:(e=Si&&e[Si]||e["@@iterator"],"function"==typeof e?e:null)}function p(e){if(void 0===_i)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);_i=t&&t[1]||""}return"\n"+_i+e}function h(e,t){if(!e||ki)return"";ki=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var o=e.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do if(a--,s--,0>s||o[a]!==i[s])return"\n"+o[a].replace(" at new "," at ");while(1<=a&&0<=s);break}}}finally{ki=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?p(e):""}function g(e){switch(e.tag){case 5:return p(e.type);case 16:return p("Lazy");case 13:return p("Suspense");case 19:return p("SuspenseList");case 0:case 2:case 15:return e=h(e.type,!1);case 11:return e=h(e.type.render,!1);case 22:return e=h(e.type._render,!1);case 1:return e=h(e.type,!0);default:return""}}function y(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ii:return"Fragment";case oi:return"Portal";case si:return"Profiler";case ai:return"StrictMode";case fi:return"Suspense";case di:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ui:return(e.displayName||"Context")+".Consumer";case li:return(e._context.displayName||"Context")+".Provider";case ci:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case pi:return y(e.type);case gi:return y(e._render);case hi:t=e._payload,e=e._init;try{return y(e(t))}catch(e){}}return null}function m(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function v(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function b(e){var t=v(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!=typeof n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function w(e){e._valueTracker||(e._valueTracker=b(e))}function _(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=v(e)?e.checked?"true":"false":e.value),e=r,e!==n&&(t.setValue(e),!0)}function x(e){if(e=e||("undefined"!=typeof document?document:void 0),"undefined"==typeof e)return null;try{return e.activeElement||e.body}catch(t){return e.body}}function S(e,t){var n=t.checked;return Wo({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function k(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=m(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function E(e,t){t=t.checked,null!=t&&f(e,"checked",t,!1)}function C(e,t){E(e,t);var n=m(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?D(e,t.type,n):t.hasOwnProperty("defaultValue")&&D(e,t.type,m(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function O(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,""!==n&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function D(e,t,n){"number"===t&&x(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function T(e){var t="";return Ho.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}function N(e,t){return e=Wo({children:void 0},t),(t=T(t.children))&&(e.children=t),e}function I(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+m(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function M(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return Wo({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function P(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(r(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(r(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:m(n)}}function B(e,t){var n=m(t.value),r=m(t.defaultValue);null!=n&&(n=""+n,n!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function A(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function R(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function j(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?R(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}function L(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function F(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Oi.hasOwnProperty(e)&&Oi[e]?(""+t).trim():t+"px"}function K(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=F(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}function z(e,t){if(t){if(Ti[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(r(62))}}function U(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function V(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function H(e){if(e=Tt(e)){if("function"!=typeof Ni)throw Error(r(280));var t=e.stateNode;t&&(t=It(t),Ni(e.stateNode,e.type,t))}}function W(e){Ii?Mi?Mi.push(e):Mi=[e]:Ii=e}function q(){if(Ii){var e=Ii,t=Mi;if(Mi=Ii=null,H(e),t)for(e=0;e<t.length;e++)H(t[e])}}function Y(e,t){return e(t)}function X(e,t,n,r,o){return e(t,n,r,o)}function J(){}function G(){null===Ii&&null===Mi||(J(),q())}function $(e,t,n){if(Ai)return e(t,n);Ai=!0;try{return Pi(e,t,n)}finally{Ai=!1,G()}}function Q(e,t){var n=e.stateNode;if(null===n)return null;var o=It(n);if(null===o)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!("button"===e||"input"===e||"select"===e||"textarea"===e)),e=!o;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}function Z(e,t,n,r,o,i,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}function ee(e,t,n,r,o,i,a,s,l){Ui=!1,Vi=null,Z.apply(qi,arguments)}function te(e,t,n,o,i,a,s,l,u){if(ee.apply(this,arguments),Ui){if(!Ui)throw Error(r(198));var c=Vi;Ui=!1,Vi=null,Hi||(Hi=!0,Wi=c)}}function ne(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,0!==(1026&t.flags)&&(n=t.return),e=t.return;while(e)}return 3===t.tag?n:null}function re(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(e=e.alternate,null!==e&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function oe(e){if(ne(e)!==e)throw Error(r(188))}function ie(e){var t=e.alternate;if(!t){if(t=ne(e),null===t)throw Error(r(188));return t!==e?null:e}for(var n=e,o=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(o=i.return,null!==o){n=o;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return oe(i),e;if(a===o)return oe(i),t;a=a.sibling}throw Error(r(188))}if(n.return!==o.return)n=i,o=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,o=a;break}if(l===o){s=!0,o=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,o=i;break}if(l===o){s=!0,o=a,n=i;break}l=l.sibling}if(!s)throw Error(r(189))}}if(n.alternate!==o)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}function ae(e){if(e=ie(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function se(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}function le(e,t,n,r,o){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:o,targetContainers:[r]}}function ue(e,t){switch(e){case"focusin":case"focusout":Ji=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":Qi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zi.delete(t.pointerId)}}function ce(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e=le(t,n,r,o,i),null!==t&&(t=Tt(t),null!==t&&Fi(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function fe(e,t,n,r,o){switch(t){case"focusin":return Ji=ce(Ji,e,t,n,r,o),!0;case"dragenter":return Gi=ce(Gi,e,t,n,r,o),!0;case"mouseover":return $i=ce($i,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Qi.set(i,ce(Qi.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Zi.set(i,ce(Zi.get(i)||null,e,t,n,r,o)),!0}return!1}function de(e){var t=Dt(e.target);if(null!==t){var n=ne(t);if(null!==n)if(t=n.tag,13===t){if(t=re(n),null!==t)return e.blockedOn=t,void zi(e.lanePriority,function(){qo.unstable_runWithPriority(e.priority,function(){Ki(n)})})}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function pe(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pe(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return t=Tt(n),null!==t&&Fi(t),e.blockedOn=n,!1;t.shift()}return!0}function he(e,t,n){pe(e)&&n.delete(t)}function ge(){for(Yi=!1;0<Xi.length;){var e=Xi[0];if(null!==e.blockedOn){e=Tt(e.blockedOn),null!==e&&Li(e);break}for(var t=e.targetContainers;0<t.length;){var n=Pe(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&Xi.shift()}null!==Ji&&pe(Ji)&&(Ji=null),null!==Gi&&pe(Gi)&&(Gi=null),null!==$i&&pe($i)&&($i=null),Qi.forEach(he),Zi.forEach(he)}function ye(e,t){e.blockedOn===t&&(e.blockedOn=null,Yi||(Yi=!0,qo.unstable_scheduleCallback(qo.unstable_NormalPriority,ge)))}function me(e){function t(t){return ye(t,e)}if(0<Xi.length){ye(Xi[0],e);for(var n=1;n<Xi.length;n++){var r=Xi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ji&&ye(Ji,e),null!==Gi&&ye(Gi,e),null!==$i&&ye($i,e),Qi.forEach(t),Zi.forEach(t),n=0;n<ea.length;n++)r=ea[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ea.length&&(n=ea[0],null===n.blockedOn);)de(n),null===n.blockedOn&&ea.shift()}function ve(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}function be(e){if(ra[e])return ra[e];if(!na[e])return e;var t,n=na[e];for(t in n)if(n.hasOwnProperty(t)&&t in oa)return ra[e]=n[t];return e}function we(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),ca.set(r,t),ua.set(r,i),o(i,[r])}}function _e(e){if(0!==(1&e))return ya=15,1;if(0!==(2&e))return ya=14,2;if(0!==(4&e))return ya=13,4;var t=24&e;return 0!==t?(ya=12,t):0!==(32&e)?(ya=11,32):(t=192&e,0!==t?(ya=10,t):0!==(256&e)?(ya=9,256):(t=3584&e,0!==t?(ya=8,t):0!==(4096&e)?(ya=7,4096):(t=4186112&e,0!==t?(ya=6,t):(t=62914560&e,0!==t?(ya=5,t):67108864&e?(ya=4,67108864):0!==(134217728&e)?(ya=3,134217728):(t=805306368&e,0!==t?(ya=2,t):0!==(1073741824&e)?(ya=1,1073741824):(ya=8,e))))))}function xe(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Se(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(r(358,e))}}function ke(e,t){var n=e.pendingLanes;if(0===n)return ya=0;var r=0,o=0,i=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==i)r=i,o=ya=15;else if(i=134217727&n,0!==i){var l=i&~a;0!==l?(r=_e(l),o=ya):(s&=i,0!==s&&(r=_e(s),o=ya))}else i=n&~a,0!==i?(r=_e(i),o=ya):0!==s&&(r=_e(s),o=ya);if(0===r)return 0;if(r=31-ma(r),r=n&((0>r?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(_e(t),o<=ya)return t;ya=o}if(t=e.entangledLanes,0!==t)for(e=e.entanglements,t&=r;0<t;)n=31-ma(t),o=1<<n,r|=e[n],t&=~o;return r}function Ee(e){return e=e.pendingLanes&-1073741825,0!==e?e:1073741824&e?1073741824:0}function Ce(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=Oe(24&~t),0===e?Ce(10,t):e;case 10:return e=Oe(192&~t),0===e?Ce(8,t):e;case 8:return e=Oe(3584&~t),0===e&&(e=Oe(4186112&~t),0===e&&(e=512)),e;case 2:return t=Oe(805306368&~t),0===t&&(t=268435456),t}throw Error(r(358,e))}function Oe(e){return e&-e}function De(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,e=e.eventTimes,t=31-ma(t),e[t]=n}function Te(e){return 0===e?32:31-(va(e)/ba|0)|0}function Ne(e,t,n,r){Bi||J();var o=Me,i=Bi;Bi=!0;try{X(o,e,t,n,r)}finally{(Bi=i)||G()}}function Ie(e,t,n,r){_a(wa,Me.bind(null,e,t,n,r))}function Me(e,t,n,r){if(xa){var o;if((o=0===(4&t))&&0<Xi.length&&-1<ta.indexOf(e))e=le(null,e,t,n,r),Xi.push(e);else{var i=Pe(e,t,n,r);if(null===i)o&&ue(e,r);else{if(o){if(-1<ta.indexOf(e))return e=le(i,e,t,n,r),void Xi.push(e);if(fe(i,e,t,n,r))return;ue(e,r)}yt(e,t,r,null,n)}}}}function Pe(e,t,n,r){var o=V(r);if(o=Dt(o),null!==o){var i=ne(o);if(null===i)o=null;else{var a=i.tag;if(13===a){if(o=re(i),null!==o)return o;o=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;o=null}else i!==o&&(o=null)}}return yt(e,t,r,o,n),null}function Be(){if(Ea)return Ea;var e,t,n=ka,r=n.length,o="value"in Sa?Sa.value:Sa.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Ea=o.slice(e,1<t?1-t:void 0)}function Ae(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,0===e&&13===t&&(e=13)):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Re(){return!0}function je(){return!1}function Le(e){function t(t,n,r,o,i){this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?Re:je,this.isPropagationStopped=je,this}return Wo(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Re)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Re)},persist:function(){},isPersistent:Re}),t}function Fe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ha[e])&&!!t[e]}function Ke(){return Fe}function ze(e,t){switch(e){case"keyup":return-1!==ts.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ue(e){return e=e.detail,"object"==typeof e&&"data"in e?e.data:null}function Ve(e,t){switch(e){case"compositionend":return Ue(t);case"keypress":return 32!==t.which?null:(ss=!0,as);case"textInput":return e=t.data,e===as&&ss?null:e;default:return null}}function He(e,t){if(ls)return"compositionend"===e||!ns&&ze(e,t)?(e=Be(),Ea=ka=Sa=null,ls=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return is&&"ko"!==t.locale?null:t.data;default:return null}}function We(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!us[e.type]:"textarea"===t}function qe(e,t,n,r){W(r),t=vt(t,"onChange"),0<t.length&&(n=new Oa("onChange","change",null,n,r),e.push({event:n,listeners:t}))}function Ye(e){ft(e,0)}function Xe(e){var t=Nt(e);if(_(t))return e}function Je(e,t){if("change"===e)return t}function Ge(){cs&&(cs.detachEvent("onpropertychange",$e),fs=cs=null)}function $e(e){if("value"===e.propertyName&&Xe(fs)){var t=[];if(qe(t,fs,e,V(e)),e=Ye,Bi)e(t);else{Bi=!0;try{Y(e,t)}finally{Bi=!1,G()}}}}function Qe(e,t,n){"focusin"===e?(Ge(),cs=t,fs=n,cs.attachEvent("onpropertychange",$e)):"focusout"===e&&Ge()}function Ze(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xe(fs)}function et(e,t){if("click"===e)return Xe(t)}function tt(e,t){if("input"===e||"change"===e)return Xe(t)}function nt(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}function rt(e,t){if(ys(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ms.call(t,n[r])||!ys(e[n[r]],t[n[r]]))return!1;return!0}function ot(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function it(e,t){var n=ot(e);e=0;for(var r;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ot(n)}}function at(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?at(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function st(){for(var e=window,t=x();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;e=t.contentWindow,t=x(e.document)}return t}function lt(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ut(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xs||null==bs||bs!==x(r)||(r=bs,"selectionStart"in r&&lt(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_s&&rt(_s,r)||(_s=r,r=vt(ws,"onSelect"),0<r.length&&(t=new Oa("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=bs)))}function ct(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,te(r,t,void 0,e),e.currentTarget=null}function ft(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;ct(o,s,u),i=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;ct(o,s,u),i=l}}}if(Hi)throw e=Wi,Hi=!1,Wi=null,e}function dt(e,t){var n=Mt(t),r=e+"__bubble";n.has(r)||(gt(t,e,2,!1),n.add(r))}function pt(e){e[Is]||(e[Is]=!0,Yo.forEach(function(t){Ns.has(t)||ht(t,!1,e,null),ht(t,!0,e,null)}))}function ht(e,t,n,r){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,i=n;if("selectionchange"===e&&9!==n.nodeType&&(i=n.ownerDocument),null!==r&&!t&&Ns.has(e)){if("scroll"!==e)return;o|=2,i=r}var a=Mt(i),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(o|=4),gt(i,e,o,t),a.add(s))}function gt(e,t,n,r){var o=ca.get(t);switch(void 0===o?2:o){case 0:o=Ne;break;case 1:o=Ie;break;default:o=Me}n=o.bind(null,t,n,e),o=void 0,!Ri||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function yt(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&(l=a.stateNode.containerInfo,l===o||8===l.nodeType&&l.parentNode===o))return;a=a.return}for(;null!==s;){if(a=Dt(s),null===a)return;if(l=a.tag,5===l||6===l){r=i=a;continue e}s=s.parentNode}}r=r.return}$(function(){var r=i,o=V(n),a=[];e:{var s=ua.get(e);if(void 0!==s){var l=Oa,u=e;switch(e){case"keypress":if(0===Ae(n))break e;case"keydown":case"keyup":l=qa;break;case"focusin":u="focus",l=Aa;break;case"focusout":u="blur",l=Aa;break;case"beforeblur":case"afterblur":l=Aa;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=Ia;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=Pa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Ga;break;case ia:case aa:case sa:l=ja;break;case la:l=Qa;break;case"scroll":l=Ta;break;case"wheel":l=es;break;case"copy":case"cut":case"paste":l=Fa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Xa}var c=0!==(4&t),f=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var p,h=r;null!==h;){p=h;var g=p.stateNode;if(5===p.tag&&null!==g&&(p=g,null!==d&&(g=Q(h,d),null!=g&&c.push(mt(h,g,p)))),f)break;h=h.return}0<c.length&&(s=new l(s,u,null,n,o),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(s="mouseover"===e||"pointerover"===e,l="mouseout"===e||"pointerout"===e,(!s||0!==(16&t)||!(u=n.relatedTarget||n.fromElement)||!Dt(u)&&!u[Ks])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,u=u?Dt(u):null,null!==u&&(f=ne(u),u!==f||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,
u=r),l!==u)){if(c=Ia,g="onMouseLeave",d="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=Xa,g="onPointerLeave",d="onPointerEnter",h="pointer"),f=null==l?s:Nt(l),p=null==u?s:Nt(u),s=new c(g,h+"leave",l,n,o),s.target=f,s.relatedTarget=p,g=null,Dt(o)===r&&(c=new c(d,h+"enter",u,n,o),c.target=p,c.relatedTarget=f,g=c),f=g,l&&u)e:{for(c=l,d=u,h=0,p=c;p;p=bt(p))h++;for(p=0,g=d;g;g=bt(g))p++;for(;0<h-p;)c=bt(c),h--;for(;0<p-h;)d=bt(d),p--;for(;h--;){if(c===d||null!==d&&c===d.alternate)break e;c=bt(c),d=bt(d)}c=null}else c=null;null!==l&&wt(a,s,l,c,!1),null!==u&&null!==f&&wt(a,f,u,c,!0)}if(s=r?Nt(r):window,l=s.nodeName&&s.nodeName.toLowerCase(),"select"===l||"input"===l&&"file"===s.type)var y=Je;else if(We(s))if(ds)y=tt;else{y=Ze;var m=Qe}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=et);switch(y&&(y=y(e,r))?qe(a,y,n,o):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&D(s,"number",s.value)),m=r?Nt(r):window,e){case"focusin":(We(m)||"true"===m.contentEditable)&&(bs=m,ws=r,_s=null);break;case"focusout":_s=ws=bs=null;break;case"mousedown":xs=!0;break;case"contextmenu":case"mouseup":case"dragend":xs=!1,ut(a,n,o);break;case"selectionchange":if(vs)break;case"keydown":case"keyup":ut(a,n,o)}var v;if(ns)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else ls?ze(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(is&&"ko"!==n.locale&&(ls||"onCompositionStart"!==b?"onCompositionEnd"===b&&ls&&(v=Be()):(Sa=o,ka="value"in Sa?Sa.value:Sa.textContent,ls=!0)),m=vt(r,b),0<m.length&&(b=new za(b,e,null,n,o),a.push({event:b,listeners:m}),v?b.data=v:(v=Ue(n),null!==v&&(b.data=v)))),(v=os?Ve(e,n):He(e,n))&&(r=vt(r,"onBeforeInput"),0<r.length&&(o=new za("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=v))}ft(a,t)})}function mt(e,t,n){return{instance:e,listener:t,currentTarget:n}}function vt(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,i=Q(e,n),null!=i&&r.unshift(mt(e,i,o)),i=Q(e,t),null!=i&&r.push(mt(e,i,o))),e=e.return}return r}function bt(e){if(null===e)return null;do e=e.return;while(e&&5!==e.tag);return e?e:null}function wt(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,o?(l=Q(n,i),null!=l&&a.unshift(mt(n,l,s))):o||(l=Q(n,i),null!=l&&a.push(mt(n,l,s)))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function _t(){}function xt(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function St(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}function kt(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(e=e.body,null!=e&&(e.textContent=""))}function Et(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Ct(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function Ot(e){return{$$typeof:yi,toString:e,valueOf:e}}function Dt(e){var t=e[Ls];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ks]||n[Ls]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Ct(e);null!==e;){if(n=e[Ls])return n;e=Ct(e)}return t}e=n,n=e.parentNode}return null}function Tt(e){return e=e[Ls]||e[Ks],!e||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Nt(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function It(e){return e[Fs]||null}function Mt(e){var t=e[zs];return void 0===t&&(t=e[zs]=new Set),t}function Pt(e){return{current:e}}function Bt(e){0>Vs||(e.current=Us[Vs],Us[Vs]=null,Vs--)}function At(e,t){Vs++,Us[Vs]=e.current,e.current=t}function Rt(e,t){var n=e.type.contextTypes;if(!n)return Hs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function jt(e){return e=e.childContextTypes,null!==e&&void 0!==e}function Lt(){Bt(qs),Bt(Ws)}function Ft(e,t,n){if(Ws.current!==Hs)throw Error(r(168));At(Ws,t),At(qs,n)}function Kt(e,t,n){var o=e.stateNode;if(e=t.childContextTypes,"function"!=typeof o.getChildContext)return n;o=o.getChildContext();for(var i in o)if(!(i in e))throw Error(r(108,y(t)||"Unknown",i));return Wo({},n,o)}function zt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hs,Ys=Ws.current,At(Ws,e),At(qs,qs.current),!0}function Ut(e,t,n){var o=e.stateNode;if(!o)throw Error(r(169));n?(e=Kt(e,t,Ys),o.__reactInternalMemoizedMergedChildContext=e,Bt(qs),Bt(Ws),At(Ws,e)):Bt(qs),At(qs,n)}function Vt(){switch(nl()){case rl:return 99;case ol:return 98;case il:return 97;case al:return 96;case sl:return 95;default:throw Error(r(332))}}function Ht(e){switch(e){case 99:return rl;case 98:return ol;case 97:return il;case 96:return al;case 95:return sl;default:throw Error(r(332))}}function Wt(e,t){return e=Ht(e),Gs(e,t)}function qt(e,t,n){return e=Ht(e),$s(e,t,n)}function Yt(){if(null!==fl){var e=fl;fl=null,Qs(e)}Xt()}function Xt(){if(!dl&&null!==cl){dl=!0;var e=0;try{var t=cl;Wt(99,function(){for(;e<t.length;e++){var n=t[e];do n=n(!0);while(null!==n)}}),cl=null}catch(t){throw null!==cl&&(cl=cl.slice(e+1)),$s(rl,Yt),t}finally{dl=!1}}}function Jt(e,t){if(e&&e.defaultProps){t=Wo({},t),e=e.defaultProps;for(var n in e)void 0===t[n]&&(t[n]=e[n]);return t}return t}function Gt(){bl=vl=ml=null}function $t(e){var t=yl.current;Bt(yl),e.type._context._currentValue=t}function Qt(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function Zt(e,t){ml=e,bl=vl=null,e=e.dependencies,null!==e&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Xl=!0),e.firstContext=null)}function en(e,t){if(bl!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(bl=e,t=1073741823),t={context:e,observedBits:t,next:null},null===vl){if(null===ml)throw Error(r(308));vl=t,ml.dependencies={lanes:0,firstContext:t,responders:null}}else vl=vl.next=t;return e._currentValue}function tn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function nn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function on(e,t){if(e=e.updateQueue,null!==e){e=e.shared;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function an(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,null!==n){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}e=n.lastBaseUpdate,null===e?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function sn(e,t,n,r){var o=e.updateQueue;wl=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?i=u:a.next=u,a=l;var c=e.alternate;if(null!==c){c=c.updateQueue;var f=c.lastBaseUpdate;f!==a&&(null===f?c.firstBaseUpdate=u:f.next=u,c.lastBaseUpdate=l)}}if(null!==i){for(f=o.baseState,a=0,c=u=l=null;;){s=i.lane;var d=i.eventTime;if((r&s)===s){null!==c&&(c=c.next={eventTime:d,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var p=e,h=i;switch(s=t,d=n,h.tag){case 1:if(p=h.payload,"function"==typeof p){f=p.call(d,f,s);break e}f=p;break e;case 3:p.flags=p.flags&-4097|64;case 0:if(p=h.payload,s="function"==typeof p?p.call(d,f,s):p,null===s||void 0===s)break e;f=Wo({},f,s);break e;case 2:wl=!0}}null!==i.callback&&(e.flags|=32,s=o.effects,null===s?o.effects=[i]:s.push(i))}else d={eventTime:d,lane:s,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===c?(u=c=d,l=f):c=c.next=d,a|=s;if(i=i.next,null===i){if(s=o.shared.pending,null===s)break;i=s.next,s.next=null,o.lastBaseUpdate=s,o.shared.pending=null}}null===c&&(l=f),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=c,fu|=a,e.lanes=a,e.memoizedState=f}}function ln(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var o=e[t],i=o.callback;if(null!==i){if(o.callback=null,o=n,"function"!=typeof i)throw Error(r(191,i));i.call(o)}}}function un(e,t,n,r){t=e.memoizedState,n=n(r,t),n=null===n||void 0===n?t:Wo({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}function cn(e,t,n,r,o,i,a){return e=e.stateNode,"function"==typeof e.shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!rt(n,r)||!rt(o,i))}function fn(e,t,n){var r=!1,o=Hs,i=t.contextType;return"object"==typeof i&&null!==i?i=en(i):(o=jt(t)?Ys:Ws.current,r=t.contextTypes,i=(r=null!==r&&void 0!==r)?Rt(e,o):Hs),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=xl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function dn(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xl.enqueueReplaceState(t,t.state,null)}function pn(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=_l,tn(e);var i=t.contextType;"object"==typeof i&&null!==i?o.context=en(i):(i=jt(t)?Ys:Ws.current,o.context=Rt(e,i)),sn(e,n,o,r),o.state=e.memoizedState,i=t.getDerivedStateFromProps,"function"==typeof i&&(un(e,t,i,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&xl.enqueueReplaceState(o,o.state,null),sn(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4)}function hn(e,t,n){if(e=n.ref,null!==e&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var o=n.stateNode}if(!o)throw Error(r(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=o.refs;t===_l&&(t=o.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function gn(e,t){if("textarea"!==e.type)throw Error(r(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function yn(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function o(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return e=Co(e,t),e.index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?(r=t.alternate,null!==r?(r=r.index,r<n?(t.flags=2,n):r):(t.flags=2,n)):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?(t=No(n,e.mode,r),t.return=e,t):(t=i(t,n),t.return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?(r=i(t,n.props),r.ref=hn(e,t,n),r.return=e,r):(r=Oo(n.type,n.key,n.props,null,e.mode,r),r.ref=hn(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=Io(n,e.mode,r),t.return=e,t):(t=i(t,n.children||[]),t.return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?(t=Do(n,e.mode,r,o),t.return=e,t):(t=i(t,n),t.return=e,t)}function p(e,t,n){if("string"==typeof t||"number"==typeof t)return t=No(""+t,e.mode,n),t.return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ri:return n=Oo(t.type,t.key,t.props,null,e.mode,n),n.ref=hn(e,null,t),n.return=e,n;case oi:return t=Io(t,e.mode,n),t.return=e,t}if(Sl(t)||d(t))return t=Do(t,e.mode,n,null),t.return=e,t;gn(e,t)}return null}function h(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ri:return n.key===o?n.type===ii?f(e,t,n.props.children,r,o):u(e,t,n,r):null;case oi:return n.key===o?c(e,t,n,r):null}if(Sl(n)||d(n))return null!==o?null:f(e,t,n,r,null);gn(e,n)}return null}function g(e,t,n,r,o){if("string"==typeof r||"number"==typeof r)return e=e.get(n)||null,l(t,e,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ri:return e=e.get(null===r.key?n:r.key)||null,r.type===ii?f(t,e,r.props.children,o,r.key):u(t,e,r,o);case oi:return e=e.get(null===r.key?n:r.key)||null,c(t,e,r,o)}if(Sl(r)||d(r))return e=e.get(n)||null,f(t,e,r,o,null);gn(t,r)}return null}function m(r,i,s,l){for(var u=null,c=null,f=i,d=i=0,y=null;null!==f&&d<s.length;d++){f.index>d?(y=f,f=null):y=f.sibling;var m=h(r,f,s[d],l);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(r,f),i=a(m,i,d),null===c?u=m:c.sibling=m,c=m,f=y}if(d===s.length)return n(r,f),u;if(null===f){for(;d<s.length;d++)f=p(r,s[d],l),null!==f&&(i=a(f,i,d),null===c?u=f:c.sibling=f,c=f);return u}for(f=o(r,f);d<s.length;d++)y=g(f,r,d,s[d],l),null!==y&&(e&&null!==y.alternate&&f.delete(null===y.key?d:y.key),i=a(y,i,d),null===c?u=y:c.sibling=y,c=y);return e&&f.forEach(function(e){return t(r,e)}),u}function v(i,s,l,u){var c=d(l);if("function"!=typeof c)throw Error(r(150));if(l=c.call(l),null==l)throw Error(r(151));for(var f=c=null,y=s,m=s=0,v=null,b=l.next();null!==y&&!b.done;m++,b=l.next()){y.index>m?(v=y,y=null):v=y.sibling;var w=h(i,y,b.value,u);if(null===w){null===y&&(y=v);break}e&&y&&null===w.alternate&&t(i,y),s=a(w,s,m),null===f?c=w:f.sibling=w,f=w,y=v}if(b.done)return n(i,y),c;if(null===y){for(;!b.done;m++,b=l.next())b=p(i,b.value,u),null!==b&&(s=a(b,s,m),null===f?c=b:f.sibling=b,f=b);return c}for(y=o(i,y);!b.done;m++,b=l.next())b=g(y,i,m,b.value,u),null!==b&&(e&&null!==b.alternate&&y.delete(null===b.key?m:b.key),s=a(b,s,m),null===f?c=b:f.sibling=b,f=b);return e&&y.forEach(function(e){return t(i,e)}),c}return function(e,o,a,l){var u="object"==typeof a&&null!==a&&a.type===ii&&null===a.key;u&&(a=a.props.children);var c="object"==typeof a&&null!==a;if(c)switch(a.$$typeof){case ri:e:{for(c=a.key,u=o;null!==u;){if(u.key===c){switch(u.tag){case 7:if(a.type===ii){n(e,u.sibling),o=i(u,a.props.children),o.return=e,e=o;break e}break;default:if(u.elementType===a.type){n(e,u.sibling),o=i(u,a.props),o.ref=hn(e,u,a),o.return=e,e=o;break e}}n(e,u);break}t(e,u),u=u.sibling}a.type===ii?(o=Do(a.props.children,e.mode,l,a.key),o.return=e,e=o):(l=Oo(a.type,a.key,a.props,null,e.mode,l),l.ref=hn(e,o,a),l.return=e,e=l)}return s(e);case oi:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(e,o.sibling),o=i(o,a.children||[]),o.return=e,e=o;break e}n(e,o);break}t(e,o),o=o.sibling}o=Io(a,e.mode,l),o.return=e,e=o}return s(e)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==o&&6===o.tag?(n(e,o.sibling),o=i(o,a),o.return=e,e=o):(n(e,o),o=No(a,e.mode,l),o.return=e,e=o),s(e);if(Sl(a))return m(e,o,a,l);if(d(a))return v(e,o,a,l);if(c&&gn(e,a),"undefined"==typeof a&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(r(152,y(e.type)||"Component"))}return n(e,o)}}function mn(e){if(e===Cl)throw Error(r(174));return e}function vn(e,t){switch(At(Tl,t),At(Dl,e),At(Ol,Cl),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:j(null,"");break;default:e=8===e?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=j(t,e)}Bt(Ol),At(Ol,t)}function bn(){Bt(Ol),Bt(Dl),Bt(Tl)}function wn(e){mn(Tl.current);var t=mn(Ol.current),n=j(t,e.type);t!==n&&(At(Dl,e),At(Ol,n))}function _n(e){Dl.current===e&&(Bt(Ol),Bt(Dl))}function xn(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(n=n.dehydrated,null===n||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Sn(e,t){var n=So(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function kn(e,t){switch(e.tag){case 5:var n=e.type;return t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,null!==t&&(e.stateNode=t,!0);case 6:return t=""===e.pendingProps||3!==t.nodeType?null:t,null!==t&&(e.stateNode=t,!0);case 13:return!1;default:return!1}}function En(e){if(Pl){var t=Ml;if(t){var n=t;if(!kn(e,t)){if(t=Et(n.nextSibling),!t||!kn(e,t))return e.flags=e.flags&-1025|2,Pl=!1,void(Il=e);Sn(Il,n)}Il=e,Ml=Et(t.firstChild)}else e.flags=e.flags&-1025|2,Pl=!1,Il=e}}function Cn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Il=e}function On(e){if(e!==Il)return!1;if(!Pl)return Cn(e),Pl=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!St(t,e.memoizedProps))for(t=Ml;t;)Sn(e,t),t=Et(t.nextSibling);if(Cn(e),13===e.tag){if(e=e.memoizedState,e=null!==e?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ml=Et(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ml=null}}else Ml=Il?Et(e.stateNode.nextSibling):null;return!0}function Dn(){Ml=Il=null,Pl=!1}function Tn(){for(var e=0;e<Bl.length;e++)Bl[e]._workInProgressVersionPrimary=null;Bl.length=0}function Nn(){throw Error(r(321))}function In(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ys(e[n],t[n]))return!1;return!0}function Mn(e,t,n,o,i,a){if(jl=a,Ll=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Al.current=null===e||null===e.memoizedState?Hl:Wl,e=n(o,i),Ul){a=0;do{if(Ul=!1,!(25>a))throw Error(r(301));a+=1,Kl=Fl=null,t.updateQueue=null,Al.current=ql,e=n(o,i)}while(Ul)}if(Al.current=Vl,t=null!==Fl&&null!==Fl.next,jl=0,Kl=Fl=Ll=null,zl=!1,t)throw Error(r(300));return e}function Pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Kl?Ll.memoizedState=Kl=e:Kl=Kl.next=e,Kl}function Bn(){if(null===Fl){var e=Ll.alternate;e=null!==e?e.memoizedState:null}else e=Fl.next;var t=null===Kl?Ll.memoizedState:Kl.next;if(null!==t)Kl=t,Fl=e;else{if(null===e)throw Error(r(310));Fl=e,e={memoizedState:Fl.memoizedState,baseState:Fl.baseState,baseQueue:Fl.baseQueue,queue:Fl.queue,next:null},null===Kl?Ll.memoizedState=Kl=e:Kl=Kl.next=e}return Kl}function An(e,t){return"function"==typeof t?t(e):t}function Rn(e){var t=Bn(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var o=Fl,i=o.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}o.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,o=o.baseState;var l=s=a=null,u=i;do{var c=u.lane;if((jl&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),o=u.eagerReducer===e?u.eagerState:e(o,u.action);else{var f={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=f,a=o):l=l.next=f,Ll.lanes|=c,fu|=c}u=u.next}while(null!==u&&u!==i);null===l?a=o:l.next=s,ys(o,t.memoizedState)||(Xl=!0),t.memoizedState=o,t.baseState=a,t.baseQueue=l,n.lastRenderedState=o}return[t.memoizedState,n.dispatch]}function jn(e){var t=Bn(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var o=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);ys(a,t.memoizedState)||(Xl=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,o]}function Ln(e,t,n){var o=t._getVersion;o=o(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===o:(e=e.mutableReadLanes,(e=(jl&e)===e)&&(t._workInProgressVersionPrimary=o,Bl.push(t))),e)return n(t._source);throw Bl.push(t),Error(r(350))}function Fn(e,t,n,o){var i=ru;if(null===i)throw Error(r(349));var a=t._getVersion,s=a(t._source),l=Al.current,u=l.useState(function(){return Ln(i,t,n)}),c=u[1],f=u[0];u=Kl;var d=e.memoizedState,p=d.refs,h=p.getSnapshot,g=d.source;d=d.subscribe;var y=Ll;return e.memoizedState={refs:p,source:t,subscribe:o},l.useEffect(function(){p.getSnapshot=n,p.setSnapshot=c;var e=a(t._source);if(!ys(s,e)){e=n(t._source),ys(f,e)||(c(e),e=Hr(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var l=31-ma(o),u=1<<l;r[l]|=e,o&=~u}}},[n,t,o]),l.useEffect(function(){return o(t._source,function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var r=Hr(y);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n(function(){throw e})}})},[t,o]),ys(h,n)&&ys(g,t)&&ys(d,o)||(e={pending:null,dispatch:null,lastRenderedReducer:An,lastRenderedState:f},e.dispatch=c=nr.bind(null,Ll,e),u.queue=e,u.baseQueue=null,f=Ln(i,t,n),u.memoizedState=u.baseState=f),f}function Kn(e,t,n){var r=Bn();return Fn(r,e,t,n)}function zn(e){var t=Pn();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:An,lastRenderedState:e},e=e.dispatch=nr.bind(null,Ll,e),[t.memoizedState,e]}function Un(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ll.updateQueue,null===t?(t={lastEffect:null},Ll.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,null===n?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Vn(e){var t=Pn();return e={current:e},t.memoizedState=e}function Hn(){return Bn().memoizedState}function Wn(e,t,n,r){var o=Pn();Ll.flags|=e,o.memoizedState=Un(1|t,n,void 0,void 0===r?null:r)}function qn(e,t,n,r){var o=Bn();r=void 0===r?null:r;var i=void 0;if(null!==Fl){var a=Fl.memoizedState;if(i=a.destroy,null!==r&&In(r,a.deps))return void Un(t,n,i,r)}Ll.flags|=e,o.memoizedState=Un(1|t,n,i,r)}function Yn(e,t){return Wn(516,4,e,t)}function Xn(e,t){return qn(516,4,e,t)}function Jn(e,t){return qn(4,2,e,t)}function Gn(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $n(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qn(4,2,Gn.bind(null,t,e),n)}function Qn(){}function Zn(e,t){var n=Bn();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&In(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function er(e,t){var n=Bn();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&In(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function tr(e,t){var n=Vt();Wt(98>n?98:n,function(){e(!0)}),Wt(97<n?97:n,function(){var n=Rl.transition;Rl.transition=1;try{e(!1),t()}finally{Rl.transition=n}})}function nr(e,t,n){var r=Vr(),o=Hr(e),i={lane:o,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===Ll||null!==a&&a===Ll)Ul=zl=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&(a=t.lastRenderedReducer,null!==a))try{var s=t.lastRenderedState,l=a(s,n);if(i.eagerReducer=a,i.eagerState=l,ys(l,s))return}catch(e){}finally{}Wr(e,o,r)}}function rr(e,t,n,r){t.child=null===e?El(t,null,n,r):kl(t,e.child,n,r)}function or(e,t,n,r,o){n=n.render;var i=t.ref;return Zt(t,o),r=Mn(e,t,n,r,i,o),null===e||Xl?(t.flags|=1,rr(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,wr(e,t,o))}function ir(e,t,n,r,o,i){if(null===e){var a=n.type;return"function"!=typeof a||ko(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?(e=Oo(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ar(e,t,a,r,o,i))}return a=e.child,0===(o&i)&&(o=a.memoizedProps,n=n.compare,n=null!==n?n:rt,n(o,r)&&e.ref===t.ref)?wr(e,t,i):(t.flags|=1,e=Co(a,r),e.ref=t.ref,e.return=t,t.child=e)}function ar(e,t,n,r,o,i){if(null!==e&&rt(e.memoizedProps,r)&&e.ref===t.ref){if(Xl=!1,0===(i&o))return t.lanes=e.lanes,wr(e,t,i);0!==(16384&e.flags)&&(Xl=!0)}return ur(e,t,n,r,i)}function sr(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},eo(t,n);else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},eo(t,e),null;t.memoizedState={baseLanes:0},eo(t,null!==i?i.baseLanes:n)}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,eo(t,r);return rr(e,t,o,n),t.child}function lr(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function ur(e,t,n,r,o){var i=jt(n)?Ys:Ws.current;return i=Rt(t,i),Zt(t,o),n=Mn(e,t,n,r,i,o),null===e||Xl?(t.flags|=1,rr(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,wr(e,t,o))}function cr(e,t,n,r,o){if(jt(n)){var i=!0;zt(t)}else i=!1;if(Zt(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),fn(t,n,r),pn(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"==typeof u&&null!==u?u=en(u):(u=jt(n)?Ys:Ws.current,u=Rt(t,u));var c=n.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&dn(t,a,r,u),wl=!1;var d=t.memoizedState;a.state=d,sn(t,r,a,o),l=t.memoizedState,s!==r||d!==l||qs.current||wl?("function"==typeof c&&(un(t,n,c,r),l=t.memoizedState),(s=wl||cn(t,n,s,r,d,l,u))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,nn(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Jt(t.type,s),a.props=u,f=t.pendingProps,d=a.context,l=n.contextType,"object"==typeof l&&null!==l?l=en(l):(l=jt(n)?Ys:Ws.current,l=Rt(t,l));var p=n.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==f||d!==l)&&dn(t,a,r,l),wl=!1,d=t.memoizedState,a.state=d,sn(t,r,a,o);var h=t.memoizedState;s!==f||d!==h||qs.current||wl?("function"==typeof p&&(un(t,n,p,r),h=t.memoizedState),(u=wl||cn(t,n,u,r,d,h,l))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return fr(e,t,n,r,i,o)}function fr(e,t,n,r,o,i){lr(e,t);var a=0!==(64&t.flags);if(!r&&!a)return o&&Ut(t,n,!1),wr(e,t,i);r=t.stateNode,Yl.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=kl(t,e.child,null,i),t.child=kl(t,null,s,i)):rr(e,t,s,i),t.memoizedState=r.state,o&&Ut(t,n,!0),t.child}function dr(e){var t=e.stateNode;t.pendingContext?Ft(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ft(e,t.context,!1),vn(e,t.containerInfo)}function pr(e,t,n){var r,o=t.pendingProps,i=Nl.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(i|=1),At(Nl,1&i),null===e?(void 0!==o.fallback&&En(t),e=o.children,i=o.fallback,a?(e=hr(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jl,e):"number"==typeof o.unstable_expectedLoadTime?(e=hr(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jl,t.lanes=33554432,e):(n=To({mode:"visible",children:e},t.mode,n,null),n.return=t,t.child=n)):null!==e.memoizedState?a?(o=yr(e,t,o.children,o.fallback,n),a=t.child,i=e.child.memoizedState,a.memoizedState=null===i?{baseLanes:n}:{baseLanes:i.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Jl,o):(n=gr(e,t,o.children,n),t.memoizedState=null,n):a?(o=yr(e,t,o.children,o.fallback,n),a=t.child,i=e.child.memoizedState,a.memoizedState=null===i?{baseLanes:n}:{baseLanes:i.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Jl,o):(n=gr(e,t,o.children,n),t.memoizedState=null,n)}function hr(e,t,n,r){var o=e.mode,i=e.child;return t={mode:"hidden",children:t},0===(2&o)&&null!==i?(i.childLanes=0,i.pendingProps=t):i=To(t,o,0,null),n=Do(n,o,r,null),i.return=e,n.return=e,i.sibling=n,e.child=i,n}function gr(e,t,n,r){var o=e.child;return e=o.sibling,n=Co(o,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function yr(e,t,n,r,o){var i=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&i)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=s,a=n.lastEffect,null!==a?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Co(a,s),null!==e?r=Co(e,r):(r=Do(r,i,o,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,r}function mr(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Qt(e.return,t)}function vr(e,t,n,r,o,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,lastEffect:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o,a.lastEffect=i)}function br(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(rr(e,t,r.children,n),r=Nl.current,0!==(2&r))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&mr(e,n);else if(19===e.tag)mr(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(At(Nl,r),
0===(2&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)e=n.alternate,null!==e&&null===xn(e)&&(o=n),n=n.sibling;n=o,null===n?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),vr(t,!1,o,n,i,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(e=o.alternate,null!==e&&null===xn(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}vr(t,!0,n,null,i,t.lastEffect);break;case"together":vr(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function wr(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(e=t.child,n=Co(e,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,n=n.sibling=Co(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}return null}function _r(e,t){if(!Pl)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function xr(e,t,n){var o=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return jt(t.type)&&Lt(),null;case 3:return bn(),Bt(qs),Bt(Ws),Tn(),o=t.stateNode,o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),null!==e&&null!==e.child||(On(t)?t.flags|=4:o.hydrate||(t.flags|=256)),Cs(t),null;case 5:_n(t);var i=mn(Tl.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,o,i),e.ref!==t.ref&&(t.flags|=128);else{if(!o){if(null===t.stateNode)throw Error(r(166));return null}if(e=mn(Ol.current),On(t)){o=t.stateNode,n=t.type;var a=t.memoizedProps;switch(o[Ls]=t,o[Fs]=a,n){case"dialog":dt("cancel",o),dt("close",o);break;case"iframe":case"object":case"embed":dt("load",o);break;case"video":case"audio":for(e=0;e<Ts.length;e++)dt(Ts[e],o);break;case"source":dt("error",o);break;case"img":case"image":case"link":dt("error",o),dt("load",o);break;case"details":dt("toggle",o);break;case"input":k(o,a),dt("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!a.multiple},dt("invalid",o);break;case"textarea":P(o,a),dt("invalid",o)}z(n,a),e=null;for(var s in a)a.hasOwnProperty(s)&&(i=a[s],"children"===s?"string"==typeof i?o.textContent!==i&&(e=["children",i]):"number"==typeof i&&o.textContent!==""+i&&(e=["children",""+i]):Xo.hasOwnProperty(s)&&null!=i&&"onScroll"===s&&dt("scroll",o));switch(n){case"input":w(o),O(o,a,!0);break;case"textarea":w(o),A(o);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(o.onclick=_t)}o=e,t.updateQueue=o,null!==o&&(t.flags|=4)}else{switch(s=9===i.nodeType?i:i.ownerDocument,e===Ei.html&&(e=R(n)),e===Ei.html?"script"===n?(e=s.createElement("div"),e.innerHTML="<script></script>",e=e.removeChild(e.firstChild)):"string"==typeof o.is?e=s.createElement(n,{is:o.is}):(e=s.createElement(n),"select"===n&&(s=e,o.multiple?s.multiple=!0:o.size&&(s.size=o.size))):e=s.createElementNS(e,n),e[Ls]=t,e[Fs]=o,Es(e,t,!1,!1),t.stateNode=e,s=U(n,o),n){case"dialog":dt("cancel",e),dt("close",e),i=o;break;case"iframe":case"object":case"embed":dt("load",e),i=o;break;case"video":case"audio":for(i=0;i<Ts.length;i++)dt(Ts[i],e);i=o;break;case"source":dt("error",e),i=o;break;case"img":case"image":case"link":dt("error",e),dt("load",e),i=o;break;case"details":dt("toggle",e),i=o;break;case"input":k(e,o),i=S(e,o),dt("invalid",e);break;case"option":i=N(e,o);break;case"select":e._wrapperState={wasMultiple:!!o.multiple},i=Wo({},o,{value:void 0}),dt("invalid",e);break;case"textarea":P(e,o),i=M(e,o),dt("invalid",e);break;default:i=o}z(n,i);var l=i;for(a in l)if(l.hasOwnProperty(a)){var u=l[a];"style"===a?K(e,u):"dangerouslySetInnerHTML"===a?(u=u?u.__html:void 0,null!=u&&Ci(e,u)):"children"===a?"string"==typeof u?("textarea"!==n||""!==u)&&L(e,u):"number"==typeof u&&L(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(Xo.hasOwnProperty(a)?null!=u&&"onScroll"===a&&dt("scroll",e):null!=u&&f(e,a,u,s))}switch(n){case"input":w(e),O(e,o,!1);break;case"textarea":w(e),A(e);break;case"option":null!=o.value&&e.setAttribute("value",""+m(o.value));break;case"select":e.multiple=!!o.multiple,a=o.value,null!=a?I(e,!!o.multiple,a,!1):null!=o.defaultValue&&I(e,!!o.multiple,o.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=_t)}xt(n,o)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,o);else{if("string"!=typeof o&&null===t.stateNode)throw Error(r(166));n=mn(Tl.current),mn(Ol.current),On(t)?(o=t.stateNode,n=t.memoizedProps,o[Ls]=t,o.nodeValue!==n&&(t.flags|=4)):(o=(9===n.nodeType?n:n.ownerDocument).createTextNode(o),o[Ls]=t,t.stateNode=o)}return null;case 13:return Bt(Nl),o=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(o=null!==o,n=!1,null===e?void 0!==t.memoizedProps.fallback&&On(t):n=null!==e.memoizedState,o&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Nl.current)?0===lu&&(lu=3):(0!==lu&&3!==lu||(lu=4),null===ru||0===(134217727&fu)&&0===(134217727&du)||Jr(ru,iu))),(o||n)&&(t.flags|=4),null);case 4:return bn(),Cs(t),null===e&&pt(t.stateNode.containerInfo),null;case 10:return $t(t),null;case 17:return jt(t.type)&&Lt(),null;case 19:if(Bt(Nl),o=t.memoizedState,null===o)return null;if(a=0!==(64&t.flags),s=o.rendering,null===s)if(a)_r(o,!1);else{if(0!==lu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(s=xn(e),null!==s){for(t.flags|=64,_r(o,!1),a=s.updateQueue,null!==a&&(t.updateQueue=a,t.flags|=4),null===o.lastEffect&&(t.firstEffect=null),t.lastEffect=o.lastEffect,o=n,n=t.child;null!==n;)a=n,e=o,a.flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,s=a.alternate,null===s?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return At(Nl,1&Nl.current|2),t.child}e=e.sibling}null!==o.tail&&hl()>yu&&(t.flags|=64,a=!0,_r(o,!1),t.lanes=33554432)}else{if(!a)if(e=xn(s),null!==e){if(t.flags|=64,a=!0,n=e.updateQueue,null!==n&&(t.updateQueue=n,t.flags|=4),_r(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Pl)return t=t.lastEffect=o.lastEffect,null!==t&&(t.nextEffect=null),null}else 2*hl()-o.renderingStartTime>yu&&1073741824!==n&&(t.flags|=64,a=!0,_r(o,!1),t.lanes=33554432);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,null!==n?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(n=o.tail,o.rendering=n,o.tail=n.sibling,o.lastEffect=t.lastEffect,o.renderingStartTime=hl(),n.sibling=null,t=Nl.current,At(Nl,a?1&t|2:1&t),n):null;case 23:case 24:return to(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==o.mode&&(t.flags|=4),null}throw Error(r(156,t.tag))}function Sr(e){switch(e.tag){case 1:jt(e.type)&&Lt();var t=e.flags;return 4096&t?(e.flags=t&-4097|64,e):null;case 3:if(bn(),Bt(qs),Bt(Ws),Tn(),t=e.flags,0!==(64&t))throw Error(r(285));return e.flags=t&-4097|64,e;case 5:return _n(e),null;case 13:return Bt(Nl),t=e.flags,4096&t?(e.flags=t&-4097|64,e):null;case 19:return Bt(Nl),null;case 4:return bn(),null;case 10:return $t(e),null;case 23:case 24:return to(),null;default:return null}}function kr(e,t){try{var n="",r=t;do n+=g(r),r=r.return;while(r);var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o}}function Er(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}function Cr(e,t,n){n=rn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){vu||(vu=!0,bu=r),Er(e,t)},n}function Or(e,t,n){n=rn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return Er(e,t),r(o)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===wu?wu=new Set([this]):wu.add(this),Er(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}function Dr(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){bo(e,t)}else t.current=null}function Tr(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,o=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?n:Jt(t.type,n),o),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&kt(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(r(163))}function Nr(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(t=n.updateQueue,t=null!==t?t.lastEffect:null,null!==t){e=t=t.next;do{if(3===(3&e.tag)){var o=e.create;e.destroy=o()}e=e.next}while(e!==t)}if(t=n.updateQueue,t=null!==t?t.lastEffect:null,null!==t){e=t=t.next;do{var i=e;o=i.next,i=i.tag,0!==(4&i)&&0!==(1&i)&&(yo(n,e),go(n,e)),e=o}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(o=n.elementType===n.type?t.memoizedProps:Jt(n.type,t.memoizedProps),e.componentDidUpdate(o,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=n.updateQueue,void(null!==t&&ln(n,t,e));case 3:if(t=n.updateQueue,null!==t){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}ln(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&xt(n.type,n.memoizedProps)&&e.focus());case 6:return;case 4:return;case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&me(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(r(163))}function Ir(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)r=r.style,"function"==typeof r.setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var o=n.memoizedProps.style;o=void 0!==o&&null!==o&&o.hasOwnProperty("display")?o.display:null,r.style.display=F("display",o)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Mr(e,t){if(Js&&"function"==typeof Js.onCommitFiberUnmount)try{Js.onCommitFiberUnmount(Xs,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,null!==e&&(e=e.lastEffect,null!==e)){var n=e=e.next;do{var r=n,o=r.destroy;if(r=r.tag,void 0!==o)if(0!==(4&r))yo(t,n);else{r=t;try{o()}catch(e){bo(r,e)}}n=n.next}while(n!==e)}break;case 1:if(Dr(t),e=t.stateNode,"function"==typeof e.componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){bo(t,e)}break;case 5:Dr(t);break;case 4:Lr(e,t)}}function Pr(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Br(e){return 5===e.tag||3===e.tag||4===e.tag}function Ar(e){e:{for(var t=e.return;null!==t;){if(Br(t))break e;t=t.return}throw Error(r(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var o=!1;break;case 3:t=t.containerInfo,o=!0;break;case 4:t=t.containerInfo,o=!0;break;default:throw Error(r(161))}16&n.flags&&(L(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Br(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}o?Rr(e,n,t):jr(e,n,t)}function Rr(e,t,n){var r=e.tag,o=5===r||6===r;if(o)e=o?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,null!==n&&void 0!==n||null!==t.onclick||(t.onclick=_t));else if(4!==r&&(e=e.child,null!==e))for(Rr(e,t,n),e=e.sibling;null!==e;)Rr(e,t,n),e=e.sibling}function jr(e,t,n){var r=e.tag,o=5===r||6===r;if(o)e=o?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(e=e.child,null!==e))for(jr(e,t,n),e=e.sibling;null!==e;)jr(e,t,n),e=e.sibling}function Lr(e,t){for(var n,o,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(r(160));switch(n=a.stateNode,a.tag){case 5:o=!1;break e;case 3:n=n.containerInfo,o=!0;break e;case 4:n=n.containerInfo,o=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,l=i,u=l;;)if(Mr(s,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break e;for(;null===u.sibling;){if(null===u.return||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}o?(s=n,l=i.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,o=!0,i.child.return=i,i=i.child;continue}}else if(Mr(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return,4===i.tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Fr(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(n=null!==n?n.lastEffect:null,null!==n){var o=n=n.next;do 3===(3&o.tag)&&(e=o.destroy,o.destroy=void 0,void 0!==e&&e()),o=o.next;while(o!==n)}return;case 1:return;case 5:if(n=t.stateNode,null!=n){o=t.memoizedProps;var i=null!==e?e.memoizedProps:o;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Fs]=o,"input"===e&&"radio"===o.type&&null!=o.name&&E(n,o),U(e,i),t=U(e,o),i=0;i<a.length;i+=2){var s=a[i],l=a[i+1];"style"===s?K(n,l):"dangerouslySetInnerHTML"===s?Ci(n,l):"children"===s?L(n,l):f(n,s,l,t)}switch(e){case"input":C(n,o);break;case"textarea":B(n,o);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!o.multiple,a=o.value,null!=a?I(n,!!o.multiple,a,!1):e!==!!o.multiple&&(null!=o.defaultValue?I(n,!!o.multiple,o.defaultValue,!0):I(n,!!o.multiple,o.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(r(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return n=t.stateNode,void(n.hydrate&&(n.hydrate=!1,me(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(gu=hl(),Ir(t.child,!0)),void Kr(t);case 19:return void Kr(t);case 17:return;case 23:case 24:return void Ir(t,null!==t.memoizedState)}throw Error(r(163))}function Kr(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ql),t.forEach(function(t){var r=_o.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function zr(e,t){return null!==e&&(e=e.memoizedState,null===e||null!==e.dehydrated)&&(t=t.memoizedState,null!==t&&null===t.dehydrated)}function Ur(){yu=hl()+500}function Vr(){return 0!==(48&nu)?hl():-1!==Tu?Tu:Tu=hl()}function Hr(e){if(e=e.mode,0===(2&e))return 1;if(0===(4&e))return 99===Vt()?1:2;if(0===Nu&&(Nu=cu),0!==gl.transition){0!==Iu&&(Iu=null!==hu?hu.pendingLanes:0),e=Nu;var t=4186112&~Iu;return t&=-t,0===t&&(e=4186112&~e,t=e&-e,0===t&&(t=8192)),t}return e=Vt(),0!==(4&nu)&&98===e?e=Ce(12,Nu):(e=xe(e),e=Ce(e,Nu)),e}function Wr(e,t,n){if(50<Ou)throw Ou=0,Du=null,Error(r(185));if(e=qr(e,t),null===e)return null;De(e,t,n),e===ru&&(du|=t,4===lu&&Jr(e,iu));var o=Vt();1===t?0!==(8&nu)&&0===(48&nu)?Gr(e):(Yr(e,n),0===nu&&(Ur(),Yt())):(0===(4&nu)||98!==o&&99!==o||(null===Cu?Cu=new Set([e]):Cu.add(e)),Yr(e,n)),hu=e}function qr(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,n=e.alternate,null!==n&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Yr(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,o=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-ma(a),l=1<<s,u=i[s];if(-1===u){if(0===(l&r)||0!==(l&o)){u=t,_e(l);var c=ya;i[s]=10<=c?u+250:6<=c?u+5e3:-1}}else u<=t&&(e.expiredLanes|=l);a&=~l}if(r=ke(e,e===ru?iu:0),t=ya,0===r)null!==n&&(n!==ll&&Qs(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==ll&&Qs(n)}15===t?(n=Gr.bind(null,e),null===cl?(cl=[n],fl=$s(rl,Xt)):cl.push(n),n=ll):14===t?n=qt(99,Gr.bind(null,e)):(n=Se(t),n=qt(n,Xr.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function Xr(e){if(Tu=-1,Iu=Nu=0,0!==(48&nu))throw Error(r(327));var t=e.callbackNode;if(ho()&&e.callbackNode!==t)return null;var n=ke(e,e===ru?iu:0);if(0===n)return null;var o=n,i=nu;nu|=16;var a=oo();for(ru===e&&iu===o||(Ur(),no(e,o));;)try{so();break}catch(t){ro(e,t)}if(Gt(),eu.current=a,nu=i,null!==ou?o=0:(ru=null,iu=0,o=lu),0!==(cu&du))no(e,0);else if(0!==o){if(2===o&&(nu|=64,e.hydrate&&(e.hydrate=!1,kt(e.containerInfo)),n=Ee(e),0!==n&&(o=io(e,n))),1===o)throw t=uu,no(e,0),Jr(e,n),Yr(e,hl()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,o){case 0:case 1:throw Error(r(345));case 2:co(e);break;case 3:if(Jr(e,n),(62914560&n)===n&&(o=gu+500-hl(),10<o)){if(0!==ke(e,0))break;if(i=e.suspendedLanes,(i&n)!==n){Vr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Bs(co.bind(null,e),o);break}co(e);break;case 4:if(Jr(e,n),(4186112&n)===n)break;for(o=e.eventTimes,i=-1;0<n;){var s=31-ma(n);a=1<<s,s=o[s],s>i&&(i=s),n&=~a}if(n=i,n=hl()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Zl(n/1960))-n,10<n){e.timeoutHandle=Bs(co.bind(null,e),n);break}co(e);break;case 5:co(e);break;default:throw Error(r(329))}}return Yr(e,hl()),e.callbackNode===t?Xr.bind(null,e):null}function Jr(e,t){for(t&=~pu,t&=~du,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ma(t),r=1<<n;e[n]=-1,t&=~r}}function Gr(e){if(0!==(48&nu))throw Error(r(327));if(ho(),e===ru&&0!==(e.expiredLanes&iu)){var t=iu,n=io(e,t);0!==(cu&du)&&(t=ke(e,t),n=io(e,t))}else t=ke(e,0),n=io(e,t);if(0!==e.tag&&2===n&&(nu|=64,e.hydrate&&(e.hydrate=!1,kt(e.containerInfo)),t=Ee(e),0!==t&&(n=io(e,t))),1===n)throw n=uu,no(e,0),Jr(e,t),Yr(e,hl()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,co(e),Yr(e,hl()),null}function $r(){if(null!==Cu){var e=Cu;Cu=null,e.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Yr(e,hl())})}Yt()}function Qr(e,t){var n=nu;nu|=1;try{return e(t)}finally{nu=n,0===nu&&(Ur(),Yt())}}function Zr(e,t){var n=nu;nu&=-2,nu|=8;try{return e(t)}finally{nu=n,0===nu&&(Ur(),Yt())}}function eo(e,t){At(su,au),au|=t,cu|=t}function to(){au=su.current,Bt(su)}function no(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,As(n)),null!==ou)for(n=ou.return;null!==n;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,null!==r&&void 0!==r&&Lt();break;case 3:bn(),Bt(qs),Bt(Ws),Tn();break;case 5:_n(r);break;case 4:bn();break;case 13:Bt(Nl);break;case 19:Bt(Nl);break;case 10:$t(r);break;case 23:case 24:to()}n=n.return}ru=e,ou=Co(e.current,null),iu=au=cu=t,lu=0,uu=null,pu=du=fu=0}function ro(e,t){for(;;){var n=ou;try{if(Gt(),Al.current=Vl,zl){for(var r=Ll.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}zl=!1}if(jl=0,Kl=Fl=Ll=null,Ul=!1,tu.current=null,null===n||null===n.return){lu=1,uu=t,ou=null;break}e:{var i=e,a=n.return,s=n,l=t;if(t=iu,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Nl.current),d=a;do{var p;if(p=13===d.tag){var h=d.memoizedState;if(null!==h)p=null!==h.dehydrated;else{var g=d.memoizedProps;p=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!f)}}if(p){var m=d.updateQueue;if(null===m){var v=new Set;v.add(u),d.updateQueue=v}else m.add(u);if(0===(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var b=rn(-1,1);b.tag=2,on(s,b)}s.lanes|=1;break e}l=void 0,s=t;var w=i.pingCache;if(null===w?(w=i.pingCache=new $l,l=new Set,w.set(u,l)):(l=w.get(u),void 0===l&&(l=new Set,w.set(u,l))),!l.has(s)){l.add(s);var _=wo.bind(null,i,u,s);u.then(_,_)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);l=Error((y(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==lu&&(lu=2),l=kr(l,s),d=a;do{switch(d.tag){case 3:i=l,d.flags|=4096,t&=-t,d.lanes|=t;var x=Cr(d,i,t);an(d,x);break e;case 1:i=l;var S=d.type,k=d.stateNode;if(0===(64&d.flags)&&("function"==typeof S.getDerivedStateFromError||null!==k&&"function"==typeof k.componentDidCatch&&(null===wu||!wu.has(k)))){d.flags|=4096,t&=-t,d.lanes|=t;var E=Or(d,i,t);an(d,E);break e}}d=d.return}while(null!==d)}uo(n)}catch(e){t=e,ou===n&&null!==n&&(ou=n=n.return);continue}break}}function oo(){var e=eu.current;return eu.current=Vl,null===e?Vl:e}function io(e,t){var n=nu;nu|=16;var o=oo();for(ru===e&&iu===t||no(e,t);;)try{ao();break}catch(t){ro(e,t)}if(Gt(),nu=n,eu.current=o,null!==ou)throw Error(r(261));return ru=null,iu=0,lu}function ao(){for(;null!==ou;)lo(ou)}function so(){for(;null!==ou&&!Zs();)lo(ou)}function lo(e){var t=Gl(e.alternate,e,au);e.memoizedProps=e.pendingProps,null===t?uo(e):ou=t,tu.current=null}function uo(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(n=xr(n,t,au),null!==n)return void(ou=n);if(n=t,24!==n.tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&au)||0===(4&n.mode)){for(var r=0,o=n.child;null!==o;)r|=o.lanes|o.childLanes,o=o.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(n=Sr(t),null!==n)return n.flags&=2047,void(ou=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(t=t.sibling,null!==t)return void(ou=t);ou=t=e}while(null!==t);0===lu&&(lu=5)}function co(e){var t=Vt();return Wt(99,fo.bind(null,e,t)),null}function fo(e,t){do ho();while(null!==xu);if(0!==(48&nu))throw Error(r(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(r(177));e.callbackNode=null;var o=n.lanes|n.childLanes,i=o,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<a;){var u=31-ma(a),c=1<<u;i[u]=0,s[u]=-1,l[u]=-1,a&=~c}if(null!==Cu&&0===(24&o)&&Cu.has(e)&&Cu.delete(e),e===ru&&(ou=ru=null,iu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,o=n.firstEffect):o=n:o=n.firstEffect,null!==o){if(i=nu,nu|=32,tu.current=null,Ms=xa,s=st(),lt(s)){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,a=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{l.nodeType,u.nodeType}catch(e){l=null;break e}var f=0,d=-1,p=-1,h=0,g=0,y=s,m=null;t:for(;;){for(var v;y!==l||0!==a&&3!==y.nodeType||(d=f+a),y!==u||0!==c&&3!==y.nodeType||(p=f+c),3===y.nodeType&&(f+=y.nodeValue.length),null!==(v=y.firstChild);)m=y,y=v;for(;;){if(y===s)break t;if(m===l&&++h===a&&(d=f),m===u&&++g===c&&(p=f),null!==(v=y.nextSibling))break;y=m,m=y.parentNode}y=v}l=-1===d||-1===p?null:{start:d,end:p}}else l=null;l=l||{start:0,end:0}}else l=null;Ps={focusedElem:s,selectionRange:l},xa=!1,Mu=null,Pu=!1,mu=o;do try{po()}catch(e){if(null===mu)throw Error(r(330));bo(mu,e),mu=mu.nextEffect}while(null!==mu);Mu=null,mu=o;do try{for(s=e;null!==mu;){var b=mu.flags;if(16&b&&L(mu.stateNode,""),128&b){var w=mu.alternate;if(null!==w){var _=w.ref;null!==_&&("function"==typeof _?_(null):_.current=null)}}switch(1038&b){case 2:Ar(mu),mu.flags&=-3;break;case 6:Ar(mu),mu.flags&=-3,Fr(mu.alternate,mu);break;case 1024:mu.flags&=-1025;break;case 1028:mu.flags&=-1025,Fr(mu.alternate,mu);break;case 4:Fr(mu.alternate,mu);break;case 8:l=mu,Lr(s,l);var x=l.alternate;Pr(l),null!==x&&Pr(x)}mu=mu.nextEffect}}catch(e){if(null===mu)throw Error(r(330));bo(mu,e),mu=mu.nextEffect}while(null!==mu);if(_=Ps,w=st(),b=_.focusedElem,s=_.selectionRange,w!==b&&b&&b.ownerDocument&&at(b.ownerDocument.documentElement,b)){null!==s&&lt(b)&&(w=s.start,_=s.end,void 0===_&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window,_.getSelection&&(_=_.getSelection(),l=b.textContent.length,x=Math.min(s.start,l),s=void 0===s.end?x:Math.min(s.end,l),!_.extend&&x>s&&(l=s,s=x,x=l),l=it(b,x),a=it(b,s),l&&a&&(1!==_.rangeCount||_.anchorNode!==l.node||_.anchorOffset!==l.offset||_.focusNode!==a.node||_.focusOffset!==a.offset)&&(w=w.createRange(),w.setStart(l.node,l.offset),_.removeAllRanges(),x>s?(_.addRange(w),_.extend(a.node,a.offset)):(w.setEnd(a.node,a.offset),_.addRange(w)))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)_=w[b],_.element.scrollLeft=_.left,_.element.scrollTop=_.top}xa=!!Ms,Ps=Ms=null,e.current=n,mu=o;do try{for(b=e;null!==mu;){var S=mu.flags;if(36&S&&Nr(b,mu.alternate,mu),128&S){w=void 0;var k=mu.ref;if(null!==k){var E=mu.stateNode;switch(mu.tag){case 5:w=E;break;default:w=E}"function"==typeof k?k(w):k.current=w}}mu=mu.nextEffect}}catch(e){if(null===mu)throw Error(r(330));bo(mu,e),mu=mu.nextEffect}while(null!==mu);mu=null,ul(),nu=i}else e.current=n;if(_u)_u=!1,xu=e,Su=t;else for(mu=o;null!==mu;)t=mu.nextEffect,mu.nextEffect=null,8&mu.flags&&(S=mu,S.sibling=null,S.stateNode=null),mu=t;if(o=e.pendingLanes,0===o&&(wu=null),1===o?e===Du?Ou++:(Ou=0,Du=e):Ou=0,n=n.stateNode,Js&&"function"==typeof Js.onCommitFiberRoot)try{Js.onCommitFiberRoot(Xs,n,void 0,64===(64&n.current.flags))}catch(e){}if(Yr(e,hl()),vu)throw vu=!1,e=bu,bu=null,e;return 0!==(8&nu)?null:(Yt(),null)}function po(){for(;null!==mu;){var e=mu.alternate;Pu||null===Mu||(0!==(8&mu.flags)?se(mu,Mu)&&(Pu=!0):13===mu.tag&&zr(e,mu)&&se(mu,Mu)&&(Pu=!0));var t=mu.flags;0!==(256&t)&&Tr(e,mu),0===(512&t)||_u||(_u=!0,qt(97,function(){return ho(),null})),mu=mu.nextEffect}}function ho(){if(90!==Su){var e=97<Su?97:Su;return Su=90,Wt(e,mo)}return!1}function go(e,t){ku.push(t,e),_u||(_u=!0,qt(97,function(){return ho(),null}))}function yo(e,t){Eu.push(t,e),_u||(_u=!0,qt(97,function(){return ho(),null}))}function mo(){if(null===xu)return!1;var e=xu;if(xu=null,0!==(48&nu))throw Error(r(331));var t=nu;nu|=32;var n=Eu;Eu=[];for(var o=0;o<n.length;o+=2){var i=n[o],a=n[o+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===a)throw Error(r(330));bo(a,e)}}for(n=ku,ku=[],o=0;o<n.length;o+=2){i=n[o],a=n[o+1];try{var l=i.create;i.destroy=l()}catch(e){if(null===a)throw Error(r(330));bo(a,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return nu=t,Yt(),!0}function vo(e,t,n){t=kr(n,t),t=Cr(e,t,1),on(e,t),t=Vr(),e=qr(e,1),null!==e&&(De(e,1,t),Yr(e,t))}function bo(e,t){if(3===e.tag)vo(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){vo(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===wu||!wu.has(r))){e=kr(t,e);var o=Or(n,e,1);if(on(n,o),o=Vr(),n=qr(n,1),null!==n)De(n,1,o),Yr(n,o);else if("function"==typeof r.componentDidCatch&&(null===wu||!wu.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function wo(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Vr(),e.pingedLanes|=e.suspendedLanes&n,ru===e&&(iu&n)===n&&(4===lu||3===lu&&(62914560&iu)===iu&&500>hl()-gu?no(e,0):pu|=n),Yr(e,t)}function _o(e,t){var n=e.stateNode;null!==n&&n.delete(t),t=0,0===t&&(t=e.mode,0===(2&t)?t=1:0===(4&t)?t=99===Vt()?1:2:(0===Nu&&(Nu=cu),t=Oe(62914560&~Nu),0===t&&(t=4194304))),n=Vr(),e=qr(e,t),null!==e&&(De(e,t,n),Yr(e,n))}function xo(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function So(e,t,n,r){return new xo(e,t,n,r)}function ko(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Eo(e){if("function"==typeof e)return ko(e)?1:0;if(void 0!==e&&null!==e){if(e=e.$$typeof,e===ci)return 11;if(e===pi)return 14}return 2}function Co(e,t){var n=e.alternate;return null===n?(n=So(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oo(e,t,n,o,i,a){var s=2;if(o=e,"function"==typeof e)ko(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case ii:return Do(n.children,i,a,t);case mi:s=8,i|=16;break;case ai:s=8,i|=1;break;case si:return e=So(12,n,t,8|i),e.elementType=si,e.type=si,e.lanes=a,e;case fi:return e=So(13,n,t,i),e.type=fi,e.elementType=fi,e.lanes=a,e;case di:return e=So(19,n,t,i),e.elementType=di,e.lanes=a,e;case vi:return To(n,i,a,t);case bi:return e=So(24,n,t,i),e.elementType=bi,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case li:s=10;break e;case ui:s=9;break e;case ci:s=11;break e;case pi:s=14;break e;case hi:s=16,o=null;break e;case gi:s=22;break e}throw Error(r(130,null==e?e:typeof e,""))}return t=So(s,n,t,i),t.elementType=e,t.type=o,t.lanes=a,t}function Do(e,t,n,r){return e=So(7,e,r,t),e.lanes=n,e}function To(e,t,n,r){return e=So(23,e,r,t),e.elementType=vi,e.lanes=n,e}function No(e,t,n){return e=So(6,e,null,t),e.lanes=n,e}function Io(e,t,n){return t=So(4,null!==e.children?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mo(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Array(31).fill(0),this.expirationTimes=Array(31).fill(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Array(31).fill(0),this.mutableSourceEagerHydrationData=null}function Po(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:oi,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bo(e,t,n,o){var i=t.current,a=Vr(),s=Hr(i);e:if(n){n=n._reactInternals;t:{if(ne(n)!==n||1!==n.tag)throw Error(r(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(jt(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t;
}}l=l.return}while(null!==l);throw Error(r(171))}if(1===n.tag){var u=n.type;if(jt(u)){n=Kt(n,u,l);break e}}n=l}else n=Hs;return null===t.context?t.context=n:t.pendingContext=n,t=rn(a,s),t.payload={element:e},o=void 0===o?null:o,null!==o&&(t.callback=o),on(i,t),Wr(i,s,a),s}function Ao(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ro(e,t){if(e=e.memoizedState,null!==e&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function jo(e,t){Ro(e,t),(e=e.alternate)&&Ro(e,t)}function Lo(){return null}function Fo(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Mo(e,t,null!=n&&!0===n.hydrate),t=So(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,tn(t),e[Ks]=n.current,pt(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){t=r[e];var o=t._getVersion;o=o(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,o]:n.mutableSourceEagerHydrationData.push(t,o)}this._internalRoot=n}function Ko(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function zo(e,t){if(t||(t=e?9===e.nodeType?e.documentElement:e.firstChild:null,t=!(!t||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Fo(e,0,t?{hydrate:!0}:void 0)}function Uo(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i._internalRoot;if("function"==typeof o){var s=o;o=function(){var e=Ao(a);s.call(e)}}Bo(t,a,e,o)}else{if(i=n._reactRootContainer=zo(n,r),a=i._internalRoot,"function"==typeof o){var l=o;o=function(){var e=Ao(a);l.call(e)}}Zr(function(){Bo(t,a,e,o)})}return Ao(a)}function Vo(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ko(t))throw Error(r(200));return Po(e,t,null,n)}var Ho=n(1),Wo=n(13),qo=n(232);if(!Ho)throw Error(r(227));var Yo=new Set,Xo={},Jo=!("undefined"==typeof window||"undefined"==typeof window.document||"undefined"==typeof window.document.createElement),Go=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$o=Object.prototype.hasOwnProperty,Qo={},Zo={},ei={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ei[e]=new u(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ei[t]=new u(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ei[e]=new u(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ei[e]=new u(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ei[e]=new u(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){ei[e]=new u(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){ei[e]=new u(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){ei[e]=new u(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){ei[e]=new u(e,5,!1,e.toLowerCase(),null,!1,!1)});var ti=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ti,c);ei[t]=new u(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ti,c);ei[t]=new u(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ti,c);ei[t]=new u(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){ei[e]=new u(e,1,!1,e.toLowerCase(),null,!1,!1)}),ei.xlinkHref=new u("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){ei[e]=new u(e,1,!1,e.toLowerCase(),null,!0,!0)});var ni=Ho.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ri=60103,oi=60106,ii=60107,ai=60108,si=60114,li=60109,ui=60110,ci=60112,fi=60113,di=60120,pi=60115,hi=60116,gi=60121,yi=60128,mi=60129,vi=60130,bi=60131;if("function"==typeof Symbol&&Symbol.for){var wi=Symbol.for;ri=wi("react.element"),oi=wi("react.portal"),ii=wi("react.fragment"),ai=wi("react.strict_mode"),si=wi("react.profiler"),li=wi("react.provider"),ui=wi("react.context"),ci=wi("react.forward_ref"),fi=wi("react.suspense"),di=wi("react.suspense_list"),pi=wi("react.memo"),hi=wi("react.lazy"),gi=wi("react.block"),wi("react.scope"),yi=wi("react.opaque.id"),mi=wi("react.debug_trace_mode"),vi=wi("react.offscreen"),bi=wi("react.legacy_hidden")}var _i,xi,Si="function"==typeof Symbol&&Symbol.iterator,ki=!1,Ei={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},Ci=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!==Ei.svg||"innerHTML"in e)e.innerHTML=t;else{for(xi=xi||document.createElement("div"),xi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}),Oi={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Di=["Webkit","ms","Moz","O"];Object.keys(Oi).forEach(function(e){Di.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Oi[t]=Oi[e]})});var Ti=Wo({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Ni=null,Ii=null,Mi=null,Pi=Y,Bi=!1,Ai=!1,Ri=!1;if(Jo)try{var ji={};Object.defineProperty(ji,"passive",{get:function(){Ri=!0}}),window.addEventListener("test",ji,ji),window.removeEventListener("test",ji,ji)}catch(e){Ri=!1}var Li,Fi,Ki,zi,Ui=!1,Vi=null,Hi=!1,Wi=null,qi={onError:function(e){Ui=!0,Vi=e}},Yi=!1,Xi=[],Ji=null,Gi=null,$i=null,Qi=new Map,Zi=new Map,ea=[],ta="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "),na={animationend:ve("Animation","AnimationEnd"),animationiteration:ve("Animation","AnimationIteration"),animationstart:ve("Animation","AnimationStart"),transitionend:ve("Transition","TransitionEnd")},ra={},oa={};Jo&&(oa=document.createElement("div").style,"AnimationEvent"in window||(delete na.animationend.animation,delete na.animationiteration.animation,delete na.animationstart.animation),"TransitionEvent"in window||delete na.transitionend.transition);var ia=be("animationend"),aa=be("animationiteration"),sa=be("animationstart"),la=be("transitionend"),ua=new Map,ca=new Map,fa=["abort","abort",ia,"animationEnd",aa,"animationIteration",sa,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",la,"transitionEnd","waiting","waiting"],da=qo.unstable_now;da();var pa,ha,ga,ya=8,ma=Math.clz32?Math.clz32:Te,va=Math.log,ba=Math.LN2,wa=qo.unstable_UserBlockingPriority,_a=qo.unstable_runWithPriority,xa=!0,Sa=null,ka=null,Ea=null,Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oa=Le(Ca),Da=Wo({},Ca,{view:0,detail:0}),Ta=Le(Da),Na=Wo({},Da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ke,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ga&&(ga&&"mousemove"===e.type?(pa=e.screenX-ga.screenX,ha=e.screenY-ga.screenY):ha=pa=0,ga=e),pa)},movementY:function(e){return"movementY"in e?e.movementY:ha}}),Ia=Le(Na),Ma=Wo({},Na,{dataTransfer:0}),Pa=Le(Ma),Ba=Wo({},Da,{relatedTarget:0}),Aa=Le(Ba),Ra=Wo({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),ja=Le(Ra),La=Wo({},Ca,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fa=Le(La),Ka=Wo({},Ca,{data:0}),za=Le(Ka),Ua={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Va={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ha={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},Wa=Wo({},Da,{key:function(e){if(e.key){var t=Ua[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=Ae(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?Va[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ke,charCode:function(e){return"keypress"===e.type?Ae(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ae(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),qa=Le(Wa),Ya=Wo({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xa=Le(Ya),Ja=Wo({},Da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ke}),Ga=Le(Ja),$a=Wo({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qa=Le($a),Za=Wo({},Na,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),es=Le(Za),ts=[9,13,27,32],ns=Jo&&"CompositionEvent"in window,rs=null;Jo&&"documentMode"in document&&(rs=document.documentMode);var os=Jo&&"TextEvent"in window&&!rs,is=Jo&&(!ns||rs&&8<rs&&11>=rs),as=String.fromCharCode(32),ss=!1,ls=!1,us={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},cs=null,fs=null,ds=!1;if(Jo){var ps;if(Jo){var hs="oninput"in document;if(!hs){var gs=document.createElement("div");gs.setAttribute("oninput","return;"),hs="function"==typeof gs.oninput}ps=hs}else ps=!1;ds=ps&&(!document.documentMode||9<document.documentMode)}var ys="function"==typeof Object.is?Object.is:nt,ms=Object.prototype.hasOwnProperty,vs=Jo&&"documentMode"in document&&11>=document.documentMode,bs=null,ws=null,_s=null,xs=!1;we("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),we("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),we(fa,2);for(var Ss="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),ks=0;ks<Ss.length;ks++)ca.set(Ss[ks],0);i("onMouseEnter",["mouseout","mouseover"]),i("onMouseLeave",["mouseout","mouseover"]),i("onPointerEnter",["pointerout","pointerover"]),i("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Es,Cs,Os,Ds,Ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ns=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ts)),Is="_reactListening"+Math.random().toString(36).slice(2),Ms=null,Ps=null,Bs="function"==typeof setTimeout?setTimeout:void 0,As="function"==typeof clearTimeout?clearTimeout:void 0,Rs=0,js=Math.random().toString(36).slice(2),Ls="__reactFiber$"+js,Fs="__reactProps$"+js,Ks="__reactContainer$"+js,zs="__reactEvents$"+js,Us=[],Vs=-1,Hs={},Ws=Pt(Hs),qs=Pt(!1),Ys=Hs,Xs=null,Js=null,Gs=qo.unstable_runWithPriority,$s=qo.unstable_scheduleCallback,Qs=qo.unstable_cancelCallback,Zs=qo.unstable_shouldYield,el=qo.unstable_requestPaint,tl=qo.unstable_now,nl=qo.unstable_getCurrentPriorityLevel,rl=qo.unstable_ImmediatePriority,ol=qo.unstable_UserBlockingPriority,il=qo.unstable_NormalPriority,al=qo.unstable_LowPriority,sl=qo.unstable_IdlePriority,ll={},ul=void 0!==el?el:function(){},cl=null,fl=null,dl=!1,pl=tl(),hl=1e4>pl?tl:function(){return tl()-pl},gl=ni.ReactCurrentBatchConfig,yl=Pt(null),ml=null,vl=null,bl=null,wl=!1,_l=(new Ho.Component).refs,xl={isMounted:function(e){return!!(e=e._reactInternals)&&ne(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Vr(),o=Hr(e),i=rn(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),on(e,i),Wr(e,o,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Vr(),o=Hr(e),i=rn(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),on(e,i),Wr(e,o,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Vr(),r=Hr(e),o=rn(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),on(e,o),Wr(e,r,n)}},Sl=Array.isArray,kl=yn(!0),El=yn(!1),Cl={},Ol=Pt(Cl),Dl=Pt(Cl),Tl=Pt(Cl),Nl=Pt(0),Il=null,Ml=null,Pl=!1,Bl=[],Al=ni.ReactCurrentDispatcher,Rl=ni.ReactCurrentBatchConfig,jl=0,Ll=null,Fl=null,Kl=null,zl=!1,Ul=!1,Vl={readContext:en,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useLayoutEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useMutableSource:Nn,useOpaqueIdentifier:Nn,unstable_isNewReconciler:!1},Hl={readContext:en,useCallback:function(e,t){return Pn().memoizedState=[e,void 0===t?null:t],e},useContext:en,useEffect:Yn,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Wn(4,2,Gn.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wn(4,2,e,t)},useMemo:function(e,t){var n=Pn();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Pn();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=nr.bind(null,Ll,e),[r.memoizedState,e]},useRef:Vn,useState:zn,useDebugValue:Qn,useDeferredValue:function(e){var t=zn(e),n=t[0],r=t[1];return Yn(function(){var t=Rl.transition;Rl.transition=1;try{r(e)}finally{Rl.transition=t}},[e]),n},useTransition:function(){var e=zn(!1),t=e[0];return e=tr.bind(null,e[1]),Vn(e),[e,t]},useMutableSource:function(e,t,n){var r=Pn();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},Fn(r,e,t,n)},useOpaqueIdentifier:function(){if(Pl){var e=!1,t=Ot(function(){throw e||(e=!0,n("r:"+(Rs++).toString(36))),Error(r(355))}),n=zn(t)[1];return 0===(2&Ll.mode)&&(Ll.flags|=516,Un(5,function(){n("r:"+(Rs++).toString(36))},void 0,null)),t}return t="r:"+(Rs++).toString(36),zn(t),t},unstable_isNewReconciler:!1},Wl={readContext:en,useCallback:Zn,useContext:en,useEffect:Xn,useImperativeHandle:$n,useLayoutEffect:Jn,useMemo:er,useReducer:Rn,useRef:Hn,useState:function(){return Rn(An)},useDebugValue:Qn,useDeferredValue:function(e){var t=Rn(An),n=t[0],r=t[1];return Xn(function(){var t=Rl.transition;Rl.transition=1;try{r(e)}finally{Rl.transition=t}},[e]),n},useTransition:function(){var e=Rn(An)[0];return[Hn().current,e]},useMutableSource:Kn,useOpaqueIdentifier:function(){return Rn(An)[0]},unstable_isNewReconciler:!1},ql={readContext:en,useCallback:Zn,useContext:en,useEffect:Xn,useImperativeHandle:$n,useLayoutEffect:Jn,useMemo:er,useReducer:jn,useRef:Hn,useState:function(){return jn(An)},useDebugValue:Qn,useDeferredValue:function(e){var t=jn(An),n=t[0],r=t[1];return Xn(function(){var t=Rl.transition;Rl.transition=1;try{r(e)}finally{Rl.transition=t}},[e]),n},useTransition:function(){var e=jn(An)[0];return[Hn().current,e]},useMutableSource:Kn,useOpaqueIdentifier:function(){return jn(An)[0]},unstable_isNewReconciler:!1},Yl=ni.ReactCurrentOwner,Xl=!1,Jl={dehydrated:null,retryLane:0};Es=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Cs=function(){},Os=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,mn(Ol.current);var i=null;switch(n){case"input":o=S(e,o),r=S(e,r),i=[];break;case"option":o=N(e,o),r=N(e,r),i=[];break;case"select":o=Wo({},o,{value:void 0}),r=Wo({},r,{value:void 0}),i=[];break;case"textarea":o=M(e,o),r=M(e,r),i=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=_t)}z(n,r);var a;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var s=o[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(Xo.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(s=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(null!=l||null!=s))if("style"===u)if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(i=i||[]).push(u,l)):"children"===u?"string"!=typeof l&&"number"!=typeof l||(i=i||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(Xo.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&dt("scroll",e),i||s===l||(i=[])):"object"==typeof l&&null!==l&&l.$$typeof===yi?l.toString():(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Gl,$l="function"==typeof WeakMap?WeakMap:Map,Ql="function"==typeof WeakSet?WeakSet:Set,Zl=Math.ceil,eu=ni.ReactCurrentDispatcher,tu=ni.ReactCurrentOwner,nu=0,ru=null,ou=null,iu=0,au=0,su=Pt(0),lu=0,uu=null,cu=0,fu=0,du=0,pu=0,hu=null,gu=0,yu=1/0,mu=null,vu=!1,bu=null,wu=null,_u=!1,xu=null,Su=90,ku=[],Eu=[],Cu=null,Ou=0,Du=null,Tu=-1,Nu=0,Iu=0,Mu=null,Pu=!1;Gl=function(e,t,n){var o=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||qs.current)Xl=!0;else{if(0===(n&o)){switch(Xl=!1,t.tag){case 3:dr(t),Dn();break;case 5:wn(t);break;case 1:jt(t.type)&&zt(t);break;case 4:vn(t,t.stateNode.containerInfo);break;case 10:o=t.memoizedProps.value;var i=t.type._context;At(yl,i._currentValue),i._currentValue=o;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?pr(e,t,n):(At(Nl,1&Nl.current),t=wr(e,t,n),null!==t?t.sibling:null);At(Nl,1&Nl.current);break;case 19:if(o=0!==(n&t.childLanes),0!==(64&e.flags)){if(o)return br(e,t,n);t.flags|=64}if(i=t.memoizedState,null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),At(Nl,Nl.current),o)break;return null;case 23:case 24:return t.lanes=0,sr(e,t,n)}return wr(e,t,n)}Xl=0!==(16384&e.flags)}else Xl=!1;switch(t.lanes=0,t.tag){case 2:if(o=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=Rt(t,Ws.current),Zt(t,n),i=Mn(null,t,o,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,jt(o)){var a=!0;zt(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,tn(t);var s=o.getDerivedStateFromProps;"function"==typeof s&&un(t,o,s,e),i.updater=xl,t.stateNode=i,i._reactInternals=t,pn(t,o,e,n),t=fr(null,t,o,!0,a,n)}else t.tag=0,rr(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=i._init,i=a(i._payload),t.type=i,a=t.tag=Eo(i),e=Jt(i,e),a){case 0:t=ur(null,t,i,e,n);break e;case 1:t=cr(null,t,i,e,n);break e;case 11:t=or(null,t,i,e,n);break e;case 14:t=ir(null,t,i,Jt(i.type,e),o,n);break e}throw Error(r(306,i,""))}return t;case 0:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:Jt(o,i),ur(e,t,o,i,n);case 1:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:Jt(o,i),cr(e,t,o,i,n);case 3:if(dr(t),o=t.updateQueue,null===e||null===o)throw Error(r(282));if(o=t.pendingProps,i=t.memoizedState,i=null!==i?i.element:null,nn(e,t),sn(t,o,null,n),o=t.memoizedState.element,o===i)Dn(),t=wr(e,t,n);else{if(i=t.stateNode,(a=i.hydrate)&&(Ml=Et(t.stateNode.containerInfo.firstChild),Il=t,a=Pl=!0),a){if(e=i.mutableSourceEagerHydrationData,null!=e)for(i=0;i<e.length;i+=2)a=e[i],a._workInProgressVersionPrimary=e[i+1],Bl.push(a);for(n=El(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else rr(e,t,o,n),Dn();t=t.child}return t;case 5:return wn(t),null===e&&En(t),o=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,St(o,i)?s=null:null!==a&&St(o,a)&&(t.flags|=16),lr(e,t),rr(e,t,s,n),t.child;case 6:return null===e&&En(t),null;case 13:return pr(e,t,n);case 4:return vn(t,t.stateNode.containerInfo),o=t.pendingProps,null===e?t.child=kl(t,null,o,n):rr(e,t,o,n),t.child;case 11:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:Jt(o,i),or(e,t,o,i,n);case 7:return rr(e,t,t.pendingProps,n),t.child;case 8:return rr(e,t,t.pendingProps.children,n),t.child;case 12:return rr(e,t,t.pendingProps.children,n),t.child;case 10:e:{o=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var l=t.type._context;if(At(yl,l._currentValue),l._currentValue=a,null!==s)if(l=s.value,a=ys(l,a)?0:0|("function"==typeof o._calculateChangedBits?o._calculateChangedBits(l,a):1073741823),0===a){if(s.children===i.children&&!qs.current){t=wr(e,t,n);break e}}else for(l=t.child,null!==l&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===o&&0!==(c.observedBits&a)){1===l.tag&&(c=rn(-1,n&-n),c.tag=2,on(l,c)),l.lanes|=n,c=l.alternate,null!==c&&(c.lanes|=n),Qt(l.return,n),u.lanes|=n;break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(l=s.sibling,null!==l){l.return=s.return,s=l;break}s=s.return}l=s}rr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,a=t.pendingProps,o=a.children,Zt(t,n),i=en(i,a.unstable_observedBits),o=o(i),t.flags|=1,rr(e,t,o,n),t.child;case 14:return i=t.type,a=Jt(i,t.pendingProps),a=Jt(i.type,a),ir(e,t,i,a,o,n);case 15:return ar(e,t,t.type,t.pendingProps,o,n);case 17:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:Jt(o,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,jt(o)?(e=!0,zt(t)):e=!1,Zt(t,n),fn(t,o,i),pn(t,o,i,n),fr(null,t,o,!0,e,n);case 19:return br(e,t,n);case 23:return sr(e,t,n);case 24:return sr(e,t,n)}throw Error(r(156,t.tag))},Fo.prototype.render=function(e){Bo(e,this._internalRoot,null,null)},Fo.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Bo(null,e,null,function(){t[Ks]=null})},Li=function(e){if(13===e.tag){var t=Vr();Wr(e,4,t),jo(e,4)}},Fi=function(e){if(13===e.tag){var t=Vr();Wr(e,67108864,t),jo(e,67108864)}},Ki=function(e){if(13===e.tag){var t=Vr(),n=Hr(e);Wr(e,n,t),jo(e,n)}},zi=function(e,t){return t()},Ni=function(e,t,n){switch(t){case"input":if(C(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var i=It(o);if(!i)throw Error(r(90));_(o),C(o,i)}}}break;case"textarea":B(e,n);break;case"select":t=n.value,null!=t&&I(e,!!n.multiple,t,!1)}},Y=Qr,X=function(e,t,n,r,o){var i=nu;nu|=4;try{return Wt(98,e.bind(null,t,n,r,o))}finally{nu=i,0===nu&&(Ur(),Yt())}},J=function(){0===(49&nu)&&($r(),ho())},Pi=function(e,t){var n=nu;nu|=2;try{return e(t)}finally{nu=n,0===nu&&(Ur(),Yt())}};var Bu={Events:[Tt,Nt,It,W,q,ho,{current:!1}]},Au={findFiberByHostInstance:Dt,bundleType:0,version:"17.0.0",rendererPackageName:"react-dom"},Ru={bundleType:Au.bundleType,version:Au.version,rendererPackageName:Au.rendererPackageName,rendererConfig:Au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ni.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ae(e),null===e?null:e.stateNode},findFiberByHostInstance:Au.findFiberByHostInstance||Lo,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{Xs=ju.inject(Ru),Js=ju}catch(e){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bu,t.createPortal=Vo,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw Error(r(268,Object.keys(e)))}return e=ae(t),e=null===e?null:e.stateNode},t.flushSync=function(e,t){var n=nu;if(0!==(48&n))return e(t);nu|=1;try{if(e)return Wt(99,e.bind(null,t))}finally{nu=n,Yt()}},t.hydrate=function(e,t,n){if(!Ko(t))throw Error(r(200));return Uo(null,e,t,!0,n)},t.render=function(e,t,n){if(!Ko(t))throw Error(r(200));return Uo(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ko(e))throw Error(r(40));return!!e._reactRootContainer&&(Zr(function(){Uo(null,null,e,!1,function(){e._reactRootContainer=null,e[Ks]=null})}),!0)},t.unstable_batchedUpdates=Qr,t.unstable_createPortal=function(e,t){return Vo(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!Ko(n))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return Uo(e,t,n,!1,o)},t.version="17.0.0"},function(e,t,n){"use strict";"undefined"==typeof Promise&&(n(226).enable(),window.Promise=n(225)),n(235),Object.assign=n(13)},function(e,t,n){"use strict";function r(e){return null===e||"object"!=typeof e?null:(e=C&&e[C]||e["@@iterator"],"function"==typeof e?e:null)}function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e,t,n){this.props=e,this.context=t,this.refs=D,this.updater=n||O}function a(){}function s(e,t,n){this.props=e,this.context=t,this.refs=D,this.updater=n||O}function l(e,t,n){var r,o={},i=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(i=""+t.key),t)I.call(t,r)&&!M.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===o[r]&&(o[r]=s[r]);return{$$typeof:v,type:e,key:i,ref:a,props:o,_owner:N.current}}function u(e,t){return{$$typeof:v,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function c(e){return"object"==typeof e&&null!==e&&e.$$typeof===v}function f(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}function d(e,t){return"object"==typeof e&&null!==e&&null!=e.key?f(""+e.key):t.toString(36)}function p(e,t,n,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case v:case b:l=!0}}if(l)return l=e,a=a(l),e=""===i?"."+d(l,0):i,Array.isArray(a)?(n="",null!=e&&(n=e.replace(P,"$&/")+"/"),p(a,t,n,"",function(e){return e})):null!=a&&(c(a)&&(a=u(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(P,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",Array.isArray(e))for(var f=0;f<e.length;f++){s=e[f];var h=i+d(s,f);l+=p(s,t,n,h,a)}else if(h=r(e),"function"==typeof h)for(e=h.call(e),f=0;!(s=e.next()).done;)s=s.value,
h=i+d(s,f++),l+=p(s,t,n,h,a);else if("object"===s)throw t=""+e,Error(o(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function h(e,t,n){if(null==e)return e;var r=[],o=0;return p(e,r,"","",function(e){return t.call(n,e,o++)}),r}function g(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}if(1===e._status)return e._result;throw e._result}function y(){var e=B.current;if(null===e)throw Error(o(321));return e}var m=n(13),v=60103,b=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var w=60109,_=60110,x=60112;t.Suspense=60113;var S=60115,k=60116;if("function"==typeof Symbol&&Symbol.for){var E=Symbol.for;v=E("react.element"),b=E("react.portal"),t.Fragment=E("react.fragment"),t.StrictMode=E("react.strict_mode"),t.Profiler=E("react.profiler"),w=E("react.provider"),_=E("react.context"),x=E("react.forward_ref"),t.Suspense=E("react.suspense"),S=E("react.memo"),k=E("react.lazy")}var C="function"==typeof Symbol&&Symbol.iterator,O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D={};i.prototype.isReactComponent={},i.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(o(85));this.updater.enqueueSetState(this,e,t,"setState")},i.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},a.prototype=i.prototype;var T=s.prototype=new a;T.constructor=s,m(T,i.prototype),T.isPureReactComponent=!0;var N={current:null},I=Object.prototype.hasOwnProperty,M={key:!0,ref:!0,__self:!0,__source:!0},P=/\/+/g,B={current:null},A={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:N,IsSomeRendererActing:{current:!1},assign:m};t.Children={map:h,forEach:function(e,t,n){h(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return h(e,function(){t++}),t},toArray:function(e){return h(e,function(e){return e})||[]},only:function(e){if(!c(e))throw Error(o(143));return e}},t.Component=i,t.PureComponent=s,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(o(267,e));var r=m({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=N.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)I.call(t,u)&&!M.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:v,type:e.type,key:i,ref:a,props:r,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),e={$$typeof:_,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:w,_context:e},e.Consumer=e},t.createElement=l,t.createFactory=function(e){var t=l.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:x,render:e}},t.isValidElement=c,t.lazy=function(e){return{$$typeof:k,_payload:{_status:-1,_result:e},_init:g}},t.memo=function(e,t){return{$$typeof:S,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return y().useCallback(e,t)},t.useContext=function(e,t){return y().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return y().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return y().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return y().useLayoutEffect(e,t)},t.useMemo=function(e,t){return y().useMemo(e,t)},t.useReducer=function(e,t,n){return y().useReducer(e,t,n)},t.useRef=function(e){return y().useRef(e)},t.useState=function(e){return y().useState(e)},t.version="17.0.2"},function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,o=e[r];if(!(void 0!==o&&0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return e=e[0],void 0===e?null:e}function o(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var a=2*(r+1)-1,s=e[a],l=a+1,u=e[l];if(void 0!==s&&0>i(s,n))void 0!==u&&0>i(u,s)?(e[r]=u,e[l]=n,r=l):(e[r]=s,e[a]=n,r=a);else{if(!(void 0!==u&&0>i(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}return null}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}function a(e){for(var t=r(N);null!==t;){if(null===t.callback)o(N);else{if(!(t.startTime<=e))break;o(N),t.sortIndex=t.expirationTime,n(T,t)}t=r(N)}}function s(e){if(R=!1,a(e),!A)if(null!==r(T))A=!0,u(l);else{var t=r(N);null!==t&&c(s,t.startTime-e)}}function l(e,n){A=!1,R&&(R=!1,f()),B=!0;var i=P;try{for(a(n),M=r(T);null!==M&&(!(M.expirationTime>n)||e&&!t.unstable_shouldYield());){var l=M.callback;if("function"==typeof l){M.callback=null,P=M.priorityLevel;var u=l(M.expirationTime<=n);n=t.unstable_now(),"function"==typeof u?M.callback=u:M===r(T)&&o(T),a(n)}else o(T);M=r(T)}if(null!==M)var d=!0;else{var p=r(N);null!==p&&c(s,p.startTime-n),d=!1}return d}finally{M=null,P=i,B=!1}}var u,c,f,d;if("object"==typeof performance&&"function"==typeof performance.now){var p=performance;t.unstable_now=function(){return p.now()}}else{var h=Date,g=h.now();t.unstable_now=function(){return h.now()-g}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var y=null,m=null,v=function(){if(null!==y)try{var e=t.unstable_now();y(!0,e),y=null}catch(e){throw setTimeout(v,0),e}};u=function(e){null!==y?setTimeout(u,0,e):(y=e,setTimeout(v,0))},c=function(e,t){m=setTimeout(e,t)},f=function(){clearTimeout(m)},t.unstable_shouldYield=function(){return!1},d=t.unstable_forceFrameRate=function(){}}else{var b=window.setTimeout,w=window.clearTimeout;if("undefined"!=typeof console){var _=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof _&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var x=!1,S=null,k=-1,E=5,C=0;t.unstable_shouldYield=function(){return t.unstable_now()>=C},d=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5};var O=new MessageChannel,D=O.port2;O.port1.onmessage=function(){if(null!==S){var e=t.unstable_now();C=e+E;try{S(!0,e)?D.postMessage(null):(x=!1,S=null)}catch(e){throw D.postMessage(null),e}}else x=!1},u=function(e){S=e,x||(x=!0,D.postMessage(null))},c=function(e,n){k=b(function(){e(t.unstable_now())},n)},f=function(){w(k),k=-1}}var T=[],N=[],I=1,M=null,P=3,B=!1,A=!1,R=!1,j=d;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){A||B||(A=!0,u(l))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return r(T)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"==typeof i&&null!==i?(i=i.delay,i="number"==typeof i&&0<i?a+i:a):i=a,e){case 1:var d=-1;break;case 2:d=250;break;case 5:d=1073741823;break;case 4:d=1e4;break;default:d=5e3}return d=i+d,e={id:I++,callback:o,priorityLevel:e,startTime:i,expirationTime:d,sortIndex:-1},i>a?(e.sortIndex=i,n(N,e),null===r(T)&&e===r(N)&&(R?f():R=!0,c(s,i-a))):(e.sortIndex=d,n(T,e),A||B||(A=!0,u(l))),e},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}},function(e,t,n){"use strict";e.exports=n(231)},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return g[h]=r,p(h),h++}function o(e){delete g[e]}function i(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function a(e){if(y)setTimeout(a,0,e);else{var t=g[e];if(t){y=!0;try{i(t)}finally{o(e),y=!1}}}}function s(){p=function(e){t.nextTick(function(){a(e)})}}function l(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function u(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),p=function(n){e.postMessage(t+n,"*")}}function c(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;a(t)},p=function(t){e.port2.postMessage(t)}}function f(){var e=m.documentElement;p=function(t){var n=m.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}function d(){p=function(e){setTimeout(a,0,e)}}if(!e.setImmediate){var p,h=1,g={},y=!1,m=e.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(e);v=v&&v.setTimeout?v:e,"[object process]"==={}.toString.call(e.process)?s():l()?u():e.MessageChannel?c():m&&"onreadystatechange"in m.createElement("script")?f():d(),v.setImmediate=r,v.clearImmediate=o}}("undefined"==typeof self?"undefined"==typeof e?this:e:self)}).call(t,function(){return this}(),n(224))},function(e,t,n){var r;!function(o,i){"use strict";var a="0.7.28",s="",l="?",u="function",c="undefined",f="object",d="string",p="major",h="model",g="name",y="type",m="vendor",v="version",b="architecture",w="console",_="mobile",x="tablet",S="smarttv",k="wearable",E="embedded",C=255,O={extend:function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2===0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},has:function(e,t){return typeof e===d&&t.toLowerCase().indexOf(e.toLowerCase())!==-1},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===d?e.replace(/[^\d\.]/g,"").split(".")[0]:i},trim:function(e,t){return e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),typeof t===c?e:e.substring(0,C)}},D={rgx:function(e,t){for(var n,r,o,a,s,l,c=0;c<t.length&&!s;){var d=t[c],p=t[c+1];for(n=r=0;n<d.length&&!s;)if(s=d[n++].exec(e))for(o=0;o<p.length;o++)l=s[++r],a=p[o],typeof a===f&&a.length>0?2==a.length?typeof a[1]==u?this[a[0]]=a[1].call(this,l):this[a[0]]=a[1]:3==a.length?typeof a[1]!==u||a[1].exec&&a[1].test?this[a[0]]=l?l.replace(a[1],a[2]):i:this[a[0]]=l?a[1].call(this,l,a[2]):i:4==a.length&&(this[a[0]]=l?a[3].call(this,l.replace(a[1],a[2])):i):this[a]=l?l:i;c+=2}},str:function(e,t){for(var n in t)if(typeof t[n]===f&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(O.has(t[n][r],e))return n===l?i:n}else if(O.has(t[n],e))return n===l?i:n;return e}},T={browser:{oldSafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}},oldEdge:{version:{.1:"12.",21:"13.",31:"14.",39:"15.",41:"16.",42:"17.",44:"18."}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},N={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[g,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[g,"Edge"]],[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6})\b.+version\/([\w\.-]+)/i,/(opera)(?:.+version\/|[\/\s]+)([\w\.]+)/i],[g,v],[/opios[\/\s]+([\w\.]+)/i],[v,[g,"Opera Mini"]],[/\sopr\/([\w\.]+)/i],[v,[g,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(ba?idubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i,/(rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([\w\.]+)/i,/(weibo)__([\d\.]+)/i],[g,v],[/(?:[\s\/]uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[v,[g,"UCBrowser"]],[/(?:windowswechat)?\sqbcore\/([\w\.]+)\b.*(?:windowswechat)?/i],[v,[g,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[v,[g,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[g,"Konqueror"]],[/trident.+rv[:\s]([\w\.]{1,9})\b.+like\sgecko/i],[v,[g,"IE"]],[/yabrowser\/([\w\.]+)/i],[v,[g,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[g,/(.+)/,"$1 Secure Browser"],v],[/focus\/([\w\.]+)/i],[v,[g,"Firefox Focus"]],[/opt\/([\w\.]+)/i],[v,[g,"Opera Touch"]],[/coc_coc_browser\/([\w\.]+)/i],[v,[g,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[g,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[g,"Opera Coast"]],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[v,[g,"MIUI Browser"]],[/fxios\/([\w\.-]+)/i],[v,[g,"Firefox"]],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[g,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[g,/(.+)/,"$1 Browser"],v],[/(comodo_dragon)\/([\w\.]+)/i],[[g,/_/g," "],v],[/\s(electron)\/([\w\.]+)\ssafari/i,/(tesla)(?:\sqtcarbrowser|\/(20[12]\d\.[\w\.-]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/\s]?([\w\.]+)/i],[g,v],[/(MetaSr)[\/\s]?([\w\.]+)/i,/(LBBROWSER)/i],[g],[/;fbav\/([\w\.]+);/i],[v,[g,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[g,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/\s]([\w\.-]+)/i],[g,v],[/\bgsa\/([\w\.]+)\s.*safari\//i],[v,[g,"GSA"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[v,[g,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[g,"Chrome WebView"],v],[/droid.+\sversion\/([\w\.]+)\b.+(?:mobile\ssafari|safari)/i],[v,[g,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[g,v],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[v,[g,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[v,g],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[g,[v,D.str,T.browser.oldSafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[g,v],[/(navigator|netscape)\/([\w\.-]+)/i],[[g,"Netscape"],v],[/ile\svr;\srv:([\w\.]+)\).+firefox/i],[v,[g,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[g,v]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[b,"amd64"]],[/(ia32(?=;))/i],[[b,O.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[b,"ia32"]],[/\b(aarch64|armv?8e?l?)\b/i],[[b,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[b,"armhf"]],[/windows\s(ce|mobile);\sppc;/i],[[b,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[b,/ower/,"",O.lowerize]],[/(sun4\w)[;\)]/i],[[b,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?:64|(?=v(?:[1-7]|[5-7]1)l?|;|eabi))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[b,O.lowerize]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus\s10)/i],[h,[m,"Samsung"],[y,x]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy\snexus)/i,/\ssamsung[\s-]([\w-]+)/i,/sec-(sgh\w+)/i],[h,[m,"Samsung"],[y,_]],[/\((ip(?:hone|od)[\s\w]*);/i],[h,[m,"Apple"],[y,_]],[/\((ipad);[\w\s\),;-]+apple/i,/applecoremedia\/[\w\.]+\s\((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[m,"Apple"],[y,x]],[/\b((?:agr|ags[23]|bah2?|sht?)-a?[lw]\d{2})/i],[h,[m,"Huawei"],[y,x]],[/d\/huawei([\w\s-]+)[;\)]/i,/\b(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?|ele-l\d\d)/i,/\b(\w{2,4}-[atu][ln][01259][019])[;\)\s]/i],[h,[m,"Huawei"],[y,_]],[/\b(poco[\s\w]+)(?:\sbuild|\))/i,/\b;\s(\w+)\sbuild\/hm\1/i,/\b(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/\b(redmi[\s\-_]?(?:note|k)?[\w\s_]+)(?:\sbuild|\))/i,/\b(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[h,/_/g," "],[m,"Xiaomi"],[y,_]],[/\b(mi[\s\-_]?(?:pad)(?:[\w\s_]+))(?:\sbuild|\))/i],[[h,/_/g," "],[m,"Xiaomi"],[y,x]],[/;\s(\w+)\sbuild.+\soppo/i,/\s(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[h,[m,"OPPO"],[y,_]],[/\svivo\s(\w+)(?:\sbuild|\))/i,/\s(v[12]\d{3}\w?[at])(?:\sbuild|;)/i],[h,[m,"Vivo"],[y,_]],[/\s(rmx[12]\d{3})(?:\sbuild|;)/i],[h,[m,"Realme"],[y,_]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)\b[\w\s]+build\//i,/\smot(?:orola)?[\s-](\w*)/i,/((?:moto[\s\w\(\)]+|xt\d{3,4}|nexus\s6)(?=\sbuild|\)))/i],[h,[m,"Motorola"],[y,_]],[/\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[h,[m,"Motorola"],[y,x]],[/((?=lg)?[vl]k\-?\d{3})\sbuild|\s3\.[\s\w;-]{10}lg?-([06cv9]{3,4})/i],[h,[m,"LG"],[y,x]],[/(lm-?f100[nv]?|nexus\s[45])/i,/lg[e;\s\/-]+((?!browser|netcast)\w+)/i,/\blg(\-?[\d\w]+)\sbuild/i],[h,[m,"LG"],[y,_]],[/(ideatab[\w\-\s]+)/i,/lenovo\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+)|yt[\d\w-]{6}|tb[\d\w-]{6})/i],[h,[m,"Lenovo"],[y,x]],[/(?:maemo|nokia).*(n900|lumia\s\d+)/i,/nokia[\s_-]?([\w\.-]*)/i],[[h,/_/g," "],[m,"Nokia"],[y,_]],[/droid.+;\s(pixel\sc)[\s)]/i],[h,[m,"Google"],[y,x]],[/droid.+;\s(pixel[\s\daxl]{0,6})(?:\sbuild|\))/i],[h,[m,"Google"],[y,_]],[/droid.+\s([c-g]\d{4}|so[-l]\w+|xq-a\w[4-7][12])(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[m,"Sony"],[y,_]],[/sony\stablet\s[ps]\sbuild\//i,/(?:sony)?sgp\w+(?:\sbuild\/|\))/i],[[h,"Xperia Tablet"],[m,"Sony"],[y,x]],[/\s(kb2005|in20[12]5|be20[12][59])\b/i,/\ba000(1)\sbuild/i,/\boneplus\s(a\d{4})[\s)]/i],[h,[m,"OnePlus"],[y,_]],[/(alexa)webm/i,/(kf[a-z]{2}wi)(\sbuild\/|\))/i,/(kf[a-z]+)(\sbuild\/|\)).+silk\//i],[h,[m,"Amazon"],[y,x]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[h,"Fire Phone"],[m,"Amazon"],[y,_]],[/\((playbook);[\w\s\),;-]+(rim)/i],[h,m,[y,x]],[/((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10;\s(\w+)/i],[h,[m,"BlackBerry"],[y,_]],[/(?:\b|asus_)(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus\s7|padfone|p00[cj])/i],[h,[m,"ASUS"],[y,x]],[/\s(z[es]6[027][01][km][ls]|zenfone\s\d\w?)\b/i],[h,[m,"ASUS"],[y,_]],[/(nexus\s9)/i],[h,[m,"HTC"],[y,x]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[m,[h,/_/g," "],[y,_]],[/droid[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[h,[m,"Acer"],[y,x]],[/droid.+;\s(m[1-5]\snote)\sbuild/i,/\bmz-([\w-]{2,})/i],[h,[m,"Meizu"],[y,_]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i,/(microsoft);\s(lumia[\s\w]+)/i,/(lenovo)[_\s-]?([\w-]+)/i,/linux;.+(jolla);/i,/droid.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[m,h,[y,_]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i,/[;\/]\s?(le[\s\-]+pan)[\s\-]+(\w{1,9})\sbuild/i,/[;\/]\s?(trinity)[\-\s]*(t\d{3})\sbuild/i,/\b(gigaset)[\s\-]+(q\w{1,9})\sbuild/i,/\b(vodafone)\s([\w\s]+)(?:\)|\sbuild)/i],[m,h,[y,x]],[/\s(surface\sduo)\s/i],[h,[m,"Microsoft"],[y,x]],[/droid\s[\d\.]+;\s(fp\du?)\sbuild/i],[h,[m,"Fairphone"],[y,_]],[/\s(u304aa)\sbuild/i],[h,[m,"AT&T"],[y,_]],[/sie-(\w*)/i],[h,[m,"Siemens"],[y,_]],[/[;\/]\s?(rct\w+)\sbuild/i],[h,[m,"RCA"],[y,x]],[/[;\/\s](venue[\d\s]{2,7})\sbuild/i],[h,[m,"Dell"],[y,x]],[/[;\/]\s?(q(?:mv|ta)\w+)\sbuild/i],[h,[m,"Verizon"],[y,x]],[/[;\/]\s(?:barnes[&\s]+noble\s|bn[rt])([\w\s\+]*)\sbuild/i],[h,[m,"Barnes & Noble"],[y,x]],[/[;\/]\s(tm\d{3}\w+)\sbuild/i],[h,[m,"NuVision"],[y,x]],[/;\s(k88)\sbuild/i],[h,[m,"ZTE"],[y,x]],[/;\s(nx\d{3}j)\sbuild/i],[h,[m,"ZTE"],[y,_]],[/[;\/]\s?(gen\d{3})\sbuild.*49h/i],[h,[m,"Swiss"],[y,_]],[/[;\/]\s?(zur\d{3})\sbuild/i],[h,[m,"Swiss"],[y,x]],[/[;\/]\s?((zeki)?tb.*\b)\sbuild/i],[h,[m,"Zeki"],[y,x]],[/[;\/]\s([yr]\d{2})\sbuild/i,/[;\/]\s(dragon[\-\s]+touch\s|dt)(\w{5})\sbuild/i],[[m,"Dragon Touch"],h,[y,x]],[/[;\/]\s?(ns-?\w{0,9})\sbuild/i],[h,[m,"Insignia"],[y,x]],[/[;\/]\s?((nxa|Next)-?\w{0,9})\sbuild/i],[h,[m,"NextBook"],[y,x]],[/[;\/]\s?(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05]))\sbuild/i],[[m,"Voice"],h,[y,_]],[/[;\/]\s?(lvtel\-)?(v1[12])\sbuild/i],[[m,"LvTel"],h,[y,_]],[/;\s(ph-1)\s/i],[h,[m,"Essential"],[y,_]],[/[;\/]\s?(v(100md|700na|7011|917g).*\b)\sbuild/i],[h,[m,"Envizen"],[y,x]],[/[;\/]\s?(trio[\s\w\-\.]+)\sbuild/i],[h,[m,"MachSpeed"],[y,x]],[/[;\/]\s?tu_(1491)\sbuild/i],[h,[m,"Rotor"],[y,x]],[/(shield[\w\s]+)\sbuild/i],[h,[m,"Nvidia"],[y,x]],[/(sprint)\s(\w+)/i],[m,h,[y,_]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[m,"Microsoft"],[y,_]],[/droid\s[\d\.]+;\s(cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[m,"Zebra"],[y,x]],[/droid\s[\d\.]+;\s(ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[m,"Zebra"],[y,_]],[/\s(ouya)\s/i,/(nintendo)\s([wids3utch]+)/i],[m,h,[y,w]],[/droid.+;\s(shield)\sbuild/i],[h,[m,"Nvidia"],[y,w]],[/(playstation\s[345portablevi]+)/i],[h,[m,"Sony"],[y,w]],[/[\s\(;](xbox(?:\sone)?(?!;\sxbox))[\s\);]/i],[h,[m,"Microsoft"],[y,w]],[/smart-tv.+(samsung)/i],[m,[y,S]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[m,"Samsung"],[y,S]],[/(?:linux;\snetcast.+smarttv|lg\snetcast\.tv-201\d)/i],[[m,"LG"],[y,S]],[/(apple)\s?tv/i],[m,[h,"Apple TV"],[y,S]],[/crkey/i],[[h,"Chromecast"],[m,"Google"],[y,S]],[/droid.+aft([\w])(\sbuild\/|\))/i],[h,[m,"Amazon"],[y,S]],[/\(dtv[\);].+(aquos)/i],[h,[m,"Sharp"],[y,S]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[m,O.trim],[h,O.trim],[y,S]],[/[\s\/\(](android\s|smart[-\s]?|opera\s)tv[;\)\s]/i],[[y,S]],[/((pebble))app\/[\d\.]+\s/i],[m,h,[y,k]],[/droid.+;\s(glass)\s\d/i],[h,[m,"Google"],[y,k]],[/droid\s[\d\.]+;\s(wt63?0{2,3})\)/i],[h,[m,"Zebra"],[y,k]],[/(tesla)(?:\sqtcarbrowser|\/20[12]\d\.[\w\.-]+)/i],[m,[y,E]],[/droid .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[h,[y,_]],[/droid .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[h,[y,x]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[y,O.lowerize]],[/(android[\w\.\s\-]{0,9});.+build/i],[h,[m,"Generic"]],[/(phone)/i],[[y,_]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[v,[g,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[g,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[g,v],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,g]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[g,v],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)(?!.+xbox)/i],[g,[v,D.str,T.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[g,"Windows"],[v,D.str,T.os.windows.version]],[/ip[honead]{2,4}\b(?:.*os\s([\w]+)\slike\smac|;\sopera)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[g,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)(?!.+haiku)/i],[[g,"Mac OS"],[v,/_/g,"."]],[/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/\((series40);/i],[g,v],[/\(bb(10);/i],[v,[g,"BlackBerry"]],[/(?:symbian\s?os|symbos|s60(?=;)|series60)[\/\s-]?([\w\.]*)/i],[v,[g,"Symbian"]],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[g,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[g,"webOS"]],[/crkey\/([\d\.]+)/i],[v,[g,"Chromecast"]],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[g,"Chromium OS"],v],[/(nintendo|playstation)\s([wids345portablevuch]+)/i,/(xbox);\s+xbox\s([^\);]+)/i,/(mint)[\/\s\(\)]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?=\slinux)|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus|raspbian)(?:\sgnu\/linux)?(?:\slinux)?[\/\s-]?(?!chrom|package)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i,/\s([frentopc-]{0,4}bsd|dragonfly)\s?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku)\s(\w+)/i],[g,v],[/(sunos)\s?([\w\.\d]*)/i],[[g,"Solaris"],v],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[g,v]]},I=function(e,t){if("object"==typeof e&&(t=e,e=i),!(this instanceof I))return new I(e,t).getResult();var n=e||("undefined"!=typeof o&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:s),r=t?O.extend(N,t):N;return this.getBrowser=function(){var e={name:i,version:i};return D.rgx.call(e,n,r.browser),e.major=O.major(e.version),e},this.getCPU=function(){var e={architecture:i};return D.rgx.call(e,n,r.cpu),e},this.getDevice=function(){var e={vendor:i,model:i,type:i};return D.rgx.call(e,n,r.device),e},this.getEngine=function(){var e={name:i,version:i};return D.rgx.call(e,n,r.engine),e},this.getOS=function(){var e={name:i,version:i};return D.rgx.call(e,n,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===d&&e.length>C?O.trim(e,C):e,this},this.setUA(n),this};I.VERSION=a,I.BROWSER={NAME:g,MAJOR:p,VERSION:v},I.CPU={ARCHITECTURE:b},I.DEVICE={MODEL:h,VENDOR:m,TYPE:y,CONSOLE:w,MOBILE:_,SMARTTV:S,TABLET:x,WEARABLE:k,EMBEDDED:E},I.ENGINE={NAME:g,VERSION:v},I.OS={NAME:g,VERSION:v},typeof t!==c?(typeof e!==c&&e.exports&&(t=e.exports=I),t.UAParser=I):(r=function(){return I}.call(t,n,t,e),!(r!==i&&(e.exports=r)));var M="undefined"!=typeof o&&(o.jQuery||o.Zepto);if(M&&!M.ua){var P=new I;M.ua=P.getResult(),M.ua.get=function(){return P.getUA()},M.ua.set=function(e){P.setUA(e);var t=P.getResult();for(var n in t)M.ua[n]=t[n]}}}("object"==typeof window?window:this)},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return m.iterable&&(t[Symbol.iterator]=function(){return t}),t}function o(e){this.map={},e instanceof o?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function i(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function l(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function u(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function c(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(m.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(m.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(m.arrayBuffer&&m.blob&&b(e))this._bodyArrayBuffer=c(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!w(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return l(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function d(e){var t=e.toUpperCase();return _.indexOf(t)>-1?t:e}function p(e,t){t=t||{};var n=t.body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new o(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new o(t.headers)),this.method=d(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function g(e){var t=new o;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}}),t}function y(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new o(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var m={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(m.arrayBuffer)var v=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(e){return e&&DataView.prototype.isPrototypeOf(e)},w=ArrayBuffer.isView||function(e){return e&&v.indexOf(Object.prototype.toString.call(e))>-1};o.prototype.append=function(e,r){e=t(e),r=n(r);var o=this.map[e];this.map[e]=o?o+","+r:r},o.prototype.delete=function(e){delete this.map[t(e)]},o.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},o.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},o.prototype.set=function(e,r){this.map[t(e)]=n(r)},o.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},o.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},o.prototype.values=function(){
var e=[];return this.forEach(function(t){e.push(t)}),r(e)},o.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},m.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},f.call(p.prototype),f.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var x=[301,302,303,307,308];y.redirect=function(e,t){if(x.indexOf(t)===-1)throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},e.Headers=o,e.Request=p,e.Response=y,e.fetch=function(e,t){return new Promise(function(n,r){var o=new p(e,t),i=new XMLHttpRequest;i.onload=function(){var e={status:i.status,statusText:i.statusText,headers:g(i.getAllResponseHeaders()||"")};e.url="responseURL"in i?i.responseURL:e.headers.get("X-Request-URL");var t="response"in i?i.response:i.responseText;n(new y(t,e))},i.onerror=function(){r(new TypeError("Network request failed"))},i.ontimeout=function(){r(new TypeError("Network request failed"))},i.open(o.method,o.url,!0),"include"===o.credentials&&(i.withCredentials=!0),"responseType"in i&&m.blob&&(i.responseType="blob"),o.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),i.send("undefined"==typeof o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)}]));
//# sourceMappingURL=main.f017e1bd.js.map
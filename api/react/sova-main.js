!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="/",t(0)}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"function":break;case"object":e[t]=function(t){var n=t.slice(1),r=e[t[0]];return function(e,t,o){r.apply(this,[e,t,o].concat(n))}}(e[t]);break;default:e[t]=e[e[t]]}return e}([function(e,t,n){n(233),e.exports=n(121)},function(e,t,n){"use strict";e.exports=n(234)},function(e,t,n){!function(t,n){e.exports=n()}(this,function(){"use strict";function e(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function t(e){return i(e)?e:T(e)}function n(e){return a(e)?e:N(e)}function r(e){return l(e)?e:M(e)}function o(e){return i(e)&&!s(e)?e:I(e)}function i(e){return!(!e||!e[un])}function a(e){return!(!e||!e[cn])}function l(e){return!(!e||!e[fn])}function s(e){return a(e)||l(e)}function u(e){return!(!e||!e[dn])}function c(e){return e.value=!1,e}function f(e){e&&(e.value=!0)}function d(){}function p(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),o=0;o<n;o++)r[o]=e[o+t];return r}function h(e){return void 0===e.size&&(e.size=e.__iterate(v)),e.size}function g(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?h(e)+t:t}function v(){return!0}function y(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function m(e,t){return w(e,t,0)}function b(e,t){return w(e,t,t)}function w(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}function x(e){this.next=e}function _(e,t,n,r){var o=0===e?t:1===e?n:[t,n];return r?r.value=o:r={value:o,done:!1},r}function S(){return{value:void 0,done:!0}}function k(e){return!!O(e)}function E(e){return e&&"function"==typeof e.next}function C(e){var t=O(e);return t&&t.call(e)}function O(e){var t=e&&(Sn&&e[Sn]||e[kn]);if("function"==typeof t)return t}function D(e){return e&&"number"==typeof e.length}function T(e){return null===e||void 0===e?L():i(e)?e.toSeq():K(e)}function N(e){return null===e||void 0===e?L().toKeyedSeq():i(e)?a(e)?e.toSeq():e.fromEntrySeq():j(e)}function M(e){return null===e||void 0===e?L():i(e)?a(e)?e.entrySeq():e.toIndexedSeq():z(e)}function I(e){return(null===e||void 0===e?L():i(e)?a(e)?e.entrySeq():e:z(e)).toSetSeq()}function B(e){this._array=e,this.size=e.length}function P(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function A(e){this._iterable=e,this.size=e.length||e.size}function R(e){this._iterator=e,this._iteratorCache=[]}function F(e){return!(!e||!e[Cn])}function L(){return On||(On=new B([]))}function j(e){var t=Array.isArray(e)?new B(e).fromEntrySeq():E(e)?new R(e).fromEntrySeq():k(e)?new A(e).fromEntrySeq():"object"==typeof e?new P(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function z(e){var t=U(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function K(e){var t=U(e)||"object"==typeof e&&new P(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function U(e){return D(e)?new B(e):E(e)?new R(e):k(e)?new A(e):void 0}function V(e,t,n,r){var o=e._cache;if(o){for(var i=o.length-1,a=0;a<=i;a++){var l=o[n?i-a:a];if(t(l[1],r?l[0]:a,e)===!1)return a+1}return a}return e.__iterateUncached(t,n)}function H(e,t,n,r){var o=e._cache;if(o){var i=o.length-1,a=0;return new x(function(){var e=o[n?i-a:a];return a++>i?S():_(t,r?e[0]:a-1,e[1])})}return e.__iteratorUncached(t,n)}function W(e,t){return t?q(t,e,"",{"":e}):Y(e)}function q(e,t,n,r){return Array.isArray(t)?e.call(r,n,M(t).map(function(n,r){return q(e,n,r,t)})):X(t)?e.call(r,n,N(t).map(function(n,r){return q(e,n,r,t)})):t}function Y(e){return Array.isArray(e)?M(e).map(Y).toList():X(e)?N(e).map(Y).toMap():e}function X(e){return e&&(e.constructor===Object||void 0===e.constructor)}function $(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function J(e,t){if(e===t)return!0;if(!i(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||a(e)!==a(t)||l(e)!==l(t)||u(e)!==u(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!s(e);if(u(e)){var r=e.entries();return t.every(function(e,t){var o=r.next().value;return o&&$(o[1],e)&&(n||$(o[0],t))})&&r.next().done}var o=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{o=!0;var c=e;e=t,t=c}var f=!0,d=t.__iterate(function(t,r){if(n?!e.has(t):o?!$(t,e.get(r,yn)):!$(e.get(r,yn),t))return f=!1,!1});return f&&e.size===d}function G(e,t){if(!(this instanceof G))return new G(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(Dn)return Dn;Dn=this}}function Q(e,t){if(!e)throw new Error(t)}function Z(e,t,n){if(!(this instanceof Z))return new Z(e,t,n);if(Q(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(Tn)return Tn;Tn=this}}function ee(){throw TypeError("Abstract")}function te(){}function ne(){}function re(){}function oe(e){return e>>>1&1073741824|3221225471&e}function ie(e){if(e===!1||null===e||void 0===e)return 0;if("function"==typeof e.valueOf&&(e=e.valueOf(),e===!1||null===e||void 0===e))return 0;if(e===!0)return 1;var t=typeof e;if("number"===t){var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)e/=4294967295,n^=e;return oe(n)}if("string"===t)return e.length>Fn?ae(e):le(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return se(e);if("function"==typeof e.toString)return le(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function ae(e){var t=zn[e];return void 0===t&&(t=le(e),jn===Ln&&(jn=0,zn={}),jn++,zn[e]=t),t}function le(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return oe(t)}function se(e){var t;if(Pn&&(t=Nn.get(e),void 0!==t))return t;if(t=e[Rn],void 0!==t)return t;if(!Bn){if(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Rn],void 0!==t)return t;if(t=ue(e),void 0!==t)return t}if(t=++An,1073741824&An&&(An=0),Pn)Nn.set(e,t);else{if(void 0!==In&&In(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Bn)Object.defineProperty(e,Rn,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Rn]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Rn]=t}}return t}function ue(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function ce(e){Q(e!==1/0,"Cannot perform this action with an infinite size.")}function fe(e){return null===e||void 0===e?_e():de(e)&&!u(e)?e:_e().withMutations(function(t){var r=n(e);ce(r.size),r.forEach(function(e,n){return t.set(n,e)})})}function de(e){return!(!e||!e[Kn])}function pe(e,t){this.ownerID=e,this.entries=t}function he(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function ge(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function ve(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function ye(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function me(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&we(e._root)}function be(e,t){return _(e,t[0],t[1])}function we(e,t){return{node:e,index:0,__prev:t}}function xe(e,t,n,r){var o=Object.create(Un);return o.size=e,o._root=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function _e(){return Vn||(Vn=xe(0))}function Se(e,t,n){var r,o;if(e._root){var i=c(mn),a=c(bn);if(r=ke(e._root,e.__ownerID,0,void 0,t,n,i,a),!a.value)return e;o=e.size+(i.value?n===yn?-1:1:0)}else{if(n===yn)return e;o=1,r=new pe(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=o,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?xe(o,r):_e()}function ke(e,t,n,r,o,i,a,l){return e?e.update(t,n,r,o,i,a,l):i===yn?e:(f(l),f(a),new ye(t,r,[o,i]))}function Ee(e){return e.constructor===ye||e.constructor===ve}function Ce(e,t,n,r,o){if(e.keyHash===r)return new ve(t,r,[e.entry,o]);var i,a=(0===n?e.keyHash:e.keyHash>>>n)&vn,l=(0===n?r:r>>>n)&vn,s=a===l?[Ce(e,t,n+hn,r,o)]:(i=new ye(t,r,o),a<l?[e,i]:[i,e]);return new he(t,1<<a|1<<l,s)}function Oe(e,t,n,r){e||(e=new d);for(var o=new ye(e,ie(n),[n,r]),i=0;i<t.length;i++){var a=t[i];o=o.update(e,0,void 0,a[0],a[1])}return o}function De(e,t,n,r){for(var o=0,i=0,a=new Array(n),l=0,s=1,u=t.length;l<u;l++,s<<=1){var c=t[l];void 0!==c&&l!==r&&(o|=s,a[i++]=c)}return new he(e,o,a)}function Te(e,t,n,r,o){for(var i=0,a=new Array(gn),l=0;0!==n;l++,n>>>=1)a[l]=1&n?t[i++]:void 0;return a[r]=o,new ge(e,i+1,a)}function Ne(e,t,r){for(var o=[],a=0;a<r.length;a++){var l=r[a],s=n(l);i(l)||(s=s.map(function(e){return W(e)})),o.push(s)}return Be(e,t,o)}function Me(e,t,n){return e&&e.mergeDeep&&i(t)?e.mergeDeep(t):$(e,t)?e:t}function Ie(e){return function(t,n,r){if(t&&t.mergeDeepWith&&i(n))return t.mergeDeepWith(e,n);var o=e(t,n,r);return $(t,o)?t:o}}function Be(e,t,n){return n=n.filter(function(e){return 0!==e.size}),0===n.length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations(function(e){for(var r=t?function(n,r){e.update(r,yn,function(e){return e===yn?n:t(e,n,r)})}:function(t,n){e.set(n,t)},o=0;o<n.length;o++)n[o].forEach(r)}):e.constructor(n[0])}function Pe(e,t,n,r){var o=e===yn,i=t.next();if(i.done){var a=o?n:e,l=r(a);return l===a?e:l}Q(o||e&&e.set,"invalid keyPath");var s=i.value,u=o?yn:e.get(s,yn),c=Pe(u,t,n,r);return c===u?e:c===yn?e.remove(s):(o?_e():e).set(s,c)}function Ae(e){return e-=e>>1&1431655765,e=(858993459&e)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,127&e}function Re(e,t,n,r){var o=r?e:p(e);return o[t]=n,o}function Fe(e,t,n,r){var o=e.length+1;if(r&&t+1===o)return e[t]=n,e;for(var i=new Array(o),a=0,l=0;l<o;l++)l===t?(i[l]=n,a=-1):i[l]=e[l+a];return i}function Le(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var o=new Array(r),i=0,a=0;a<r;a++)a===t&&(i=1),o[a]=e[a+i];return o}function je(e){var t=He();if(null===e||void 0===e)return t;if(ze(e))return e;var n=r(e),o=n.size;return 0===o?t:(ce(o),o>0&&o<gn?Ve(0,o,hn,null,new Ke(n.toArray())):t.withMutations(function(e){e.setSize(o),n.forEach(function(t,n){return e.set(n,t)})}))}function ze(e){return!(!e||!e[Yn])}function Ke(e,t){this.array=e,this.ownerID=t}function Ue(e,t){function n(e,t,n){return 0===t?r(e,n):o(e,t,n)}function r(e,n){var r=n===l?s&&s.array:e&&e.array,o=n>i?0:i-n,u=a-n;return u>gn&&(u=gn),function(){if(o===u)return Jn;var e=t?--u:o++;return r&&r[e]}}function o(e,r,o){var l,s=e&&e.array,u=o>i?0:i-o>>r,c=(a-o>>r)+1;return c>gn&&(c=gn),function(){for(;;){if(l){var e=l();if(e!==Jn)return e;l=null}if(u===c)return Jn;var i=t?--c:u++;l=n(s&&s[i],r-hn,o+(i<<r))}}}var i=e._origin,a=e._capacity,l=Ge(a),s=e._tail;return n(e._root,e._level,0)}function Ve(e,t,n,r,o,i,a){var l=Object.create(Xn);return l.size=t-e,l._origin=e,l._capacity=t,l._level=n,l._root=r,l._tail=o,l.__ownerID=i,l.__hash=a,l.__altered=!1,l}function He(){return $n||($n=Ve(0,0,hn))}function We(e,t,n){if(t=g(e,t),t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(e){t<0?$e(e,t).set(0,n):$e(e,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,o=e._root,i=c(bn);return t>=Ge(e._capacity)?r=qe(r,e.__ownerID,0,t,n,i):o=qe(o,e.__ownerID,e._level,t,n,i),i.value?e.__ownerID?(e._root=o,e._tail=r,e.__hash=void 0,e.__altered=!0,e):Ve(e._origin,e._capacity,e._level,o,r):e}function qe(e,t,n,r,o,i){var a=r>>>n&vn,l=e&&a<e.array.length;if(!l&&void 0===o)return e;var s;if(n>0){var u=e&&e.array[a],c=qe(u,t,n-hn,r,o,i);return c===u?e:(s=Ye(e,t),s.array[a]=c,s)}return l&&e.array[a]===o?e:(f(i),s=Ye(e,t),void 0===o&&a===s.array.length-1?s.array.pop():s.array[a]=o,s)}function Ye(e,t){return t&&e&&t===e.ownerID?e:new Ke(e?e.array.slice():[],t)}function Xe(e,t){if(t>=Ge(e._capacity))return e._tail;if(t<1<<e._level+hn){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&vn],r-=hn;return n}}function $e(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new d,o=e._origin,i=e._capacity,a=o+t,l=void 0===n?i:n<0?i+n:o+n;if(a===o&&l===i)return e;if(a>=l)return e.clear();for(var s=e._level,u=e._root,c=0;a+c<0;)u=new Ke(u&&u.array.length?[void 0,u]:[],r),s+=hn,c+=1<<s;c&&(a+=c,o+=c,l+=c,i+=c);for(var f=Ge(i),p=Ge(l);p>=1<<s+hn;)u=new Ke(u&&u.array.length?[u]:[],r),s+=hn;var h=e._tail,g=p<f?Xe(e,l-1):p>f?new Ke([],r):h;if(h&&p>f&&a<i&&h.array.length){u=Ye(u,r);for(var v=u,y=s;y>hn;y-=hn){var m=f>>>y&vn;v=v.array[m]=Ye(v.array[m],r)}v.array[f>>>hn&vn]=h}if(l<i&&(g=g&&g.removeAfter(r,0,l)),a>=p)a-=p,l-=p,s=hn,u=null,g=g&&g.removeBefore(r,0,a);else if(a>o||p<f){for(c=0;u;){var b=a>>>s&vn;if(b!==p>>>s&vn)break;b&&(c+=(1<<s)*b),s-=hn,u=u.array[b]}u&&a>o&&(u=u.removeBefore(r,s,a-c)),u&&p<f&&(u=u.removeAfter(r,s,p-c)),c&&(a-=c,l-=c)}return e.__ownerID?(e.size=l-a,e._origin=a,e._capacity=l,e._level=s,e._root=u,e._tail=g,e.__hash=void 0,e.__altered=!0,e):Ve(a,l,s,u,g)}function Je(e,t,n){for(var o=[],a=0,l=0;l<n.length;l++){var s=n[l],u=r(s);u.size>a&&(a=u.size),i(s)||(u=u.map(function(e){return W(e)})),o.push(u)}return a>e.size&&(e=e.setSize(a)),Be(e,t,o)}function Ge(e){return e<gn?0:e-1>>>hn<<hn}function Qe(e){return null===e||void 0===e?tt():Ze(e)?e:tt().withMutations(function(t){var r=n(e);ce(r.size),r.forEach(function(e,n){return t.set(n,e)})})}function Ze(e){return de(e)&&u(e)}function et(e,t,n,r){var o=Object.create(Qe.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=n,o.__hash=r,o}function tt(){return Gn||(Gn=et(_e(),He()))}function nt(e,t,n){var r,o,i=e._map,a=e._list,l=i.get(t),s=void 0!==l;if(n===yn){if(!s)return e;a.size>=gn&&a.size>=2*i.size?(o=a.filter(function(e,t){return void 0!==e&&l!==t}),r=o.toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(r.__ownerID=o.__ownerID=e.__ownerID)):(r=i.remove(t),o=l===a.size-1?a.pop():a.set(l,void 0))}else if(s){if(n===a.get(l)[1])return e;r=i,o=a.set(l,[t,n])}else r=i.set(t,a.size),o=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=o,e.__hash=void 0,e):et(r,o)}function rt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function ot(e){this._iter=e,this.size=e.size}function it(e){this._iter=e,this.size=e.size}function at(e){this._iter=e,this.size=e.size}function lt(e){var t=Dt(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=Tt,t.__iterateUncached=function(t,n){var r=this;return e.__iterate(function(e,n){return t(n,e,r)!==!1},n)},t.__iteratorUncached=function(t,n){if(t===_n){var r=e.__iterator(t,n);return new x(function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===xn?wn:xn,n)},t}function st(e,t,n){var r=Dt(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,o){var i=e.get(r,yn);return i===yn?o:t.call(n,i,r,e)},r.__iterateUncached=function(r,o){var i=this;return e.__iterate(function(e,o,a){return r(t.call(n,e,o,a),o,i)!==!1},o)},r.__iteratorUncached=function(r,o){var i=e.__iterator(_n,o);return new x(function(){var o=i.next();if(o.done)return o;var a=o.value,l=a[0];return _(r,l,t.call(n,a[1],l,e),o)})},r}function ut(e,t){var n=Dt(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=lt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=Tt,n.__iterate=function(t,n){var r=this;return e.__iterate(function(e,n){return t(e,n,r)},!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function ct(e,t,n,r){var o=Dt(e);return r&&(o.has=function(r){var o=e.get(r,yn);return o!==yn&&!!t.call(n,o,r,e)},o.get=function(r,o){var i=e.get(r,yn);return i!==yn&&t.call(n,i,r,e)?i:o}),o.__iterateUncached=function(o,i){var a=this,l=0;return e.__iterate(function(e,i,s){if(t.call(n,e,i,s))return l++,o(e,r?i:l-1,a)},i),l},o.__iteratorUncached=function(o,i){var a=e.__iterator(_n,i),l=0;return new x(function(){for(;;){var i=a.next();if(i.done)return i;var s=i.value,u=s[0],c=s[1];if(t.call(n,c,u,e))return _(o,r?u:l++,c,i)}})},o}function ft(e,t,n){var r=fe().asMutable();return e.__iterate(function(o,i){r.update(t.call(n,o,i,e),0,function(e){return e+1})}),r.asImmutable()}function dt(e,t,n){var r=a(e),o=(u(e)?Qe():fe()).asMutable();e.__iterate(function(i,a){o.update(t.call(n,i,a,e),function(e){return e=e||[],e.push(r?[a,i]:i),e})});var i=Ot(e);return o.map(function(t){return kt(e,i(t))})}function pt(e,t,n,r){var o=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n|=0),y(t,n,o))return e;var i=m(t,o),a=b(n,o);if(i!==i||a!==a)return pt(e.toSeq().cacheResult(),t,n,r);var l,s=a-i;s===s&&(l=s<0?0:s);var u=Dt(e);return u.size=0===l?l:e.size&&l||void 0,!r&&F(e)&&l>=0&&(u.get=function(t,n){return t=g(this,t),t>=0&&t<l?e.get(t+i,n):n}),u.__iterateUncached=function(t,n){var o=this;if(0===l)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,s=!0,u=0;return e.__iterate(function(e,n){if(!s||!(s=a++<i))return u++,t(e,r?n:u-1,o)!==!1&&u!==l}),u},u.__iteratorUncached=function(t,n){if(0!==l&&n)return this.cacheResult().__iterator(t,n);var o=0!==l&&e.__iterator(t,n),a=0,s=0;return new x(function(){for(;a++<i;)o.next();if(++s>l)return S();var e=o.next();return r||t===xn?e:t===wn?_(t,s-1,void 0,e):_(t,s-1,e.value[1],e)})},u}function ht(e,t,n){var r=Dt(e);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var a=0;return e.__iterate(function(e,o,l){return t.call(n,e,o,l)&&++a&&r(e,o,i)}),a},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var a=e.__iterator(_n,o),l=!0;return new x(function(){if(!l)return S();var e=a.next();if(e.done)return e;var o=e.value,s=o[0],u=o[1];return t.call(n,u,s,i)?r===_n?e:_(r,s,u,e):(l=!1,S())})},r}function gt(e,t,n,r){var o=Dt(e);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var l=!0,s=0;return e.__iterate(function(e,i,u){if(!l||!(l=t.call(n,e,i,u)))return s++,o(e,r?i:s-1,a)}),s},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var l=e.__iterator(_n,i),s=!0,u=0;return new x(function(){var e,i,c;do{if(e=l.next(),e.done)return r||o===xn?e:o===wn?_(o,u++,void 0,e):_(o,u++,e.value[1],e);var f=e.value;i=f[0],c=f[1],s&&(s=t.call(n,c,i,a))}while(s);return o===_n?e:_(o,i,c,e)})},o}function vt(e,t){var r=a(e),o=[e].concat(t).map(function(e){return i(e)?r&&(e=n(e)):e=r?j(e):z(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===o.length)return e;if(1===o.length){var s=o[0];if(s===e||r&&a(s)||l(e)&&l(s))return s}var u=new B(o);return r?u=u.toKeyedSeq():l(e)||(u=u.toSetSeq()),u=u.flatten(!0),u.size=o.reduce(function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}},0),u}function yt(e,t,n){var r=Dt(e);return r.__iterateUncached=function(r,o){function a(e,u){var c=this;e.__iterate(function(e,o){return(!t||u<t)&&i(e)?a(e,u+1):r(e,n?o:l++,c)===!1&&(s=!0),!s},o)}var l=0,s=!1;return a(e,0),l},r.__iteratorUncached=function(r,o){var a=e.__iterator(r,o),l=[],s=0;return new x(function(){for(;a;){var e=a.next();if(e.done===!1){var u=e.value;if(r===_n&&(u=u[1]),t&&!(l.length<t)||!i(u))return n?e:_(r,s++,u,e);l.push(a),a=u.__iterator(r,o)}else a=l.pop()}return S()})},r}function mt(e,t,n){var r=Ot(e);return e.toSeq().map(function(o,i){return r(t.call(n,o,i,e))}).flatten(!0)}function bt(e,t){var n=Dt(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var o=this,i=0;return e.__iterate(function(e,r){return(!i||n(t,i++,o)!==!1)&&n(e,i++,o)!==!1},r),i},n.__iteratorUncached=function(n,r){var o,i=e.__iterator(xn,r),a=0;return new x(function(){return(!o||a%2)&&(o=i.next(),o.done)?o:a%2?_(n,a++,t):_(n,a++,o.value,o)})},n}function wt(e,t,n){t||(t=Nt);var r=a(e),o=0,i=e.toSeq().map(function(t,r){return[r,t,o++,n?n(t,r,e):t]}).toArray();return i.sort(function(e,n){return t(e[3],n[3])||e[2]-n[2]}).forEach(r?function(e,t){i[t].length=2}:function(e,t){i[t]=e[1]}),r?N(i):l(e)?M(i):I(i)}function xt(e,t,n){if(t||(t=Nt),n){var r=e.toSeq().map(function(t,r){return[t,n(t,r,e)]}).reduce(function(e,n){return _t(t,e[1],n[1])?n:e});return r&&r[0]}return e.reduce(function(e,n){return _t(t,e,n)?n:e})}function _t(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(void 0===n||null===n||n!==n)||r>0}function St(e,n,r){var o=Dt(e);return o.size=new B(r).map(function(e){return e.size}).min(),o.__iterate=function(e,t){for(var n,r=this.__iterator(xn,t),o=0;!(n=r.next()).done&&e(n.value,o++,this)!==!1;);return o},o.__iteratorUncached=function(e,o){var i=r.map(function(e){return e=t(e),C(o?e.reverse():e)}),a=0,l=!1;return new x(function(){var t;return l||(t=i.map(function(e){return e.next()}),l=t.some(function(e){return e.done})),l?S():_(e,a++,n.apply(null,t.map(function(e){return e.value})))})},o}function kt(e,t){return F(e)?t:e.constructor(t)}function Et(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Ct(e){return ce(e.size),h(e)}function Ot(e){return a(e)?n:l(e)?r:o}function Dt(e){return Object.create((a(e)?N:l(e)?M:I).prototype)}function Tt(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):T.prototype.cacheResult.call(this)}function Nt(e,t){return e>t?1:e<t?-1:0}function Mt(e){var n=C(e);if(!n){if(!D(e))throw new TypeError("Expected iterable or array-like: "+e);n=C(t(e))}return n}function It(e,t){var n,r=function(i){if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var a=Object.keys(e);At(o,a),o.size=a.length,o._name=t,o._keys=a,o._defaultValues=e}this._map=fe(i)},o=r.prototype=Object.create(Qn);return o.constructor=r,r}function Bt(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function Pt(e){return e._name||e.constructor.name||"Record"}function At(e,t){try{t.forEach(Rt.bind(void 0,e))}catch(e){}}function Rt(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){Q(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function Ft(e){return null===e||void 0===e?Kt():Lt(e)&&!u(e)?e:Kt().withMutations(function(t){var n=o(e);ce(n.size),n.forEach(function(e){return t.add(e)})})}function Lt(e){return!(!e||!e[Zn])}function jt(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function zt(e,t){var n=Object.create(er);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Kt(){return tr||(tr=zt(_e()))}function Ut(e){return null===e||void 0===e?Wt():Vt(e)?e:Wt().withMutations(function(t){var n=o(e);ce(n.size),n.forEach(function(e){return t.add(e)})})}function Vt(e){return Lt(e)&&u(e)}function Ht(e,t){var n=Object.create(nr);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Wt(){return rr||(rr=Ht(tt()))}function qt(e){return null===e||void 0===e?$t():Yt(e)?e:$t().unshiftAll(e)}function Yt(e){return!(!e||!e[or])}function Xt(e,t,n,r){var o=Object.create(ir);return o.size=e,o._head=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function $t(){return ar||(ar=Xt(0))}function Jt(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}function Gt(e,t){return t}function Qt(e,t){return[t,e]}function Zt(e){return function(){return!e.apply(this,arguments)}}function en(e){return function(){return-e.apply(this,arguments)}}function tn(e){return"string"==typeof e?JSON.stringify(e):e}function nn(){return p(arguments)}function rn(e,t){return e<t?1:e>t?-1:0}function on(e){if(e.size===1/0)return 0;var t=u(e),n=a(e),r=t?1:0,o=e.__iterate(n?t?function(e,t){r=31*r+ln(ie(e),ie(t))|0}:function(e,t){r=r+ln(ie(e),ie(t))|0}:t?function(e){r=31*r+ie(e)|0}:function(e){r=r+ie(e)|0});return an(o,r)}function an(e,t){return t=Mn(t,3432918353),t=Mn(t<<15|t>>>-15,461845907),t=Mn(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=Mn(t^t>>>16,2246822507),t=Mn(t^t>>>13,3266489909),t=oe(t^t>>>16)}function ln(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var sn=Array.prototype.slice;e(n,t),e(r,t),e(o,t),t.isIterable=i,t.isKeyed=a,t.isIndexed=l,t.isAssociative=s,t.isOrdered=u,t.Keyed=n,t.Indexed=r,t.Set=o;var un="@@__IMMUTABLE_ITERABLE__@@",cn="@@__IMMUTABLE_KEYED__@@",fn="@@__IMMUTABLE_INDEXED__@@",dn="@@__IMMUTABLE_ORDERED__@@",pn="delete",hn=5,gn=1<<hn,vn=gn-1,yn={},mn={value:!1},bn={value:!1},wn=0,xn=1,_n=2,Sn="function"==typeof Symbol&&Symbol.iterator,kn="@@iterator",En=Sn||kn;x.prototype.toString=function(){return"[Iterator]"},x.KEYS=wn,x.VALUES=xn,x.ENTRIES=_n,x.prototype.inspect=x.prototype.toSource=function(){return this.toString()},x.prototype[En]=function(){return this},e(T,t),T.of=function(){return T(arguments)},T.prototype.toSeq=function(){return this},T.prototype.toString=function(){return this.__toString("Seq {","}")},T.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},T.prototype.__iterate=function(e,t){return V(this,e,t,!0)},T.prototype.__iterator=function(e,t){return H(this,e,t,!0)},e(N,T),N.prototype.toKeyedSeq=function(){return this},e(M,T),M.of=function(){return M(arguments)},M.prototype.toIndexedSeq=function(){return this},M.prototype.toString=function(){return this.__toString("Seq [","]")},M.prototype.__iterate=function(e,t){return V(this,e,t,!1)},M.prototype.__iterator=function(e,t){return H(this,e,t,!1)},e(I,T),I.of=function(){return I(arguments)},I.prototype.toSetSeq=function(){return this},T.isSeq=F,T.Keyed=N,T.Set=I,T.Indexed=M;var Cn="@@__IMMUTABLE_SEQ__@@";T.prototype[Cn]=!0,e(B,M),B.prototype.get=function(e,t){return this.has(e)?this._array[g(this,e)]:t},B.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,o=0;o<=r;o++)if(e(n[t?r-o:o],o,this)===!1)return o+1;return o},B.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,o=0;return new x(function(){return o>r?S():_(e,o,n[t?r-o++:o++])})},e(P,N),P.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},P.prototype.has=function(e){return this._object.hasOwnProperty(e)},P.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,o=r.length-1,i=0;i<=o;i++){var a=r[t?o-i:i];if(e(n[a],a,this)===!1)return i+1}return i},P.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,o=r.length-1,i=0;return new x(function(){var a=r[t?o-i:i];return i++>o?S():_(e,a,n[a])})},P.prototype[dn]=!0,e(A,M),A.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=this._iterable,r=C(n),o=0;if(E(r))for(var i;!(i=r.next()).done&&e(i.value,o++,this)!==!1;);return o},A.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterable,r=C(n);if(!E(r))return new x(S);var o=0;return new x(function(){var t=r.next();return t.done?t:_(e,o++,t.value)})},e(R,M),R.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n=this._iterator,r=this._iteratorCache,o=0;o<r.length;)if(e(r[o],o++,this)===!1)return o;for(var i;!(i=n.next()).done;){var a=i.value;if(r[o]=a,e(a,o++,this)===!1)break}return o},R.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,o=0;return new x(function(){if(o>=r.length){var t=n.next();if(t.done)return t;r[o]=t.value}return _(e,o,r[o++])})};var On;e(G,M),G.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},G.prototype.get=function(e,t){return this.has(e)?this._value:t},G.prototype.includes=function(e){return $(this._value,e)},G.prototype.slice=function(e,t){var n=this.size;return y(e,t,n)?this:new G(this._value,b(t,n)-m(e,n))},G.prototype.reverse=function(){return this},G.prototype.indexOf=function(e){return $(this._value,e)?0:-1},G.prototype.lastIndexOf=function(e){return $(this._value,e)?this.size:-1},G.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(e(this._value,n,this)===!1)return n+1;return n},G.prototype.__iterator=function(e,t){var n=this,r=0;return new x(function(){return r<n.size?_(e,r++,n._value):S()})},G.prototype.equals=function(e){return e instanceof G?$(this._value,e._value):J(e)};var Dn;e(Z,M),Z.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},Z.prototype.get=function(e,t){return this.has(e)?this._start+g(this,e)*this._step:t},Z.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},Z.prototype.slice=function(e,t){return y(e,t,this.size)?this:(e=m(e,this.size),t=b(t,this.size),t<=e?new Z(0,0):new Z(this.get(e,this._end),this.get(t,this._end),this._step))},Z.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step===0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},Z.prototype.lastIndexOf=function(e){return this.indexOf(e)},Z.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,i=0;i<=n;i++){if(e(o,i,this)===!1)return i+1;o+=t?-r:r}return i},Z.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,i=0;return new x(function(){var a=o;return o+=t?-r:r,i>n?S():_(e,i++,a)})},Z.prototype.equals=function(e){return e instanceof Z?this._start===e._start&&this._end===e._end&&this._step===e._step:J(this,e)};var Tn;e(ee,t),e(te,ee),e(ne,ee),e(re,ee),ee.Keyed=te,ee.Indexed=ne,ee.Set=re;var Nn,Mn="function"==typeof Math.imul&&Math.imul(4294967295,2)===-2?Math.imul:function(e,t){e|=0,t|=0;var n=65535&e,r=65535&t;return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0},In=Object.isExtensible,Bn=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),Pn="function"==typeof WeakMap;Pn&&(Nn=new WeakMap);var An=0,Rn="__immutablehash__";"function"==typeof Symbol&&(Rn=Symbol(Rn));var Fn=16,Ln=255,jn=0,zn={};e(fe,te),fe.prototype.toString=function(){return this.__toString("Map {","}")},fe.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},fe.prototype.set=function(e,t){return Se(this,e,t)},fe.prototype.setIn=function(e,t){return this.updateIn(e,yn,function(){return t})},fe.prototype.remove=function(e){return Se(this,e,yn)},fe.prototype.deleteIn=function(e){return this.updateIn(e,function(){return yn})},fe.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},fe.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=Pe(this,Mt(e),t,n);return r===yn?void 0:r},fe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):_e()},fe.prototype.merge=function(){return Ne(this,void 0,arguments)},fe.prototype.mergeWith=function(e){var t=sn.call(arguments,1);return Ne(this,e,t)},fe.prototype.mergeIn=function(e){var t=sn.call(arguments,1);return this.updateIn(e,_e(),function(e){return"function"==typeof e.merge?e.merge.apply(e,t):t[t.length-1]})},fe.prototype.mergeDeep=function(){return Ne(this,Me,arguments)},fe.prototype.mergeDeepWith=function(e){var t=sn.call(arguments,1);return Ne(this,Ie(e),t)},fe.prototype.mergeDeepIn=function(e){
var t=sn.call(arguments,1);return this.updateIn(e,_e(),function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,t):t[t.length-1]})},fe.prototype.sort=function(e){return Qe(wt(this,e))},fe.prototype.sortBy=function(e,t){return Qe(wt(this,t,e))},fe.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},fe.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new d)},fe.prototype.asImmutable=function(){return this.__ensureOwner()},fe.prototype.wasAltered=function(){return this.__altered},fe.prototype.__iterator=function(e,t){return new me(this,e,t)},fe.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate(function(t){return r++,e(t[1],t[0],n)},t),r},fe.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?xe(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},fe.isMap=de;var Kn="@@__IMMUTABLE_MAP__@@",Un=fe.prototype;Un[Kn]=!0,Un[pn]=Un.remove,Un.removeIn=Un.deleteIn,pe.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if($(n,o[i][0]))return o[i][1];return r},pe.prototype.update=function(e,t,n,r,o,i,a){for(var l=o===yn,s=this.entries,u=0,c=s.length;u<c&&!$(r,s[u][0]);u++);var d=u<c;if(d?s[u][1]===o:l)return this;if(f(a),(l||!d)&&f(i),!l||1!==s.length){if(!d&&!l&&s.length>=Hn)return Oe(e,s,r,o);var h=e&&e===this.ownerID,g=h?s:p(s);return d?l?u===c-1?g.pop():g[u]=g.pop():g[u]=[r,o]:g.push([r,o]),h?(this.entries=g,this):new pe(e,g)}},he.prototype.get=function(e,t,n,r){void 0===t&&(t=ie(n));var o=1<<((0===e?t:t>>>e)&vn),i=this.bitmap;return 0===(i&o)?r:this.nodes[Ae(i&o-1)].get(e+hn,t,n,r)},he.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=ie(r));var l=(0===t?n:n>>>t)&vn,s=1<<l,u=this.bitmap,c=0!==(u&s);if(!c&&o===yn)return this;var f=Ae(u&s-1),d=this.nodes,p=c?d[f]:void 0,h=ke(p,e,t+hn,n,r,o,i,a);if(h===p)return this;if(!c&&h&&d.length>=Wn)return Te(e,d,u,l,h);if(c&&!h&&2===d.length&&Ee(d[1^f]))return d[1^f];if(c&&h&&1===d.length&&Ee(h))return h;var g=e&&e===this.ownerID,v=c?h?u:u^s:u|s,y=c?h?Re(d,f,h,g):Le(d,f,g):Fe(d,f,h,g);return g?(this.bitmap=v,this.nodes=y,this):new he(e,v,y)},ge.prototype.get=function(e,t,n,r){void 0===t&&(t=ie(n));var o=(0===e?t:t>>>e)&vn,i=this.nodes[o];return i?i.get(e+hn,t,n,r):r},ge.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=ie(r));var l=(0===t?n:n>>>t)&vn,s=o===yn,u=this.nodes,c=u[l];if(s&&!c)return this;var f=ke(c,e,t+hn,n,r,o,i,a);if(f===c)return this;var d=this.count;if(c){if(!f&&(d--,d<qn))return De(e,u,d,l)}else d++;var p=e&&e===this.ownerID,h=Re(u,l,f,p);return p?(this.count=d,this.nodes=h,this):new ge(e,d,h)},ve.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if($(n,o[i][0]))return o[i][1];return r},ve.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=ie(r));var l=o===yn;if(n!==this.keyHash)return l?this:(f(a),f(i),Ce(this,e,t,n,[r,o]));for(var s=this.entries,u=0,c=s.length;u<c&&!$(r,s[u][0]);u++);var d=u<c;if(d?s[u][1]===o:l)return this;if(f(a),(l||!d)&&f(i),l&&2===c)return new ye(e,this.keyHash,s[1^u]);var h=e&&e===this.ownerID,g=h?s:p(s);return d?l?u===c-1?g.pop():g[u]=g.pop():g[u]=[r,o]:g.push([r,o]),h?(this.entries=g,this):new ve(e,this.keyHash,g)},ye.prototype.get=function(e,t,n,r){return $(n,this.entry[0])?this.entry[1]:r},ye.prototype.update=function(e,t,n,r,o,i,a){var l=o===yn,s=$(r,this.entry[0]);return(s?o===this.entry[1]:l)?this:(f(a),l?void f(i):s?e&&e===this.ownerID?(this.entry[1]=o,this):new ye(e,this.keyHash,[r,o]):(f(i),Ce(this,e,t,ie(r),[r,o])))},pe.prototype.iterate=ve.prototype.iterate=function(e,t){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(e(n[t?o-r:r])===!1)return!1},he.prototype.iterate=ge.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[t?o-r:r];if(i&&i.iterate(e,t)===!1)return!1}},ye.prototype.iterate=function(e,t){return e(this.entry)},e(me,x),me.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,o=t.index++;if(r.entry){if(0===o)return be(e,r.entry)}else if(r.entries){if(n=r.entries.length-1,o<=n)return be(e,r.entries[this._reverse?n-o:o])}else if(n=r.nodes.length-1,o<=n){var i=r.nodes[this._reverse?n-o:o];if(i){if(i.entry)return be(e,i.entry);t=this._stack=we(i,t)}continue}t=this._stack=this._stack.__prev}return S()};var Vn,Hn=gn/4,Wn=gn/2,qn=gn/4;e(je,ne),je.of=function(){return this(arguments)},je.prototype.toString=function(){return this.__toString("List [","]")},je.prototype.get=function(e,t){if(e=g(this,e),e>=0&&e<this.size){e+=this._origin;var n=Xe(this,e);return n&&n.array[e&vn]}return t},je.prototype.set=function(e,t){return We(this,e,t)},je.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},je.prototype.insert=function(e,t){return this.splice(e,0,t)},je.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=hn,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):He()},je.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(n){$e(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])})},je.prototype.pop=function(){return $e(this,0,-1)},je.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){$e(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])})},je.prototype.shift=function(){return $e(this,1)},je.prototype.merge=function(){return Je(this,void 0,arguments)},je.prototype.mergeWith=function(e){var t=sn.call(arguments,1);return Je(this,e,t)},je.prototype.mergeDeep=function(){return Je(this,Me,arguments)},je.prototype.mergeDeepWith=function(e){var t=sn.call(arguments,1);return Je(this,Ie(e),t)},je.prototype.setSize=function(e){return $e(this,0,e)},je.prototype.slice=function(e,t){var n=this.size;return y(e,t,n)?this:$e(this,m(e,n),b(t,n))},je.prototype.__iterator=function(e,t){var n=0,r=Ue(this,t);return new x(function(){var t=r();return t===Jn?S():_(e,n++,t)})},je.prototype.__iterate=function(e,t){for(var n,r=0,o=Ue(this,t);(n=o())!==Jn&&e(n,r++,this)!==!1;);return r},je.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Ve(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},je.isList=ze;var Yn="@@__IMMUTABLE_LIST__@@",Xn=je.prototype;Xn[Yn]=!0,Xn[pn]=Xn.remove,Xn.setIn=Un.setIn,Xn.deleteIn=Xn.removeIn=Un.removeIn,Xn.update=Un.update,Xn.updateIn=Un.updateIn,Xn.mergeIn=Un.mergeIn,Xn.mergeDeepIn=Un.mergeDeepIn,Xn.withMutations=Un.withMutations,Xn.asMutable=Un.asMutable,Xn.asImmutable=Un.asImmutable,Xn.wasAltered=Un.wasAltered,Ke.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&vn;if(r>=this.array.length)return new Ke([],e);var o,i=0===r;if(t>0){var a=this.array[r];if(o=a&&a.removeBefore(e,t-hn,n),o===a&&i)return this}if(i&&!o)return this;var l=Ye(this,e);if(!i)for(var s=0;s<r;s++)l.array[s]=void 0;return o&&(l.array[r]=o),l},Ke.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r=n-1>>>t&vn;if(r>=this.array.length)return this;var o;if(t>0){var i=this.array[r];if(o=i&&i.removeAfter(e,t-hn,n),o===i&&r===this.array.length-1)return this}var a=Ye(this,e);return a.array.splice(r+1),o&&(a.array[r]=o),a};var $n,Jn={};e(Qe,fe),Qe.of=function(){return this(arguments)},Qe.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Qe.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},Qe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):tt()},Qe.prototype.set=function(e,t){return nt(this,e,t)},Qe.prototype.remove=function(e){return nt(this,e,yn)},Qe.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Qe.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],n)},t)},Qe.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Qe.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?et(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},Qe.isOrderedMap=Ze,Qe.prototype[dn]=!0,Qe.prototype[pn]=Qe.prototype.remove;var Gn;e(rt,N),rt.prototype.get=function(e,t){return this._iter.get(e,t)},rt.prototype.has=function(e){return this._iter.has(e)},rt.prototype.valueSeq=function(){return this._iter.valueSeq()},rt.prototype.reverse=function(){var e=this,t=ut(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},rt.prototype.map=function(e,t){var n=this,r=st(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},rt.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?Ct(this):0,function(o){return e(o,t?--n:n++,r)}),t)},rt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(xn,t),r=t?Ct(this):0;return new x(function(){var o=n.next();return o.done?o:_(e,t?--r:r++,o.value,o)})},rt.prototype[dn]=!0,e(ot,M),ot.prototype.includes=function(e){return this._iter.includes(e)},ot.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate(function(t){return e(t,r++,n)},t)},ot.prototype.__iterator=function(e,t){var n=this._iter.__iterator(xn,t),r=0;return new x(function(){var t=n.next();return t.done?t:_(e,r++,t.value,t)})},e(it,I),it.prototype.has=function(e){return this._iter.includes(e)},it.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){return e(t,t,n)},t)},it.prototype.__iterator=function(e,t){var n=this._iter.__iterator(xn,t);return new x(function(){var t=n.next();return t.done?t:_(e,t.value,t.value,t)})},e(at,N),at.prototype.entrySeq=function(){return this._iter.toSeq()},at.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){if(t){Et(t);var r=i(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}},t)},at.prototype.__iterator=function(e,t){var n=this._iter.__iterator(xn,t);return new x(function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){Et(r);var o=i(r);return _(e,o?r.get(0):r[0],o?r.get(1):r[1],t)}}})},ot.prototype.cacheResult=rt.prototype.cacheResult=it.prototype.cacheResult=at.prototype.cacheResult=Tt,e(It,te),It.prototype.toString=function(){return this.__toString(Pt(this)+" {","}")},It.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},It.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},It.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=Bt(this,_e()))},It.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+Pt(this));var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:Bt(this,n)},It.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:Bt(this,t)},It.prototype.wasAltered=function(){return this._map.wasAltered()},It.prototype.__iterator=function(e,t){var r=this;return n(this._defaultValues).map(function(e,t){return r.get(t)}).__iterator(e,t)},It.prototype.__iterate=function(e,t){var r=this;return n(this._defaultValues).map(function(e,t){return r.get(t)}).__iterate(e,t)},It.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?Bt(this,t,e):(this.__ownerID=e,this._map=t,this)};var Qn=It.prototype;Qn[pn]=Qn.remove,Qn.deleteIn=Qn.removeIn=Un.removeIn,Qn.merge=Un.merge,Qn.mergeWith=Un.mergeWith,Qn.mergeIn=Un.mergeIn,Qn.mergeDeep=Un.mergeDeep,Qn.mergeDeepWith=Un.mergeDeepWith,Qn.mergeDeepIn=Un.mergeDeepIn,Qn.setIn=Un.setIn,Qn.update=Un.update,Qn.updateIn=Un.updateIn,Qn.withMutations=Un.withMutations,Qn.asMutable=Un.asMutable,Qn.asImmutable=Un.asImmutable,e(Ft,re),Ft.of=function(){return this(arguments)},Ft.fromKeys=function(e){return this(n(e).keySeq())},Ft.prototype.toString=function(){return this.__toString("Set {","}")},Ft.prototype.has=function(e){return this._map.has(e)},Ft.prototype.add=function(e){return jt(this,this._map.set(e,!0))},Ft.prototype.remove=function(e){return jt(this,this._map.remove(e))},Ft.prototype.clear=function(){return jt(this,this._map.clear())},Ft.prototype.union=function(){var e=sn.call(arguments,0);return e=e.filter(function(e){return 0!==e.size}),0===e.length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations(function(t){for(var n=0;n<e.length;n++)o(e[n]).forEach(function(e){return t.add(e)})}):this.constructor(e[0])},Ft.prototype.intersect=function(){var e=sn.call(arguments,0);if(0===e.length)return this;e=e.map(function(e){return o(e)});var t=this;return this.withMutations(function(n){t.forEach(function(t){e.every(function(e){return e.includes(t)})||n.remove(t)})})},Ft.prototype.subtract=function(){var e=sn.call(arguments,0);if(0===e.length)return this;e=e.map(function(e){return o(e)});var t=this;return this.withMutations(function(n){t.forEach(function(t){e.some(function(e){return e.includes(t)})&&n.remove(t)})})},Ft.prototype.merge=function(){return this.union.apply(this,arguments)},Ft.prototype.mergeWith=function(e){var t=sn.call(arguments,1);return this.union.apply(this,t)},Ft.prototype.sort=function(e){return Ut(wt(this,e))},Ft.prototype.sortBy=function(e,t){return Ut(wt(this,t,e))},Ft.prototype.wasAltered=function(){return this._map.wasAltered()},Ft.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate(function(t,r){return e(r,r,n)},t)},Ft.prototype.__iterator=function(e,t){return this._map.map(function(e,t){return t}).__iterator(e,t)},Ft.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},Ft.isSet=Lt;var Zn="@@__IMMUTABLE_SET__@@",er=Ft.prototype;er[Zn]=!0,er[pn]=er.remove,er.mergeDeep=er.merge,er.mergeDeepWith=er.mergeWith,er.withMutations=Un.withMutations,er.asMutable=Un.asMutable,er.asImmutable=Un.asImmutable,er.__empty=Kt,er.__make=zt;var tr;e(Ut,Ft),Ut.of=function(){return this(arguments)},Ut.fromKeys=function(e){return this(n(e).keySeq())},Ut.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Ut.isOrderedSet=Vt;var nr=Ut.prototype;nr[dn]=!0,nr.__empty=Wt,nr.__make=Ht;var rr;e(qt,ne),qt.of=function(){return this(arguments)},qt.prototype.toString=function(){return this.__toString("Stack [","]")},qt.prototype.get=function(e,t){var n=this._head;for(e=g(this,e);n&&e--;)n=n.next;return n?n.value:t},qt.prototype.peek=function(){return this._head&&this._head.value},qt.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Xt(e,t)},qt.prototype.pushAll=function(e){if(e=r(e),0===e.size)return this;ce(e.size);var t=this.size,n=this._head;return e.reverse().forEach(function(e){t++,n={value:e,next:n}}),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Xt(t,n)},qt.prototype.pop=function(){return this.slice(1)},qt.prototype.unshift=function(){return this.push.apply(this,arguments)},qt.prototype.unshiftAll=function(e){return this.pushAll(e)},qt.prototype.shift=function(){return this.pop.apply(this,arguments)},qt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):$t()},qt.prototype.slice=function(e,t){if(y(e,t,this.size))return this;var n=m(e,this.size),r=b(t,this.size);if(r!==this.size)return ne.prototype.slice.call(this,e,t);for(var o=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=o,this._head=i,this.__hash=void 0,this.__altered=!0,this):Xt(o,i)},qt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Xt(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},qt.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&e(r.value,n++,this)!==!1;)r=r.next;return n},qt.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new x(function(){if(r){var t=r.value;return r=r.next,_(e,n++,t)}return S()})},qt.isStack=Yt;var or="@@__IMMUTABLE_STACK__@@",ir=qt.prototype;ir[or]=!0,ir.withMutations=Un.withMutations,ir.asMutable=Un.asMutable,ir.asImmutable=Un.asImmutable,ir.wasAltered=Un.wasAltered;var ar;t.Iterator=x,Jt(t,{toArray:function(){ce(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate(function(t,n){e[n]=t}),e},toIndexedSeq:function(){return new ot(this)},toJS:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJS?e.toJS():e}).__toJS()},toJSON:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e}).__toJS()},toKeyedSeq:function(){return new rt(this,!0)},toMap:function(){return fe(this.toKeyedSeq())},toObject:function(){ce(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e},toOrderedMap:function(){return Qe(this.toKeyedSeq())},toOrderedSet:function(){return Ut(a(this)?this.valueSeq():this)},toSet:function(){return Ft(a(this)?this.valueSeq():this)},toSetSeq:function(){return new it(this)},toSeq:function(){return l(this)?this.toIndexedSeq():a(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return qt(a(this)?this.valueSeq():this)},toList:function(){return je(a(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var e=sn.call(arguments,0);return kt(this,vt(this,e))},includes:function(e){return this.some(function(t){return $(t,e)})},entries:function(){return this.__iterator(_n)},every:function(e,t){ce(this.size);var n=!0;return this.__iterate(function(r,o,i){if(!e.call(t,r,o,i))return n=!1,!1}),n},filter:function(e,t){return kt(this,ct(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},findEntry:function(e,t){var n;return this.__iterate(function(r,o,i){if(e.call(t,r,o,i))return n=[o,r],!1}),n},findLastEntry:function(e,t){return this.toSeq().reverse().findEntry(e,t)},forEach:function(e,t){return ce(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){ce(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate(function(r){n?n=!1:t+=e,t+=null!==r&&void 0!==r?r.toString():""}),t},keys:function(){return this.__iterator(wn)},map:function(e,t){return kt(this,st(this,e,t))},reduce:function(e,t,n){ce(this.size);var r,o;return arguments.length<2?o=!0:r=t,this.__iterate(function(t,i,a){o?(o=!1,r=t):r=e.call(n,r,t,i,a)}),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return kt(this,ut(this,!0))},slice:function(e,t){return kt(this,pt(this,e,t,!0))},some:function(e,t){return!this.every(Zt(e),t)},sort:function(e){return kt(this,wt(this,e))},values:function(){return this.__iterator(xn)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return h(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return ft(this,e,t)},equals:function(e){return J(this,e)},entrySeq:function(){var e=this;if(e._cache)return new B(e._cache);var t=e.toSeq().map(Qt).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(Zt(e),t)},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},first:function(){return this.find(v)},flatMap:function(e,t){return kt(this,mt(this,e,t))},flatten:function(e){return kt(this,yt(this,e,!0))},fromEntrySeq:function(){return new at(this)},get:function(e,t){return this.find(function(t,n){return $(n,e)},void 0,t)},getIn:function(e,t){for(var n,r=this,o=Mt(e);!(n=o.next()).done;){var i=n.value;if(r=r&&r.get?r.get(i,yn):yn,r===yn)return t}return r},groupBy:function(e,t){return dt(this,e,t)},has:function(e){return this.get(e,yn)!==yn},hasIn:function(e){return this.getIn(e,yn)!==yn},isSubset:function(e){return e="function"==typeof e.includes?e:t(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return e="function"==typeof e.isSubset?e:t(e),e.isSubset(this)},keySeq:function(){return this.toSeq().map(Gt).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(e){return xt(this,e)},maxBy:function(e,t){return xt(this,t,e)},min:function(e){return xt(this,e?en(e):rn)},minBy:function(e,t){return xt(this,t?en(t):rn,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return kt(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return kt(this,gt(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(Zt(e),t)},sortBy:function(e,t){return kt(this,wt(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return kt(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return kt(this,ht(this,e,t))},takeUntil:function(e,t){return this.takeWhile(Zt(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=on(this))}});var lr=t.prototype;lr[un]=!0,lr[En]=lr.values,lr.__toJS=lr.toArray,lr.__toStringMapper=tn,lr.inspect=lr.toSource=function(){return this.toString()},lr.chain=lr.flatMap,lr.contains=lr.includes,function(){try{Object.defineProperty(lr,"length",{get:function(){if(!t.noLengthWarning){var e;try{throw new Error}catch(t){e=t.stack}if(e.indexOf("_wrapObject")===-1)return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+e),this.size}}})}catch(e){}}(),Jt(n,{flip:function(){return kt(this,lt(this))},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLastKey:function(e,t){return this.toSeq().reverse().findKey(e,t)},keyOf:function(e){return this.findKey(function(t){return $(t,e)})},lastKeyOf:function(e){return this.findLastKey(function(t){return $(t,e)})},mapEntries:function(e,t){var n=this,r=0;return kt(this,this.toSeq().map(function(o,i){return e.call(t,[i,o],r++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return kt(this,this.toSeq().flip().map(function(r,o){return e.call(t,r,o,n)}).flip())}});var sr=n.prototype;sr[cn]=!0,sr[En]=lr.entries,sr.__toJS=lr.toObject,sr.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+tn(e)},Jt(r,{toKeyedSeq:function(){return new rt(this,!1)},filter:function(e,t){return kt(this,ct(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.toKeyedSeq().keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.toKeyedSeq().reverse().keyOf(e);return void 0===t?-1:t},reverse:function(){return kt(this,ut(this,!1))},slice:function(e,t){return kt(this,pt(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=m(e,e<0?this.count():this.size);var r=this.slice(0,e);return kt(this,1===n?r:r.concat(p(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.toKeyedSeq().findLastKey(e,t);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(e){return kt(this,yt(this,e,!1))},get:function(e,t){return e=g(this,e),e<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find(function(t,n){return n===e},void 0,t)},has:function(e){return e=g(this,e),e>=0&&(void 0!==this.size?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return kt(this,bt(this,e))},interleave:function(){var e=[this].concat(p(arguments)),t=St(this.toSeq(),M.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),kt(this,n)},last:function(){return this.get(-1)},skipWhile:function(e,t){return kt(this,gt(this,e,t,!1))},zip:function(){var e=[this].concat(p(arguments));return kt(this,St(this,nn,e))},zipWith:function(e){var t=p(arguments);return t[0]=this,kt(this,St(this,e,t))}}),r.prototype[fn]=!0,r.prototype[dn]=!0,Jt(o,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=lr.includes,Jt(N,n.prototype),Jt(M,r.prototype),Jt(I,o.prototype),Jt(te,n.prototype),Jt(ne,r.prototype),Jt(re,o.prototype);var ur={Iterable:t,Seq:T,Collection:ee,Map:fe,OrderedMap:Qe,List:je,Stack:qt,Set:Ft,OrderedSet:Ut,Record:It,Range:Z,Repeat:G,is:$,fromJS:W};return ur})},function(e,t,n){"use strict";function r(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(o(t),!e){var a;if(void 0===t)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;a=new Error(t.replace(/%s/g,function(){return String(r[l++])})),a.name="Invariant Violation"}throw a.framesToPop=1,a}}var o=function(e){};e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.common=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=n(1),l=r(a),s=function(e){if(window.navigator){var t=/iPhone/i,n=/iPod/i,r=/iPad/i,o=/\bAndroid(?:.+)Mobile\b/i,i=/Android/i,a=/\bAndroid(?:.+)SD4930UR\b/i,l=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,s=/Windows Phone/i,u=/\bWindows(?:.+)ARM\b/i,c=/BlackBerry/i,f=/BB10/i,d=/Opera Mini/i,p=/\b(CriOS|Chrome)(?:.+)Mobile/i,h=/Mobile(?:.+)Firefox\b/i,g=function(e,t){return e.test(t)},v=navigator.userAgent,y=v.split("[FBAN");y[1]&&(v=y[0]),(y=v.split("Twitter"))[1]&&(v=y[0]);var m={apple:{phone:g(t,v)&&!g(s,v),ipod:g(n,v),tablet:!g(t,v)&&g(r,v)&&!g(s,v),device:(g(t,v)||g(n,v)||g(r,v))&&!g(s,v)},amazon:{phone:g(a,v),tablet:!g(a,v)&&g(l,v),device:g(a,v)||g(l,v)},android:{phone:!g(s,v)&&g(a,v)||!g(s,v)&&g(o,v),tablet:!g(s,v)&&!g(a,v)&&!g(o,v)&&(g(l,v)||g(i,v)),device:!g(s,v)&&(g(a,v)||g(l,v)||g(o,v)||g(i,v))},windows:{phone:g(s,v),tablet:g(u,v),device:g(s,v)||g(u,v)},other:{blackberry:g(c,v),blackberry10:g(f,v),opera:g(d,v),firefox:g(h,v),chrome:g(p,v),device:g(c,v)||g(f,v)||g(d,v)||g(h,v)||g(p,v)},any:!1,phone:!1,tablet:!1};return m.any=m.apple.device||m.android.device||m.windows.device||m.other.device,m.phone=m.apple.phone||m.android.phone||m.windows.phone,m.tablet=m.apple.tablet||m.android.tablet||m.windows.tablet,m}}(),u=t.common={recalc:{CCTYPE:function(e,t,n){if(n){var r=n.split("|");e.setField("CCTYPE_ALIAS",r[0]);var o=parseInt(r[1],10);if(isNaN(o))e.setField("CCDA","");else{var i=e.getField("DOCDA");i=i?new Date(i+" 00:00:00"):new Date;var a=new Date(i.valueOf()+864e5*o);0===a.getUTCDay()?a=new Date(a.valueOf()-1728e5):6===a.getUTCDay()&&(a=new Date(a.valueOf()-864e5)),e.setField("CCDA",a)}}else e.setField("CCTYPE_ALIAS",""),e.setField("CCDA","")}}},c=function(e,t){if(t)return e;var n=void 0,r=/<<[\s\S]+?>>/g,o=e.match(r);if(!o)return e;var i=e.split(r);return n=[i[0]||null],o.forEach(function(e,t){var r=void 0,o=void 0;switch(e[2]){case"R":o={color:"red"};break;case"G":o={color:"green"};break;case"B":o={color:"blue"};break;case"W":o={color:"white}"};break;case"C":o={};break;default:r=e}r||("+"===e[3]&&(o.fontWeight="bold"),r=l.default.createElement("span",{key:t,style:o},e.slice(4,-2))),n.push(r),i[t+1]&&n.push(i[t+1])}),n},f={},d=t.Util={isMobile:s,anyMobile:s.any,urlKeys:function(e){var t={};if((e||"").includes("?")&&(e=d.partition(e,"?")[1]),e){var n=!0,r=!1,o=void 0;try{for(var a,l=e.split("&")[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var s=a.value,u=d.partition(s,"="),c=i(u,2),f=c[0],p=c[1];t[f]=p}}catch(e){r=!0,o=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw o}}}return t},getField:function(e,t,n){var r=t.toUpperCase().trim(),o=e.register&&r in e.register&&e.register[r].getValue?e.register[r].getValue(n):e.hideNewValues&&r in e.hideNewValues?e.hideNewValues[r]:e.fieldValues&&e.fieldValues[r]||"";return o},setField:function(e,t,n,r){var o=t.toUpperCase();e.register[o]&&e.register[o].setValue?e.register[o].setValue(n,r):e.hideNewValues[o]=n},setFocus:function(e,t){var n=void 0;if("number"==typeof t)n=e.focusRows[Math.max(0,Math.min(t,e.focusRows.length-1))];else{if(!t)return;n=t.toUpperCase()}n&&e.register[n]&&e.register[n].setFocus&&!e.register[n].props.readOnly?e.register[n].setFocus():(n=e.focusRows&&e.focusRows[0],n&&e.register[n]&&e.register[n].setFocus&&!e.register[n].props.readOnly?e.register[n].setFocus():e.mainDiv&&e.mainDiv.current&&e.mainDiv.current.focus())},xopen:function(e){e in f&&!f[e].closed?f[e].focus():f[e]=window.open(e)},serverAction:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise(function(i,a){d.doPost(e,"api.post/"+t,n,r,o).then(function(e){return i(e)}).catch(function(e){return a(e)})})},doPost:function(e,t,n,r,o){return new Promise(function(i,a){var l={credentials:"include",method:"post",headers:{"Content-type":"text/plain; charset=UTF-8"},body:n};e.waitLoad=!0,setTimeout(function(t){return e.waitLoad&&e.setState({spinner:!0})},500),fetch(t,l).then(function(t){if(e.waitLoad=!1,e.setState({spinner:!1}),200!==t.status){var n=t.status+"\n"+t.statusText;return!r&&e.msg.error(n),a(n)}return o?t.json():t.text()}).then(function(e){return i(e)}).catch(function(t){e.waitLoad=!1,e.setState({spinner:!1});var n="string"==typeof t?t:t.message;!r&&e.msg.error(n,"Util.doPost-error:"),a(n)})})},upDown:function(e,t,n,r){return 38!==e.keyCode||e.altKey||e.shiftKey||e.ctrlKey?40!==e.keyCode||e.altKey||e.shiftKey||e.ctrlKey?void 0:(r&&(e.stopPropagation(),e.preventDefault()),d.runCmd(t,"keyDownDown",n)?null:"down"):(r&&(e.stopPropagation(),e.preventDefault()),d.runCmd(t,"keyDownUp",n)?null:"up")},recalc:function(e,t,n,r,o){var i=e.props.doc,a=e.props.xName;i.sova&&i.sova.recalc&&i.sova.recalc[a]?i.sova.recalc[a](i,t,n,r,o):u.recalc[a]&&u.recalc[a](i,t,n,r)},runCmd:function(e,t,n,r){return e.sova&&e.sova.cmd&&e.sova.cmd[t]?e.sova.cmd[t](e,n,r):e.cmdList&&e.cmdList[t]&&e.cmdList[t](n,r)},runCmdYesNo:function(e,t,n,r){return new Promise(function(o,i){return e.sova&&e.sova.cmdYN&&e.sova.cmdYN[t]?e.sova.cmdYN[t](e,n,r).then(o).catch(i):(console.log('Command "'+t+'" not found'),void o())})},_on_:function(e){if(!e||!Object.keys(e).length)return null;var t={},n=function(n){if(n.startsWith("on"))if("string"==typeof e[n]){var r=d.partition(e[n],"|"),o=i(r,2),a=o[0],l=o[1];t[n]=function(t){t.preventDefault(),t.stopPropagation(),d.runCmd(e.doc,a,l)}}else t[n]=function(t){return e[n](t)}},r=!0,o=!1,a=void 0;try{for(var l,s=Object.keys(e)[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var u=l.value;n(u)}}catch(e){o=!0,
a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return t},hide:function(e,t){if(t)return e.sova.hide&&e.sova.hide[t]?e.sova.hide[t](e):e.hideList[t]&&e.hideList[t]()},readOnly:function(e,t){return t&&e.sova.readOnly&&e.sova.readOnly[t]&&e.sova.readOnly[t](e)},label:function(e,t,n){var r=e||" ";return n?t?{_teg:"div",text:r,attributes:{style:Object.assign({},n,{width:t}),className:"label"}}:{_teg:"div",text:r,attributes:{style:Object.assign({},n),className:"label"}}:t?{_teg:"div",text:r,attributes:{style:{width:t},className:"label"}}:{_teg:"div",text:r,attributes:{className:"label"}}},partition:function(e,t,n){if(e){var r=e.split(t);return n?r.length>1?[r[0],r.slice(1).join(t)]:[e,""]:r.length>1?[r[0].trim(),r.slice(1).join(t).trim()]:[e.trim(),""]}return["",""]},dtRus:function(e){var t=(e||"").split("\n").map(function(e){if("string"!=typeof e)return"";if(e.indexOf("-")<0)return e;var t=d.partition(e," "),n=i(t,2),r=n[0],o=n[1];return r.slice(-2)+"."+r.slice(5,7)+"."+r.slice(0,4)+(o?" "+o:"")});return t.join("\n")},dtDB:function(e){var t=e.split("\n").map(function(e){if("string"!=typeof e)return"";if(e.indexOf(".")<0)return e;var t=d.partition(e," "),n=i(t,2),r=n[0],o=n[1];return r.slice(-4)+"-"+r.slice(3,5)+"-"+r.slice(0,2)+(o?" "+o:"")});return t.join("\n")},formatDate:function(e){return("0"+e.getUTCDate()).slice(-2)+"."+("0"+(e.getUTCMonth()+1)).slice(-2)+"."+e.getUTCFullYear()},formatDateTime:function(e){return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)+" "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)},addJson:function(e,t,n){var r=n||"";return(t||"")===r||e.endsWith("_FD")||e.endsWith(".FD")||e.startsWith("BTN_")?"":'"'+e+'":['+JSON.stringify(t||"")+","+JSON.stringify(r)+"],"},jsonByUrl:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"get",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new Promise(function(o,i){var a={credentials:"include"};"get"===n?a.cache=t.startsWith("api.getc")||t.startsWith("list?")?"force-cache":"no-store":(a.method="post",a.headers={"Content-type":"text/plain; charset=UTF-8"},a.body=r),e.waitLoad=!0,setTimeout(function(t){return e.waitLoad&&e.setState({spinner:!0})},500),fetch(t,a).then(function(e){return 200===e.status?e.json():i("jsonByUrl.js.fetch-status: "+e.status)}).then(function(t){o(t),e.waitLoad=!1,e.setState({spinner:!1})}).catch(function(t){e.waitLoad=!1,e.setState({spinner:!1}),console.error("jsonByUrl.js.fetch-error:",t.message),i(t.message)})})},jsCssFiles:[],addJsCSS:function(e,t){if(!e)return t();var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var s=a.value;s&&!d.jsCssFiles.includes(s)&&(n.push(s),d.jsCssFiles.push(s))}}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}if(!n.length)return t();var u=0,c=function e(r){var o=void 0;d.partition(n[u],"::")[0].endsWith(".css")?(o=document.createElement("link"),o.rel="stylesheet",o.href=n[u]):(o=document.createElement("script"),o.src=n[u]),window.owlDebug&&console.log("include",o.rel||"script",n[u]),document.head.appendChild(o),u++,o.onload=function(r){return u>=n.length?t():e()},o.onerror=function(r){return u>=n.length?t():e()}};c()},cmpObj:function(e,t){if("undefined"==typeof e&&"undefined"==typeof t)return!0;if(("undefined"==typeof e?"undefined":o(e))!==("undefined"==typeof t?"undefined":o(t)))return!1;for(var n in e){if(e.hasOwnProperty(n)!==t.hasOwnProperty(n))return!1;if("object"===o(e[n])){if(!d.cmpObj(e[n],t[n]))return!1}else if(e[n]!==t[n])return!1}for(var r in t)if("undefined"==typeof e[r])return!1;return!0},splitText:function(e,t){return e?e.includes("\n")&&t.br?e.split("\n").map(function(e,n){return t.s2&&n===t.s2-1?"p"===t.br&&e?l.default.createElement("p",{key:n},l.default.createElement("b",null,c(e))):l.default.createElement("span",{key:n},l.default.createElement("b",null,n?l.default.createElement("br",null):null,c(e))):"p"===t.br&&e?l.default.createElement("p",{key:n},c(e)):l.default.createElement("span",{key:n},n?l.default.createElement("br",null):null,c(e))}):1===t.s2?l.default.createElement("b",null,c(e)):c(e):""},sleep:function(e){return new Promise(function(t,n){return setTimeout(t,e)})},addChildPage:function(e,t){var n=Object.assign({},t,{owner:e,key:Math.random(),docProps:{}});n.frameStyle=Object.assign({},t.frameStyle),n.docProps.unid=n.unid=t.unid||"0001".repeat(8);for(var r=["dbAlias","rsMode","focus","form","newForm"],o=0;o<r.length;o++){var i=r[o];n.docProps[i]=t[i]||""}return e.zIndexArr=e.zIndexArr||[],n.avatar?(e.sovaPages.unshift(n),void e.zIndexArr.unshift(t.pageName)):(e.sovaPages.push(n),e.zIndexArr.push(t.pageName),e.zIndex=t.pageName,n.pont&&(n.frameStyle.transition="all 0.5s ease"),e.forceUpdate(),void setTimeout(function(t){return e.forceUpdate()},1))},copyToClipboard:function(e){if(navigator.clipboard)navigator.clipboard.writeText(e).then(function(e){}).catch(function(t){if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var n=document.createElement("textarea");n.textContent=e,n.style.position="fixed",document.body.appendChild(n),n.select();try{return document.execCommand("copy")}catch(e){console.warn("Copy to clipboard failed.",e)}finally{document.body.removeChild(n)}}});else if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var t=document.createElement("textarea");t.textContent=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch(e){console.warn("Copy to clipboard failed.",e)}finally{document.body.removeChild(t)}}},_div:function(e,t,n){var r={_teg:"div"};return e&&(r.attributes=e),t&&(r.children=t),n&&(r.text=n),r},getDom:function(e,t){var n=t.toUpperCase().trim();return n in e.register&&e.register[n].getDom&&e.register[n].getDom()},getRect:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,r="string"==typeof e?document.getElementById(e).getBoundingClientRect():e.mainDiv.current.getBoundingClientRect(),o=r.left,i=r.top,a=r.width,l=r.height;return t<=100||n<=100?(o+=Math.floor(a*(100-t)/200),i+=Math.floor(l*(100-n)/200),a=Math.floor(a*t/100),l=Math.floor(l*n/100)):(o+=t<a-10?(a-t)/2:5,i+=n<l-10?(l-n)/2:5,a=t<a-10?t:a-10,l=n<l-10?n:l-10),{left:o,top:i,width:a,height:l}}};t.default=d},function(e,t,n){e.exports=n(228)},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t,n){return E.set(e,{selection:t,forceSelection:n,nativelyRenderedContent:null,inlineStyleOverride:null})}function a(e,t){return e.getBlockMap().map(function(n){return p.generate(e,n,t)}).toOrderedMap()}function l(e,t,n,r){var o=e.getCurrentContent().set("entityMap",n),i=o.getBlockMap(),a=e.getImmutable().get("treeMap");return a.merge(t.toSeq().filter(function(e,t){return e!==i.get(t)}).map(function(e){return p.generate(o,e,r)}))}function s(e,t,n,r,o){return n.merge(t.toSeq().filter(function(t){return r.getDecorations(t,e)!==o.getDecorations(t,e)}).map(function(t){return p.generate(e,t,r)}))}function u(e,t){var n=e.getLastChangeType();return t!==n||"insert-characters"!==t&&"backspace-character"!==t&&"delete-character"!==t}function c(e,t){var n=t.getStartKey(),r=t.getStartOffset(),o=e.getBlockForKey(n);return r>0?o.getInlineStyleAt(r-1):o.getLength()?o.getInlineStyleAt(0):d(e,n)}function f(e,t){var n=t.getStartKey(),r=t.getStartOffset(),o=e.getBlockForKey(n);return r<o.getLength()?o.getInlineStyleAt(r):r>0?o.getInlineStyleAt(r-1):d(e,n)}function d(e,t){var n=e.getBlockMap().reverse().skipUntil(function(e,n){return n===t}).skip(1).skipUntil(function(e,t){return e.getLength()}).first();return n?n.getInlineStyleAt(n.getLength()-1):m()}var p=n(123),h=n(40),g=n(145),v=n(26),y=n(2),m=y.OrderedSet,b=y.Record,w=y.Stack,x=y.OrderedMap,_=y.List,S={allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:w(),selection:null,treeMap:null,undoStack:w()},k=b(S),E=function(){function e(e){o(this,"_immutable",void 0),this._immutable=e}e.createEmpty=function(e){return this.createWithText("",e)},e.createWithText=function(t,n){return e.createWithContent(h.createFromText(t),n)},e.createWithContent=function(t,n){if(0===t.getBlockMap().count())return e.createEmpty(n);var r=t.getBlockMap().first().getKey();return e.create({currentContent:t,undoStack:w(),redoStack:w(),decorator:n||null,selection:v.createEmpty(r)})},e.create=function(t){var n=t.currentContent,o=t.decorator,i=r({},t,{treeMap:a(n,o),directionMap:g.getDirectionMap(n)});return new e(new k(i))},e.fromJS=function(t){return new e(new k(r({},t,{directionMap:null!=t.directionMap?x(t.directionMap):t.directionMap,inlineStyleOverride:null!=t.inlineStyleOverride?m(t.inlineStyleOverride):t.inlineStyleOverride,nativelyRenderedContent:null!=t.nativelyRenderedContent?h.fromJS(t.nativelyRenderedContent):t.nativelyRenderedContent,redoStack:null!=t.redoStack?w(t.redoStack.map(function(e){return h.fromJS(e)})):t.redoStack,selection:null!=t.selection?new v(t.selection):t.selection,treeMap:null!=t.treeMap?x(t.treeMap).map(function(e){return _(e).map(function(e){return p.fromJS(e)})}):t.treeMap,undoStack:null!=t.undoStack?w(t.undoStack.map(function(e){return h.fromJS(e)})):t.undoStack,currentContent:h.fromJS(t.currentContent)})))},e.set=function(t,n){var r=t.getImmutable().withMutations(function(e){var r=e.get("decorator"),o=r;null===n.decorator?o=null:n.decorator&&(o=n.decorator);var i=n.currentContent||t.getCurrentContent();if(o!==r){var u,c=e.get("treeMap");return u=o&&r?s(i,i.getBlockMap(),c,o,r):a(i,o),void e.merge({decorator:o,treeMap:u,nativelyRenderedContent:null})}var f=t.getCurrentContent();i!==f&&e.set("treeMap",l(t,i.getBlockMap(),i.getEntityMap(),o)),e.merge(n)});return new e(r)};var t=e.prototype;return t.toJS=function(){return this.getImmutable().toJS()},t.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},t.getCurrentContent=function(){return this.getImmutable().get("currentContent")},t.getUndoStack=function(){return this.getImmutable().get("undoStack")},t.getRedoStack=function(){return this.getImmutable().get("redoStack")},t.getSelection=function(){return this.getImmutable().get("selection")},t.getDecorator=function(){return this.getImmutable().get("decorator")},t.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},t.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},t.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},t.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},t.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},e.setInlineStyleOverride=function(t,n){return e.set(t,{inlineStyleOverride:n})},t.getCurrentInlineStyle=function(){var e=this.getInlineStyleOverride();if(null!=e)return e;var t=this.getCurrentContent(),n=this.getSelection();return n.isCollapsed()?c(t,n):f(t,n)},t.getBlockTree=function(e){return this.getImmutable().getIn(["treeMap",e])},t.isSelectionAtStartOfContent=function(){var e=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(e,0,0)},t.isSelectionAtEndOfContent=function(){var e=this.getCurrentContent(),t=e.getBlockMap(),n=t.last(),r=n.getLength();return this.getSelection().hasEdgeWithin(n.getKey(),r,r)},t.getDirectionMap=function(){return this.getImmutable().get("directionMap")},e.acceptSelection=function(e,t){return i(e,t,!1)},e.forceSelection=function(e,t){return t.getHasFocus()||(t=t.set("hasFocus",!0)),i(e,t,!0)},e.moveSelectionToEnd=function(t){var n=t.getCurrentContent(),r=n.getLastBlock(),o=r.getKey(),i=r.getLength();return e.acceptSelection(t,new v({anchorKey:o,anchorOffset:i,focusKey:o,focusOffset:i,isBackward:!1}))},e.moveFocusToEnd=function(t){var n=e.moveSelectionToEnd(t);return e.forceSelection(n,n.getSelection())},e.push=function(t,n,r){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t.getCurrentContent()===n)return t;var i=g.getDirectionMap(n,t.getDirectionMap());if(!t.getAllowUndo())return e.set(t,{currentContent:n,directionMap:i,lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:o,inlineStyleOverride:null});var a=t.getSelection(),l=t.getCurrentContent(),s=t.getUndoStack(),c=n;a!==l.getSelectionAfter()||u(t,r)?(s=s.push(l),c=c.set("selectionBefore",a)):"insert-characters"!==r&&"backspace-character"!==r&&"delete-character"!==r||(c=c.set("selectionBefore",l.getSelectionBefore()));var f=t.getInlineStyleOverride(),d=["adjust-depth","change-block-type","split-block"];d.indexOf(r)===-1&&(f=null);var p={currentContent:c,directionMap:i,undoStack:s,redoStack:w(),lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:o,inlineStyleOverride:f};return e.set(t,p)},e.undo=function(t){if(!t.getAllowUndo())return t;var n=t.getUndoStack(),r=n.peek();if(!r)return t;var o=t.getCurrentContent(),i=g.getDirectionMap(r,t.getDirectionMap());return e.set(t,{currentContent:r,directionMap:i,undoStack:n.shift(),redoStack:t.getRedoStack().push(o),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:o.getSelectionBefore()})},e.redo=function(t){if(!t.getAllowUndo())return t;var n=t.getRedoStack(),r=n.peek();if(!r)return t;var o=t.getCurrentContent(),i=g.getDirectionMap(r,t.getDirectionMap());return e.set(t,{currentContent:r,directionMap:i,undoStack:t.getUndoStack().push(o),redoStack:n.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:r.getSelectionAfter()})},t.getImmutable=function(){return this._immutable},e}();e.exports=E},function(e,t,n){"use strict";var r=n(10),o=n(125),i=n(150),a=n(170),l=n(28),s=n(2),u=n(174),c=n(175),f=n(3),d=n(82),p=n(85),h=n(191),g=n(193),v=s.OrderedSet,y={replaceText:function(e,t,n,o,i){var a=p(e,t),l=h(a,t),s=r.create({style:o||v(),entity:i||null});return c(l,l.getSelectionAfter(),n,s)},insertText:function(e,t,n,r,o){return t.isCollapsed()?void 0:f(!1),y.replaceText(e,t,n,r,o)},moveText:function(e,t,n){var r=l(e,t),o=y.removeRange(e,t,"backward");return y.replaceWithFragment(o,n,r)},replaceWithFragment:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA",o=p(e,t),i=h(o,t);return u(i,i.getSelectionAfter(),n,r)},removeRange:function(e,t,n){var r,o,i,l;t.getIsBackward()&&(t=t.merge({anchorKey:t.getFocusKey(),anchorOffset:t.getFocusOffset(),focusKey:t.getAnchorKey(),focusOffset:t.getAnchorOffset(),isBackward:!1})),r=t.getAnchorKey(),o=t.getFocusKey(),i=e.getBlockForKey(r),l=e.getBlockForKey(o);var s=t.getStartOffset(),u=t.getEndOffset(),c=i.getEntityAt(s),f=l.getEntityAt(u-1);if(r===o&&c&&c===f){var d=a(e.getEntityMap(),i,l,t,n);return h(e,d)}var g=p(e,t);return h(g,t)},splitBlock:function(e,t){var n=p(e,t),r=h(n,t);return g(r,r.getSelectionAfter())},applyInlineStyle:function(e,t,n){return o.add(e,t,n)},removeInlineStyle:function(e,t,n){return o.remove(e,t,n)},setBlockType:function(e,t,n){return d(e,t,function(e){return e.merge({type:n,depth:0})})},setBlockData:function(e,t,n){return d(e,t,function(e){return e.merge({data:n})})},mergeBlockData:function(e,t,n){return d(e,t,function(e){return e.merge({data:e.getData().merge(n)})})},applyEntity:function(e,t,n){var r=p(e,t);return i(r,t,n)}};e.exports=y},function(e,t,n){"use strict";function r(e,t,n,r){if(e===n)return!0;if(!n.startsWith(e))return!1;var o=n.slice(e.length);return!!t&&(o=r?r(o):o,a.contains(o,t))}function o(e){return"Windows"===i.platformName?e.replace(/^\s*NT/,""):e}var i=n(210),a=n(211),l=n(222),s=n(223),u={isBrowser:function(e){return r(i.browserName,i.browserFullVersion,e)},isBrowserArchitecture:function(e){return r(i.browserArchitecture,null,e)},isDevice:function(e){return r(i.deviceName,null,e)},isEngine:function(e){return r(i.engineName,i.engineVersion,e)},isPlatform:function(e){return r(i.platformName,i.platformFullVersion,e,o)},isPlatformArchitecture:function(e){return r(i.platformArchitecture,null,e)}};e.exports=l(u,s)},function(e,t){"use strict";var n=function(e){if(null!=e)return e;throw new Error("Got unexpected null or undefined")};e.exports=n},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var o=n(2),i=o.Map,a=o.OrderedSet,l=o.Record,s=a(),u={style:s,entity:null},c=l(u),f=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.getStyle=function(){return this.get("style")},n.getEntity=function(){return this.get("entity")},n.hasStyle=function(e){return this.getStyle().includes(e)},t.applyStyle=function(e,n){var r=e.set("style",e.getStyle().add(n));return t.create(r)},t.removeStyle=function(e,n){var r=e.set("style",e.getStyle().remove(n));return t.create(r)},t.applyEntity=function(e,n){var r=e.getEntity()===n?e:e.set("entity",n);return t.create(r)},t.create=function(e){if(!e)return d;var n={style:s,entity:null},r=i(n).merge(e),o=p.get(r);if(o)return o;var a=new t(r);return p=p.set(r,a),a},t.fromJS=function(e){var n=e.style,r=e.entity;return new t({style:Array.isArray(n)?a(n):n,entity:Array.isArray(r)?a(r):r})},t}(c),d=new f,p=i([[i(u),d]]);f.EMPTY=d,e.exports=f},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var o=n(10),i=n(22),a=n(2),l=a.List,s=a.Map,u=a.OrderedSet,c=a.Record,f=a.Repeat,d=u(),p={parent:null,characterList:l(),data:s(),depth:0,key:"",text:"",type:"unstyled",children:l(),prevSibling:null,nextSibling:null},h=function(e,t){return e.getStyle()===t.getStyle()},g=function(e,t){return e.getEntity()===t.getEntity()},v=function(e){if(!e)return e;var t=e.characterList,n=e.text;return n&&!t&&(e.characterList=l(f(o.EMPTY,n.length))),e},y=function(e){function t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return e.call(this,v(t))||this}r(t,e);var n=t.prototype;return n.getKey=function(){return this.get("key")},n.getType=function(){return this.get("type")},n.getText=function(){return this.get("text")},n.getCharacterList=function(){return this.get("characterList")},n.getLength=function(){return this.getText().length},n.getDepth=function(){return this.get("depth")},n.getData=function(){return this.get("data")},n.getInlineStyleAt=function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():d},n.getEntityAt=function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},n.getChildKeys=function(){return this.get("children")},n.getParentKey=function(){return this.get("parent")},n.getPrevSiblingKey=function(){return this.get("prevSibling")},n.getNextSiblingKey=function(){return this.get("nextSibling")},n.findStyleRanges=function(e,t){i(this.getCharacterList(),h,e,t)},n.findEntityRanges=function(e,t){i(this.getCharacterList(),g,e,t)},t}(c(p));e.exports=y},function(e,t){"use strict";function n(){for(var e;void 0===e||r.hasOwnProperty(e)||!isNaN(+e);)e=Math.floor(Math.random()*o).toString(32);return r[e]=!0,e}var r={},o=Math.pow(2,24);e.exports=n},function(e,t){"use strict";var n="-",r={encode:function(e,t,r){return e+n+t+n+r},decode:function(e){var t=e.split(n).reverse(),r=t[0],o=t[1],i=t.slice(2);return{blockKey:i.reverse().join(n),decoratorKey:parseInt(o,10),leafKey:parseInt(r,10)}}};e.exports=r},function(e,t){"use strict";e.exports=function(e){return!("undefined"==typeof window||!window.__DRAFT_GKX)&&!!window.__DRAFT_GKX[e]}},function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}var o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=r()?Object.assign:function(e,t){for(var r,l,s=n(e),u=1;u<arguments.length;u++){r=Object(arguments[u]);for(var c in r)i.call(r,c)&&(s[c]=r[c]);if(o){l=o(r);for(var f=0;f<l.length;f++)a.call(r,l[f])&&(s[l[f]]=r[l[f]])}}return s}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.boxing=t.makeControl=t.controller=void 0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=n(1),u=r(s),c=n(5),f=r(c),d=n(4),p=r(d),h=n(39),g=r(h),v=n(38),y=r(v),m=n(113),b=r(m),w=n(114),x=r(w),_=n(106),S=r(_),k=n(109),E=r(k),C=n(119),O=r(C),D=n(105),T=n(117),N=r(T),M=n(120),I=r(M),B=n(112),P=r(B),A=n(107),R=r(A),F=n(103),L=r(F),j=n(53),z=r(j),K=n(102),U=r(K),V=n(118),H=r(V),W=n(116),q=r(W),Y=n(115),X=r(Y),$=n(98),J=r($),G=["number","lbsd","lbse","lbmd","lbme","dt","tx","kladr","rtf","phone"],Q=t.controller=function(e){switch(e.type){case"chb3":return u.default.createElement(D.Checkbox3,e);case"chb":return u.default.createElement(D.Checkbox,e);case"number":return u.default.createElement(y.default,e);case"lbse":case"lbme":case"kladr":case"tx":return u.default.createElement(g.default,e);case"lbsd":case"lbmd":return u.default.createElement(x.default,e);case"dt":return e.readOnly?u.default.createElement(g.default,Object.assign({},e,{xValue:p.default.dtRus(e.xValue)})):u.default.createElement(S.default,e);case"fd":return u.default.createElement(E.default,e);case"table":case"gr":return u.default.createElement(O.default,e);case"json":return u.default.createElement(P.default,e);case"list":return u.default.createElement(b.default,e);case"readyList":return u.default.createElement(N.default,e);case"view":return u.default.createElement(I.default,e);case"input-color":return u.default.createElement(z.default,e);case"band":return u.default.createElement(U.default,e);case"slip":return u.default.createElement(H.default,e);case"box":return u.default.createElement(J.default,e);case"phone":return u.default.createElement(q.default,e);case"page":return u.default.createElement(X.default,e);case"fileShow":return u.default.createElement(R.default,e);default:return console.warn("Неизвестный тип поля",e.xName,e.type),u.default.createElement("div",null,"Неизвестный тип поля: "+e.xName+" "+e.type)}},Z=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.componentDidUpdate=function(){n.top===-50&&setTimeout(function(){n.top=0,n.forceUpdate()},1)},n.changeToolbar=function(e){return n.child=e},n.render=function(){return u.default.createElement("div",{className:n.props.className,style:{top:n.top}},n.child||te(n.props.children,n.props.doc))},(0,f.default)(n),"rtf-toolbar"===n.props.className&&(n.top=-50),n}return a(t,e),t}(u.default.Component),ee=t.makeControl=function(e,t,n,r,o,i){if(t.comment)return null;var a=Object.assign({},t.attributes),l=t.fieldProps||{};a.style=Object.assign({},a.style),r=r||l.readOnly||p.default.readOnly(n,a.name),p.default.hide(n,a.name)&&(a.style.display="none");var s=Object.assign({},l,a,{readOnly:r&&!l.edit});if(t.field){var c=t.field[0].toUpperCase(),f=n.fieldValues&&n.fieldValues[c]||"",d=t.field[1],h=Object.assign({},s,{doc:n,xName:c,xValue:f,type:d,key:e});return"fileShow"===d?(h.ref=function(e){e&&(n.fileShow[c]=e)},h.uploadDone=n.cmdSave2):(h.ref=function(e){e&&(n.register[c]=e)},h.ls=t.field[2]||null),G.includes(h.type)&&!h.readOnly&&(h.myRow=n.currRow-1),Q(h)}if(t.video){var g={};for(var v in t)"video"!==v&&(g[v]=t[v]);return u.default.createElement("video",Object.assign({key:e},g,{ref:function(e){return n.register[t.video]=e}}))}if(!t._teg)return console.log("makeControl: empty element: ",t),null;var y=t._teg.toLowerCase(),m=void 0,b=p.default.splitText(t.text,l),w=t.children&&te(t.children,n,r,o||"none"===a.style.display,l.wl||i,null);switch(b&&"button"!==y&&(w?w.unshift(b):w=b),a.key=e,y){case"div":return(a.className||"").startsWith("label")&&i&&!a.style.width&&(a.style.width=a.style.minWidth=a.style.maxWidth=i),a.className&&a.className.includes("toolbar")?u.default.createElement(Z,Object.assign({},a,{children:t.children,doc:n,ref:function(e){return n.toolbar=e}})):u.default.createElement("div",a,w);case"img":return a.href?u.default.createElement("a",{href:a.href,key:e,target:a.target,title:a.title},u.default.createElement("img",{src:a.src,width:"100%",alt:a.alt||"alt",title:a.title,className:a.className,style:a.style})):(l._cmd&&(a.onClick=function(e){return p.default.runCmd(n,l._cmd,l._param)},a.style.cursor="pointer"),u.default.createElement("img",Object.assign({},a,{alt:a.alt||"alt"})));case"button":if(l._div){var x="BTN_"+l._cmd.toUpperCase();return u.default.createElement(L.default,Object.assign({},a,{label:t.text||"",cmd:l._cmd,param:l._param,doc:n,children:w,ref:function(e){n.register[x]||(n.register[x]=e)}}))}return u.default.createElement("button",Object.assign({},a,{onClick:function(e){return p.default.runCmd(n,l._cmd,l._param,e.ctrlKey)}}),t.text);case"ul":return m=b?b.split("\n").map(function(e,t){return t?u.default.createElement("li",{key:t},e):e}):w,u.default.createElement("ul",a,m[0],m.slice(1));case"ol":return m=b?b.split("\n").map(function(e,t){return t?u.default.createElement("li",{key:t},e):e}):w,u.default.createElement("ol",a,m[0],m.slice(1));case"a":return u.default.createElement("a",a,w);case"p":return u.default.createElement("p",a,w);case"span":return u.default.createElement("span",a,w);case"b":return u.default.createElement("b",a,w);case"i":return u.default.createElement("i",a,w);case"li":return u.default.createElement("li",a,w);case"h2":return u.default.createElement("h2",a,w);case"h3":return u.default.createElement("h3",a,w);case"h4":return u.default.createElement("h4",a,w);case"input":return u.default.createElement("input",a);case"form":return u.default.createElement("form",a,w);case"textarea":return u.default.createElement("textarea",a,b);case"label":return u.default.createElement("label",a,w);case"dl":return u.default.createElement("dl",a,w);case"dt":return u.default.createElement("dt",a,w);case"dd":return u.default.createElement("dd",a,w);case"br":return u.default.createElement("br",{key:e});case"header":return u.default.createElement("header",a,w);case"article":return u.default.createElement("article",a,w);case"footer":return u.default.createElement("footer",a,w);case"details":return u.default.createElement("details",a,w);case"summary":return u.default.createElement("summary",a,w);case"pre":return u.default.createElement("pre",a,w);case"nav":return u.default.createElement("nav",a,w);case"html":return u.default.createElement("div",a,w);case"body":return u.default.createElement("div",a,w);case"main":return u.default.createElement("main",a,w);case"iframe":return u.default.createElement("iframe",a,w);case"strong":return u.default.createElement("strong",a,w);case"ins":return u.default.createElement("ins",a,w);case"em":return u.default.createElement("em",a,w);case"hr":return u.default.createElement("hr",a);case"svg":return u.default.createElement("svg",a,w);case"path":return u.default.createElement("path",a,w);case"polygon":return u.default.createElement("polygon",a,w);default:return console.log("undefined _teg:",y),"<"+y+">"+w+"</"+y+">"}},te=t.boxing=function(e,t,n,r,o,i){if(!e)return[];if(!e.map)return console.error(e),[u.default.createElement("div",{key:"errBoxing"},u.default.createElement("b",null,"boxing-error: expected Array, received: "+("undefined"==typeof e?"undefined":l(e))),u.default.createElement("div",null,e.toString()))];var a=void 0,s=e.map(function(e,s){if(!e)return null;if("string"==typeof e)return e;if("object"!==("undefined"==typeof e?"undefined":l(e)))return null;if(e.$$typeof)return e;var u=e.attributes?e.attributes.name:e.name;return n||e.fieldProps&&e.fieldProps.readOnly||p.default.readOnly(t,u)||!a&&e.field&&G.includes(e.field[1])&&(a=e.field[0],t.focusRows[t.currRow++]=a),ee(i||s,e,t,n,r,o)});return s.filter(function(e){return e})}},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function o(e,t){return e.getStyle()===t.getStyle()}function i(e,t){return e.getEntity()===t.getEntity()}var a=n(10),l=n(22),s=n(2),u=s.List,c=s.Map,f=s.OrderedSet,d=s.Record,p=s.Repeat,h=f(),g={key:"",type:"unstyled",text:"",characterList:u(),depth:0,data:c()},v=d(g),y=function(e){if(!e)return e;var t=e.characterList,n=e.text;return n&&!t&&(e.characterList=u(p(a.EMPTY,n.length))),e},m=function(e){function t(t){return e.call(this,y(t))||this}r(t,e);var n=t.prototype;return n.getKey=function(){return this.get("key")},n.getType=function(){return this.get("type")},n.getText=function(){return this.get("text")},n.getCharacterList=function(){return this.get("characterList")},n.getLength=function(){return this.getText().length},n.getDepth=function(){return this.get("depth")},n.getData=function(){return this.get("data")},n.getInlineStyleAt=function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():h},n.getEntityAt=function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},n.findStyleRanges=function(e,t){l(this.getCharacterList(),o,e,t)},n.findEntityRanges=function(e,t){l(this.getCharacterList(),i,e,t)},t}(v);e.exports=m},function(e,t){"use strict";function n(e){return!(!e||!e.ownerDocument)&&e.nodeType===Node.ELEMENT_NODE}e.exports=n},function(e,t,n){"use strict";function r(e){return d<=e&&e<=g}function o(e,t){if(0<=t&&t<e.length?void 0:f(!1),t+1===e.length)return!1;var n=e.charCodeAt(t),r=e.charCodeAt(t+1);return d<=n&&n<=p&&h<=r&&r<=g}function i(e){return v.test(e)}function a(e,t){return 1+r(e.charCodeAt(t))}function l(e){if(!i(e))return e.length;for(var t=0,n=0;n<e.length;n+=a(e,n))t++;return t}function s(e,t,n){if(t=t||0,n=void 0===n?1/0:n||0,!i(e))return e.substr(t,n);var r=e.length;if(r<=0||t>r||n<=0)return"";var o=0;if(t>0){for(;t>0&&o<r;t--)o+=a(e,o);if(o>=r)return""}else if(t<0){for(o=r;t<0&&0<o;t++)o-=a(e,o-1);o<0&&(o=0)}var l=r;if(n<r)for(l=o;n>0&&l<r;n--)l+=a(e,l);return e.substring(o,l)}function u(e,t,n){t=t||0,n=void 0===n?1/0:n||0,t<0&&(t=0),n<0&&(n=0);var r=Math.abs(n-t);return t=t<n?t:n,s(e,t,r)}function c(e){for(var t=[],n=0;n<e.length;n+=a(e,n))t.push(e.codePointAt(n));return t}var f=n(3),d=55296,p=56319,h=56320,g=57343,v=/[\uD800-\uDFFF]/,y={getCodePoints:c,getUTF16Length:a,hasSurrogateUnit:i,isCodeUnitInSurrogateRange:r,isSurrogatePair:o,strlen:l,substring:u,substr:s};e.exports=y},function(e,t){"use strict";
function n(e){return"object"==typeof e?Object.keys(e).filter(function(t){return e[t]}).map(r).join(" "):Array.prototype.map.call(arguments,r).join(" ")}function r(e){return e.replace(/\//g,"-")}e.exports=n},function(e,t,n){"use strict";var r=n(2),o=r.OrderedMap,i={createFromArray:function(e){return o(e.map(function(e){return[e.getKey(),e]}))}};e.exports=i},function(e,t){"use strict";function n(e,t,n,r){if(e.size){var o=0;e.reduce(function(e,i,a){return t(e,i)||(n(e)&&r(o,a),o=a),i}),n(e.last())&&r(o,e.count())}}e.exports=n},function(e,t){"use strict";function n(e){return!(!e||!e.ownerDocument)&&(e.ownerDocument.defaultView?e instanceof e.ownerDocument.defaultView.HTMLElement:e instanceof HTMLElement)}e.exports=n},function(e,t,n){"use strict";function r(e,t,n){var r=e.getSelection(),i=e.getCurrentContent(),l=r,s=r.getAnchorKey(),u=r.getFocusKey(),c=i.getBlockForKey(s);if(a&&"forward"===n&&s!==u)return i;if(r.isCollapsed()){if("forward"===n){if(e.isSelectionAtEndOfContent())return i;if(a){var f=r.getAnchorOffset()===i.getBlockForKey(s).getLength();if(f){var d=i.getBlockForKey(c.nextSibling);if(!d||0===d.getLength())return i}}}else if(e.isSelectionAtStartOfContent())return i;if(l=t(e),l===r)return i}return o.removeRange(i,l,n)}var o=n(7),i=n(14),a=i("draft_tree_data_support");e.exports=r},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){console.warn("WARNING: "+e+' will be deprecated soon!\nPlease use "'+t+'" instead.')}var a=n(58),l=n(2),s=n(3),u=n(195),c=l.Map,f=c(),d=u(),p={getLastCreatedEntityKey:function(){return i("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),p.__getLastCreatedEntityKey()},create:function(e,t,n){return i("DraftEntity.create","contentState.createEntity"),p.__create(e,t,n)},add:function(e){return i("DraftEntity.add","contentState.addEntity"),p.__add(e)},get:function(e){return i("DraftEntity.get","contentState.getEntity"),p.__get(e)},__getAll:function(){return f},__loadWithEntities:function(e){f=e,d=u()},mergeData:function(e,t){return i("DraftEntity.mergeData","contentState.mergeEntityData"),p.__mergeData(e,t)},replaceData:function(e,t){return i("DraftEntity.replaceData","contentState.replaceEntityData"),p.__replaceData(e,t)},__getLastCreatedEntityKey:function(){return d},__create:function(e,t,n){return p.__add(new a({type:e,mutability:t,data:n||{}}))},__add:function(e){return d=u(),f=f.set(d,e),d},__get:function(e){var t=f.get(e);return t?void 0:s(!1),t},__mergeData:function(e,t){var n=p.__get(e),o=r({},n.getData(),t),i=n.set("data",o);return f=f.set(e,i),i},__replaceData:function(e,t){var n=p.__get(e),r=n.set("data",t);return f=f.set(e,r),r}};e.exports=p},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var o=n(2),i=o.Record,a={anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1},l=i(a),s=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},n.getAnchorKey=function(){return this.get("anchorKey")},n.getAnchorOffset=function(){return this.get("anchorOffset")},n.getFocusKey=function(){return this.get("focusKey")},n.getFocusOffset=function(){return this.get("focusOffset")},n.getIsBackward=function(){return this.get("isBackward")},n.getHasFocus=function(){return this.get("hasFocus")},n.hasEdgeWithin=function(e,t,n){var r=this.getAnchorKey(),o=this.getFocusKey();if(r===o&&r===e){var i=this.getStartOffset(),a=this.getEndOffset();return t<=i&&i<=n||t<=a&&a<=n}if(e!==r&&e!==o)return!1;var l=e===r?this.getAnchorOffset():this.getFocusOffset();return t<=l&&n>=l},n.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},n.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},n.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},n.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},n.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},t.createEmpty=function(e){return new t({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:0,isBackward:!1,hasFocus:!1})},t}(l);e.exports=s},function(e,t,n){"use strict";function r(e){for(var t=e;t&&t!==o(e).documentElement;){var n=i(t);if(null!=n)return n;t=t.parentNode}return null}var o=n(29),i=n(75);e.exports=r},function(e,t,n){"use strict";var r=n(84),o=n(85),i=function(e,t){var n=t.getStartKey(),i=t.getStartOffset(),a=t.getEndKey(),l=t.getEndOffset(),s=o(e,t),u=s.getBlockMap(),c=u.keySeq(),f=c.indexOf(n),d=c.indexOf(a)+1;return r(u.slice(f,d).map(function(e,t){var r=e.getText(),o=e.getCharacterList();return n===a?e.merge({text:r.slice(i,l),characterList:o.slice(i,l)}):t===n?e.merge({text:r.slice(i),characterList:o.slice(i)}):t===a?e.merge({text:r.slice(0,l),characterList:o.slice(0,l)}):e}))};e.exports=i},function(e,t){"use strict";function n(e){return e&&e.ownerDocument?e.ownerDocument:document}e.exports=n},function(e,t){"use strict";function n(e){return"handled"===e||e===!0}e.exports=n},function(e,t){"use strict";e.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},function(e,t,n){"use strict";function r(e,t){var n=i.get(e,t);return"auto"===n||"scroll"===n}var o=n(216),i={get:o,getScrollParent:function(e){if(!e)return null;for(var t=e.ownerDocument;e&&e!==t.body;){if(r(e,"overflow")||r(e,"overflowY")||r(e,"overflowX"))return e;e=e.parentNode}return t.defaultView||t.parentWindow}};e.exports=i},function(e,t,n){"use strict";function r(e){return e===f||e===d}function o(e){return r(e)?void 0:u(!1),e===f?"ltr":"rtl"}function i(e,t){return r(e)?void 0:u(!1),r(t)?void 0:u(!1),e===t?null:o(e)}function a(e){p=e}function l(){a(f)}function s(){return p||this.initGlobalDir(),p?void 0:u(!1),p}var u=n(3),c="NEUTRAL",f="LTR",d="RTL",p=null,h={NEUTRAL:c,LTR:f,RTL:d,isStrong:r,getHTMLDir:o,getHTMLDirIfDifferent:i,setGlobalDir:a,initGlobalDir:l,getGlobalDir:s};e.exports=h},function(e,t,n){"use strict";function r(e){var t=o(e.ownerDocument||e.document);e.Window&&e instanceof e.Window&&(e=t);var n=i(e),r=e===t?e.ownerDocument.documentElement:e,a=e.scrollWidth-r.clientWidth,l=e.scrollHeight-r.clientHeight;return n.x=Math.max(0,Math.min(n.x,a)),n.y=Math.max(0,Math.min(n.y,l)),n}var o=n(214),i=n(217);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=n(1),c=r(u),f=n(5),d=r(f),p=n(94),h=r(p),g=n(51),v=n(16),y=n(95),m=r(y),b=n(4),w=r(b),x=n(37);n(203),n(205),n(201),n(204),n(198),n(199),n(200),n(202);var _=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(n.setTable=function(){for(var e=(function(e){var t=e.toString(),r=n.register["BTN_CMDTAB_"+t];return r?(r.style=r.style||{},t===n._tabHeader?r.setStyle({backgroundColor:"#fff",borderBottomWidth:0}):r.setStyle({backgroundColor:"#f0f0f0",borderBottomWidth:2}),r.forceUpdate(),void(n.cmdList["cmdTab_"+t]=function(){n._tabHeader=t,n.fieldValues&&"_TABHEADER"in n.fieldValues&&n.setField("_tabHeader",t);for(var e=0;e<10;e++){var r=n.register["BTN_CMDTAB_"+e];if(!r)break;e.toString()===n._tabHeader?r.setStyle({borderBottomWidth:0,backgroundColor:"#fff"}):r.setStyle({borderBottomWidth:2,backgroundColor:"#f0f0f0"})}n.forceUpdate()})):"break"}),t=0;t<10;t++){var r=e(t);if("break"===r)break}},n.startResize=function(e){var t=n.sovaPagesByName.rsAvatar;t.x0=e.clientX,t.y0=e.clientY,n.dragStart="rsAvatar",e.stopPropagation(),e.preventDefault()},n.cmdList={edit:function(){return n.cmdEdit()},save:function(){return n.cmdSave()},close:function(){return n.cmdClose()},saveClose:function(e){return n.cmdSave(!0)},prn:function(){return n.cmdSave(null,!0)},docOpen:function(e){return w.default.xopen("docopen?"+e)},dbOpen:function(e){return w.default.xopen("dbopen?"+e)},xopen:function(e){return w.default.xopen(e)},newDoc:function(e){var t=e.split("&"),n=s(t,3),r=n[0],o=n[1],i=n[2];i?w.default.xopen("newdoc?"+r+"&"+o):window.open("newdoc?"+r+"&"+o)},docPreview:function(e,t){return n.docPreview(e,t)},previewNew:function(e,t){return n.previewNew(e,t)},dialog:function(e){return e()}},n.docPreview=function(e,t){t&&(t.stopPropagation(),t.preventDefault());var r=w.default.partition(e,"|"),o=s(r,2),i=o[0],a=o[1],l=w.default.partition(i,"&"),u=s(l,2),c=u[0],f=u[1];a=a.replace(/-/g,"");var d=a.split(":"),p=s(d,4),h=p[0],g=p[1],v=p[2],y=p[3];n.mainDoc.previewParams=n.mainDoc.previewParams||{top:40,left:window.innerWidth/2-480,npv:0};var m=n.mainDoc.previewParams;h&&(m.left+=20,m.top+=30);var b={dbAlias:c,unid:f,pageName:"preview_"+m.npv++,title:"Просмотр документа",rsMode:"preview",min:g,max:v,smallCls:y,frameStyle:{left:m.left,top:m.top,width:960,height:window.innerHeight-100}};w.default.addChildPage(n.mainDoc,b)},n.previewNew=function(e,t,r){if(t&&(t.ctrlKey||t.altKey))return t.preventDefault(),t.stopPropagation(),w.default.xopen("opendoc?"+e);var o=w.default.urlKeys(e),i=o.title||"preview "+o.unid,a=o.pageName||i;if(n.sovaPagesByName[a])return void(n.sovaPagesByName[a].minimized&&n.sovaPagesByName[a].dragOrRestore());var l=void 0;r?l=r:(n.mainDoc.previewParams=n.mainDoc.previewParams||{top:0,left:50,width:1e3,height:600},l=n.mainDoc.previewParams);var s=Object.assign({previewDba:e,pageName:a,resize:!0,rsMode:"preview",min:!0,max:!0,pont:!0,smallCls:!0,frameStyle:Object.assign({},l)},o);l.left+=30,l.top+=30,w.default.addChildPage(n,s)},n.dragStart=null,n.redraw=function(e,t){if(n.dragStart){var r=n.sovaPagesByName[n.dragStart];r.frameStyle.left+=e.clientX-r.x1,r.frameStyle.top+=e.clientY-r.y1,r.x1=e.clientX,r.y1=e.clientY,t&&(n.dragStart=null,r.doc&&setTimeout(function(e){return w.default.setFocus(r.doc,"*")},100)),e.stopPropagation(),e.preventDefault(),r.redraw(e,t)}},n.dragPage=function(e){return 1===e.buttons&&n.redraw(e)},n.pageMouseUp=function(e){return n.redraw(e,!0)},n.onClick=function(e){var t=n.page&&n.page.owner;if(t&&t.zIndexArr.length){var r=n.page.props.pageName,o=t.zIndexArr.indexOf(r);t.zIndex!==r&&o>=0&&(t.zIndexArr.splice(o,1),t.zIndexArr.push(r),t.zIndex=r,t.forceUpdate())}},n.componentDidUpdate=function(){if(n.pending){var e=n.pending;n.pending=null,setTimeout(e,0)}},n.componentDidMount=function(e){if(n.pending){var t=n.pending;n.pending=null,setTimeout(t,0)}n.props.fieldValues?(n.fieldValues=n.props.fieldValues,n.userName=n.props.userName,n.printList=n.props.printList,n.rsMode=n.props.rsMode||"read",n.isNew="new"===n.rsMode,n.cssJsUrl=n.props.cssJsUrl,n.unid=n.props.unid,window.owlDebug?n.props.children?n.loadForm({children:n.props.children,attributes:n.props.attributes}):(console.warn("debug: this.props.urlForm",n.props.urlForm),w.default.jsonByUrl(n,n.props.urlForm).then(function(e){return w.default.addJsCSS(n.cssJsUrl,function(t){return n.loadForm(e)})})):n.props.children?n.loadForm({children:n.props.children,attributes:n.props.attributes}):w.default.jsonByUrl(n,n.props.urlForm).then(function(e){return w.default.addJsCSS(n.cssJsUrl,function(t){return n.loadForm(e)})}).catch(function(e){return n.loadError(e+"\n\ndoc.props.urlForm:"+n.props.urlForm)})):window.owlDebug&&n.dbAlias?(console.warn("debug:this.loadDocUrl:",n.loadDocUrl),w.default.jsonByUrl(n,n.loadDocUrl).then(function(e){return n.setDocProps(e),e.urlForm?w.default.jsonByUrl(n,e.urlForm):null}).then(function(e){return w.default.addJsCSS(n.cssJsUrl,function(){return n.loadForm(e)})})):n.dbAlias&&w.default.jsonByUrl(n,n.loadDocUrl).then(function(e){return n.setDocProps(e),e.urlForm?w.default.jsonByUrl(n,e.urlForm):null}).then(function(e){return w.default.addJsCSS(n.cssJsUrl,function(t){return n.loadForm(e)})}).catch(function(e){return n.loadError(e+"\n\nurl: "+n.loadDocUrl)})},n.setDocProps=function(e){var t=e.fieldValues||{};n.fieldValues=n.props.preloadData?Object.assign({},t,n.props.preloadData):Object.assign({},t),n.oldValues=n.props.preloadOldValues?Object.assign({},e.oldValues,n.props.preloadOldValues):Object.assign({},e.oldValues),n.userName=e.userName||n.userName,n.printList=e.printList,n.rsMode=e.rsMode||n.rsMode,n.isNew="new"===n.rsMode,n.cssJsUrl=e.cssJsUrl,n.dbAlias=e.dbAlias||n.dbAlias,n.unid=e.unid||n.unid},n.loadForm=function(e){if(!e)return console.warn('Document.js.loadForm: "page" is undefined');n.fieldValues.FORM=(n.fieldValues.FORM||"").toLowerCase(),n.sova=window.sovaActions&&window.sovaActions[n.fieldValues.FORM||"??"]||{},n.sova.init&&n.sova.init(n),n.children=e.children;var t=e.attributes||{};n.wl=t.wl,n.focus=["edit","admin","new"].includes(n.rsMode)&&t.focus||"BTN_CLOSE",n.className=t.className||"",n.readOnly=t.readOnly||n.readOnly,setTimeout(function(e){return n.setFocus(n.focus)},100),n.style=Object.assign({},t.style),n._tabHeader=n.fieldValues._TABHEADER||"0";for(var r=function(e){n.hideList["TABLEBODY_"+e]=function(){return n._tabHeader!==""+e}},o=0;o<10;o++)r(o);n.forceUpdate(),setTimeout(function(){n.sova.init2&&n.sova.init2(n),n.setTable()},1)},n.loadError=function(e){var t="dbAlias: "+n.dbAlias+"\nunid: "+n.unid+"\n\n"+e;n.msg.error(t,"Ошибка открытия документа")},n.cmdEdit=function(e){n.getField("readOnly")||(window.location.href="opendoc?dbAlias="+n.dbAlias+"&unid="+n.unid+"&mode=edit")},n.cmdClose=function(e){return!n.waitSave&&n.closeDoc(!1)},n.cmdPrn=function(e){if(n.flagPrint){if(n.flagPrint=!1,n.fieldValues.FORM.endsWith(".print")||!n.printList)return window.print();var t=n.printList.split("\n");return"o-"===n.fieldValues.FORM||2===t.length?w.default.xopen("docopen?"+n.dbAlias+"&"+n.unid+"&read&"+t[1].split("|").slice(-1)[0]):void n.msg.list(t.slice(1),"Выберите форму для печати",{},!0).then(function(e){var r=e.indexOf("|")>=0?w.default.partition(e,"|")[1]:e;w.default.xopen("docopen?"+[n.dbAlias,e.startsWith("rk")?t[0]:n.unid,"read",r].join("&")),n.setFocus("BTN_CLOSE")}).catch(function(e){return n.setFocus("BTN_CLOSE")})}},n.cmdSave=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!n.waitSave)return n.waitSave=!0,n.flagClose=e,n.flagPrint=t,n.sova.querySave&&n.sova.querySave(n),n.readOnly||!n.getNewValues(!1)||n.getField("noSave")?(n.waitSave=!1,t?n.cmdPrn():e&&n.props.closeDoc(n,n.tidy)):void n.validate().then(function(e){setTimeout(function(){return n.waitSave&&n.setState({spinner:!0})},500);for(var t in n.fileShow)n.fileShow[t].startUpload();n.cmdSave2()}).catch(function(e){n.waitSave=!1})},n.validate=function(e){return new Promise(function(e,t){var r=void 0,o=n.sova.validate||{},i=function(i){if(r=o[i](n)){if("STOP_VALIDATE"===r)return{v:e()};if(r===!0)return{v:t(n.setFocus(i))};var a=void 0,l=void 0;if(r.includes("\n")){var u=w.default.partition(r,"\n"),c=s(u,2);a=c[0],l=c[1],a="Проверка значений|\n"+a+"\n\n"}else a='Проверка значений|\nНе заполнено поле\n\n"'+r+'"',l="";return n.msg.box(l,a).then(function(e){return n.setFocus(i)},function(e){return n.setFocus(i)}),{v:t()}}};for(var a in o){var u=i(a);if("object"===("undefined"==typeof u?"undefined":l(u)))return u.v}var c=n.sova.validatePM;if(!c)return e();var f=Object.keys(c);if(!f.length)return e();var d=0;c[f[d++]](n).then(function(r){d>=f.length?e():c[f[d++]](n).then(function(r){d>=f.length?e():c[f[d++]](n).then(function(r){d>=f.length?e():c[f[d++]](n).then(function(r){d>=f.length?e():c[f[d++]](n).then(function(r){d>=f.length?e():c[f[d++]](n).then(function(r){d>=f.length?e():c[f[d++]](n).then(function(r){d>=f.length?e():c[f[d++]](n).then(function(r){d>=f.length?e():c[f[d++]](n).then(function(r){d>=f.length?e():c[f[d++]](n).then(function(n){d>=f.length?e():(alert("Больше 10 промисов в валидации формы "),t())})},t)},t)},t)},t)},t)},t)},t)},t)},t)})},n.getField=function(e,t){return w.default.getField(n,e,t)},n.getDom=function(e){return w.default.getDom(n,e)},n.setField=function(e,t,r){return w.default.setField(n,e,t,r)},n.setFocus=function(e){return w.default.setFocus(n,e)},n.changeDropList=function(e,t,r){var o=n.register[e.toUpperCase()];o&&o.changeDropList&&o.changeDropList(t,r)},n.getDropList=function(e){var t=n.register[e.toUpperCase()];return t&&t.getDropList&&t.getDropList()},n.getNewValues=function(e){if(n.getField("noSave"))return"";var t="";for(var r in n.fileShow)t+=n.fileShow[r].getNewValues(e);for(var o in n.hideNewValues)o in n.fieldValues||(t+=w.default.addJson(o,"",n.hideNewValues[o]));for(var i in n.register){var a=n.register[i];if(a&&("fd"!==a.props.type||"variable"===a.props.ls)){var l=void 0;l=n.isNew?"":n.oldValues&&i in n.oldValues?n.oldValues[i]:n.fieldValues[i];var s=a.getValue?a.getValue():n.fieldValues[i]||"";t+=w.default.addJson(i,l,s)}}for(var u in n.fieldValues)if(!(u in n.register)){var c=void 0;c=n.isNew?"":n.oldValues&&u in n.oldValues?n.oldValues[u]:n.fieldValues[u];var f=u in n.hideNewValues?n.hideNewValues[u]:n.fieldValues[u];t+=w.default.addJson(u,c,f)}return n.tidy=n.tidy&&!t,t&&(t.includes('"UNID":["')||(t+=w.default.addJson("UNID","",n.unid)),n.fieldValues.REF&&!t.includes('"REF":["')&&(t+=w.default.addJson("REF","",n.fieldValues.REF))),t},n.cmdSave2=function(e){for(var t in n.fileShow)if(n.fileShow[t].run)return;for(var r in n.fileShow)if(n.fileShow[r].uploadError)return n.waitSave=!1,void n.setState({spinner:!1});var o=n.getNewValues(!0);if(o)n.runXhrSave("{"+o.slice(0,-1)+"}");else{if(n.waitSave=!1,n.setState({spinner:!1}),n.flagClose)return n.props.closeDoc(n,n.tidy);n.cmdPrn()}},n.closePage=function(e,t){var r=n.sovaPagesByName[e];return r&&r.closePage(t)},n.handleKeyDown=function(e){if(27===e.keyCode&&"preview"===n.rsMode)return e.stopPropagation(),e.preventDefault(),void n.closeDoc();if(!(n.waitSave||n.boxEditMode||n.contextMenu.state.isOpen||n.getField("_page_")||"arm"===n.getField("form")&&!["edit","admin","new"].includes(n.rsMode))){switch(e.keyCode){case 49:if(e.altKey){w.default.runCmd(n,"docSN");break}return;case 83:if(!n.readOnly&&e.ctrlKey){n.cmdSave(!1);break}return;case 27:if(n.rootBox&&n.rootBox.resizeID){var t=n.rootBox;(0,x.restoreOldSize)(t.mouseBox),t.resizeID=t.needHist=null,t.mouseBox.setWrap(),t.mouseBox=null,t.forceUpdate()}else n.closeDoc(e.shiftKey);break;case 80:if(e.ctrlKey){n.cmdSave(null,!0);break}return;case 13:if(e.ctrlKey&&!["edit","admin","new"].includes(n.rsMode)){n.cmdEdit();break}return;case 90:if(e.ctrlKey&&!["TEXTAREA","INPUT"].includes(e.target.tagName)&&w.default.runCmd(n,"undo"))break;return;case 89:if(e.ctrlKey&&!["TEXTAREA","INPUT"].includes(e.target.tagName)&&w.default.runCmd(n,"redo"))break;return;default:return}e.stopPropagation(),e.preventDefault()}},n.closeDoc=function(e){if(n.readOnly||!n.dbAlias)return n.props.closeDoc(n,!0);if(e)return n.cmdSave(!0);n.sova.querySave&&n.sova.querySave(n);var t=n.getNewValues(!1);return t?void n.msg.box("Сохранить изменения ?","Документ был изменен",["Сохранить+|Y","Нет|N","Изменения|S","Отмена"]).then(function(e){"Y"===e?n.cmdSave(!0):"N"===e?n.props.closeDoc(n,!0):"S"===e&&n.showFields(t).then(function(e){"Y"===e?n.cmdSave(!0):"N"===e&&n.props.closeDoc(n,!0)}).catch(function(e){return n.setFocus(n.focus)})}).catch(function(e){return n.setFocus(n.focus)}):n.props.closeDoc(n,n.tidy)},n.addFiles=function(e){if(!n.readOnly)for(var t in n.fileShow)if(!n.fileShow[t].props.readOnly){n.fileShow[t].addFiles(e);break}e.stopPropagation(),e.preventDefault()},n.addPage=function(e){e&&(n.sovaPagesRef[e.props.zi]=e,n.sovaPagesByName[e.props.pageName]=e)},n.render=function(){var e=(n.waitLoad||n.waitSave)&&n.state.spinner?(0,g.spinner)("main"===n.pageName,!1,"main"!==n.pageName):null;if(!n.children)return c.default.createElement("div",null,e);n.focusRows=[],n.currRow=0;var t=(0,v.boxing)(n.children,n,n.readOnly,!1,n.wl),r=void 0;if(n.sovaPages.length){var o=n.sovaPagesByName.rsAvatar;o&&(o.frameStyle.display="none",o.linkedRedraw=null),r=n.sovaPages.map(function(e,t){return c.default.createElement(h.default,Object.assign({},e,{zi:t,ref:n.addPage,mainDoc:n.mainDoc}))})}return c.default.createElement("div",{className:n.className,style:Object.assign({position:"relative"},n.style),ref:n.mainDiv,tabIndex:"1",onKeyDown:n.handleKeyDown,onMouseMove:n.dragPage,onMouseUp:n.pageMouseUp},c.default.createElement(m.default,{doc:n,ref:function(e){return n.contextMenu=e}}),e,n.readOnly||!n.savedText?null:c.default.createElement("div",{className:"saved",style:{opacity:n.state.saved?1:.3}},n.savedText),c.default.createElement("div",{style:{position:"relative",margin:"auto",height:"100%"},onDrop:n.addFiles,onClick:n.onClick},t,r))},n.runXhrSave=function(e,t){n.viewRefresh=!0;var r="api.post/saveDoc?dbAlias="+n.dbAlias+(t?"&force="+t:"");fetch(r,{method:"post",body:e,credentials:"include"}).then(function(t){n.waitSave=!1,409===t.status?(n.setState({spinner:!1}),t.text().then(function(t){return n.msg.box("ПЕРЕЗАПИСАТЬ ДОКУМЕНТ?\n"+t,"Конфликт при сохранении",["Да+|Y","Нет"]).then(function(t){n.waitSave=!0,setTimeout(function(){return n.waitSave&&n.setState({spinner:!0})},500),n.runXhrSave(e,"force")}).catch(function(e){n.flagClose=!1})}).catch(function(e){return alert("Конфликт при сохранении")})):449===t.status?(n.setState({spinner:!1}),t.text().then(function(t){return n.msg.box(t+"\n\nСОХРАНИТЬ?","Проверка значений при сохранении",["Да+|Y","Нет"]).then(function(t){n.waitSave=!0,setTimeout(function(){return n.waitSave&&n.setState({spinner:!0})},500),n.runXhrSave(e,"force")}).catch(function(e){n.flagClose=!1})}).catch(function(e){return alert("Проверка значений")})):200!==t.status?t.text().then(function(e){n.flagClose=!1,n.setState({spinner:!1}),n.msg.error("HTTP status code: "+t.status+"\n"+e+'\nURL: "'+r+'"')},function(){}):n.flagClose?(n.waitSave=!1,n.setState({spinner:!1}),setTimeout(function(e){return n.props.closeDoc(n,!1)},100)):(r=n.loadDocUrl.replace("&new","&edit").replace("&mode=new","&mode=edit"),w.default.jsonByUrl(n,r).then(function(e){n.setDocProps(e);for(var t in n.fileShow)n.fileShow[t].initialize();for(var r in n.fieldValues)r in n.register&&n.register[r].setValue&&n.register[r].setValue(n.fieldValues[r]);n.hideNewValues={},n.savedText="Saved "+w.default.partition(w.default.formatDateTime(new Date)," ")[1],n.setState({saved:!0}),setTimeout(function(e){return n.setState({saved:!1})},2e3),n.cmdPrn(),w.default.runCmd(n,"saved")}).catch(function(e){n.waitSave=!1,n.setState({spinner:!1}),n.msg.error("DocSave-reload-error:"+e.message+"\n\nurl:"+r)}))}).catch(function(e){n.flagClose=!1,n.waitSave=!1,n.setState({spinner:!1}),n.msg.error("DocSave-error:"+(e.message||e)+"\n\nurl:"+r)})},n.dialog=function(e,t,r,o,i,a){var l=void 0,u=r.map(function(t){var r=w.default.partition(t,"|"),a=s(r,2),u=a[0],c=a[1],f={_teg:"button",text:u.replace(/\+/g,""),fieldProps:{_cmd:"dialog"}};return"FV"===c?f.fieldProps._param=function(){var t=n.sovaPagesByName[e].doc,r={};for(var i in t.register){if("D_TEXT"===i){r=t.getField(i);break}r[i]=t.getField(i)}o(r),n.closePage(e)}:c?f.fieldProps._param=function(){o(c),n.closePage(e)}:f.fieldProps._param=function(){n.closePage(e),i()},t.includes("+")&&(f.attributes={ref:function(e){return l=e}}),f});return u.unshift(w.default._div({},[]," ")),setTimeout(function(){return l&&l.focus()},200),[w.default._div({style:{display:"table",width:"100%",tableLayout:"fixed",overflow:"hidden"}},[w.default._div({style:{display:"table-cell",overflow:"auto"}},t),w.default._div({className:a?"dlgButtonsSmall":"dlgButtons"},u)])]},n.inputBox=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Ввод текста",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"fromCorr",i=arguments[4],a=arguments[5];return new Promise(function(l,u){var c="inputbox",f=i||["Ввод|FV"];f.push("Отмена");var d=a?[370,180,10]:[500,200,"30px 0 14px 5px"],p=s(d,3),h=p[0],g=p[1],v=p[2],y={focus2:o,pageName:c,title:r,rsMode:"edit",smallCls:!0,frameStyle:Object.assign({},w.default.getRect(n,h,g)),fieldValues:{D_TEXT:t},focus:"D_TEXT",modal:1,show:{cmCancel:u}};y.children=n.dialog(c,[w.default.label(e,0,{textAlign:"left",padding:v}),{field:["D_TEXT","tx"],attributes:{style:{padding:5,height:50},kbEnter:function(e){l(e),n.closePage(c)}}}],f,l,u,a),w.default.addChildPage(n,y)})},n.showFields=function(e){return new Promise(function(t,r){var o="showFields";if(n.sovaPagesByName[o])return r();var i=JSON.parse("{"+e.slice(0,-1)+"}"),a=Object.keys(i).sort().map(function(e,t){var n=[w.default._div({style:{fontWeight:"bold",color:"blue"}},null,e)];return e.startsWith("ROOT")?n.push(w.default._div(null,null,"поле изменено. Размер "+i[e][0].length+" => "+i[e][1].length)):"UNID"===e?n.push(w.default._div(null,null,i[e][1])):(n.push(w.default._div(null,null,(i[e][0].toString()||"").replace(/\n/g,"\\n")||"<empty>")),n.push(w.default._div({style:{fontWeight:"bold"}},null,(i[e][1].toString()||"").replace(/\n/g,"\\n")||"<empty>"))),w.default._div({style:{padding:5,background:t%2?"#fff":"#f8f8f8"}},n)}),l=w.default._div({style:{height:470,overflowY:"auto",font:"normal 13px Courier",wordWrap:"break-word"}},a),s={rsMode:"edit",smallCls:!0,pageName:o,title:"Просмотр измененных полей",frameStyle:Object.assign({},w.default.getRect(n,800,500)),fieldValues:{Q:"q"},show:{cmCancel:r},modal:1};s.children=n.dialog(o,[l],["Сохранить+|Y","Нет|N","Отмена"],t,r),w.default.addChildPage(n,s)})},n.msg={box:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Sova.online",r=arguments[2],o=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,arguments[4]);return new Promise(function(i,a){var l="MsgBox"+Math.random();if(n.zIndexArr&&n.zIndexArr.includes("MsgBox"))return a(),void alert(e);var u=void 0,c=void 0,f=t.split("|"),d=s(f,2),p=d[0],h=d[1],g=e.replace(/<br>/g,"\n").split("\n").map(function(e,t){return w.default._div({key:t},null,e||" ")});switch(g.unshift(w.default._div({className:"msgHeader",key:"head"},null,h||" ")),(o||"").toString()){case"3":u=208,c=255;break;case"2":u=210,c=230;break;case"1":u=420,c=200;break;default:u=600,c=400}var v={title:p,pageName:l,rsMode:"edit",smallCls:!0,frameStyle:Object.assign({},w.default.getRect(n,u,c)),show:{cmCancel:a},fieldValues:{Q:"q"},modal:1},y=w.default._div({className:"msg-box",style:{height:c-30}},g);v.children=n.dialog(l,[y],r||["OK+|Y"],i,a),w.default.addChildPage(n,v)})},ok:function(){var e;return(e=n.msg).box.apply(e,arguments).then(function(){},function(){})},error:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Ошибка";return n.msg.box(e,t).then(function(){},function(){})},list:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Выберите значение",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments[3],i=arguments[4];return new Promise(function(a,l){var s=void 0,u=void 0,c=void 0,f=void 0;switch((o||"").toString()){case"3":s=200,u=180,c=208,f=255;break;case"2":s=200,u=180,c=208,f=312;break;case"1":s=305,u=215,c=440,f=300;break;default:s=605,u=415,c=740,f=500}var d={title:t,pageName:"MsgBox",rsMode:"edit",smallCls:!0,frameStyle:Object.assign({},w.default.getRect(n,c,f),{backgroundColor:"#def"}),modal:1};d.show={items:e,multi:r.multi,checked:r.checked,text:r.text,sep:r.sep||"|",buttons:["ОК (Enter)+|1","Отмена (Esc)"],cmCancel:l,cmButton:a,wh:{width:s,height:u},small:o,info:i},w.default.addChildPage(n,d)})}},(0,d.default)(n),n.audiotuk=window.document.getElementById("audiotuk"),n.mainDiv=c.default.createRef(),n.toolbar=null,n.util=w.default,n.tidy=!0,n.viewRefresh=!1,n.waitLoad=!1,n.waitSave=!1,n.fileShow={},n.register={},n.hideNewValues={},n.savedText="",n.dbAlias=n.props.dbAlias||"",n.unid=n.props.unid||"",n.rsMode=n.props.rsMode||"read",n.readOnly=!["edit","admin","new"].includes(n.rsMode),n.cssJsUrl=n.props.cssJsUrl,n.oldValues=n.props.oldValues||{},n.sovaPages=[],n.sovaPagesRef=[],n.pageName=n.props.pageName||"main",n.sovaPagesByName={},n.props.mainDoc)n.mainDoc=n.props.mainDoc;else{n.mainDoc=n;var r={pageName:"rsAvatar",className:"rsAvatar",avatar:!0,frameStyle:{top:0,left:0,display:"none"},onMouseDown:n.startResize},a={pageName:"avatar",className:"avatar",avatar:!0,frameStyle:{display:"none"}};w.default.addChildPage(n,r),w.default.addChildPage(n,a)}return n.state={spinner:!1},n.props.newForm?n.loadDocUrl="api.get/newForm?dbAlias="+n.dbAlias+"&unid="+n.unid+"&mode="+n.rsMode+"&form="+n.props.newForm:n.props.previewDba?n.loadDocUrl="api.get/loadDoc?"+n.props.previewDba:n.loadDocUrl="api.get/loadDoc?dbAlias="+n.dbAlias+"&unid="+n.unid+"&mode="+n.rsMode+"&form="+(n.props.form||""),n.hideList={},n}return a(t,e),t}(c.default.Component);t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),s=r(l),u=n(5),c=r(u),f=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.UNSAFE_componentWillUpdate=function(e){return n.result={x:Math.min(e.x,n.xmax),y:Math.min(e.y,n.ymax)}},n.move_up=function(e,t){if(t){n.props.onChange(n.result,!0);var r=n.props.doc.mainDoc.sovaPagesByName.avatar;r.frameStyle.display="none",r.linkedRedraw=0}else n.moved(e)},n.mouseDown=function(e){e.stopPropagation();var t=n.props.doc.mainDoc.sovaPagesByName.avatar;if(t.linkedRedraw=n.move_up.bind(n),n.rs=n.refs.slade.getBoundingClientRect(),n.props.axis.includes("x")&&(n.px=n.rs.width/(n.xmax-n.xmin),n.xstepPX=n.px*n.xstep,n.left=(n.props.x-n.xmin)*n.px),n.props.axis.includes("y")&&(n.py=n.rs.height/(n.ymax-n.ymin),n.ystepPX=n.py*n.ystep,n.top=(n.props.y-n.ymin)*n.py),"thumb"===e.target.id){
var r=[e.clientX,e.clientY];n.x=r[0],n.y=r[1]}else{var o=[n.rs.x,n.rs.y];n.x=o[0],n.y=o[1],n.top=n.left=0,n.moved(e)}var i=[e.clientX,e.clientY];t.x1=i[0],t.y1=i[1],t.props.owner.dragStart=t.props.pageName,t.frameStyle={zIndex:2e4,left:e.clientX-12,top:e.clientY-60,display:"block",cursor:"pointer",border:0,backgroundColor:"transparent",position:"absolute"},t.forceUpdate()},n.moved=function(e){if(n.props.axis.includes("x")){var t=n.left+e.clientX-n.x;if(t>=n.rs.width)n.left=n.rs.width,n.result.x=n.xmax,n.x=e.clientX;else if(t<=0)n.left=0,n.result.x=n.xmin,n.x=e.clientX;else{var r=e.clientX-n.x;if(r>=n.xstepPX/2||r<=-n.xstepPX/2){var o=r>0?Math.trunc((n.left+r+n.xstepPX)/n.xstepPX):Math.trunc((n.left+r)/n.xstepPX);n.left=n.xstepPX*o,n.result.x=n.xmin+o*n.xstep,n.x=n.left+n.rs.left}}}if(n.props.axis.includes("y")){var i=n.top+e.clientY-n.y;if(i>=n.rs.height)n.top=n.rs.height,n.result.y=n.ymax,n.y=e.clientY;else if(i<=0)n.top=0,n.result.y=n.ymin,n.y=e.clientY;else{var a=e.clientY-n.y;if(a>=n.ystepPX/2||a<=-n.ystepPX/2){var l=a>0?Math.trunc((n.top+a+n.ystepPX)/n.ystepPX):Math.trunc((n.top+a)/n.ystepPX);n.top=n.ystepPX*l,n.result.y=n.ymin+l*n.ystep,n.y=n.top+n.rs.top}}}n.props.onChange(n.result),n.forceUpdate()},n.render=function(){var e=n.props.axis.includes("x")?Math.min((n.result.x-n.xmin)/(n.xmax-n.xmin)*100,100)+"%":0,t=n.props.axis.includes("y")?Math.min((n.result.y-n.ymin)/(n.ymax-n.ymin)*100,100)+"%":0;return s.default.createElement("div",{className:n.props.className||"slade",style:Object.assign({},n.props.style),onMouseDown:n.mouseDown,ref:"slade"},s.default.createElement("div",{className:n.props.active||"active",style:{width:e}}),s.default.createElement("div",{id:"thumb",className:n.props.thumb||"thumb",style:{top:t,left:e}}))},(0,c.default)(n);var r=[n.props.xmin||0,n.props.ymin||0];n.xmin=r[0],n.ymin=r[1];var a=[n.props.xmax||0,n.props.ymax||0];n.xmax=a[0],n.ymax=a[1];var l=[n.props.xstep||1,n.props.ystep||1];return n.xstep=l[0],n.ystep=l[1],n.result={x:n.props.x,y:n.props.y},n}return a(t,e),t}(s.default.Component);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getContent=t.grid=t.setBoxStyle=t.eightRings=t.getAdd=t.getContur=t.getNewRect=t.restoreOldSize=t.saveOldSize=t.recalcHeight=t.recalcWidth=t.recalcHeightInside=t.recalcWidthInside=t.testHeight=t.testWidth=t.set_b_size=void 0;var o=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(1),a=r(i),l=n(99),s=r(l),u=n(4),c=r(u),f=n(16),d=t.set_b_size=function(e){var t=e.tuning;if(e.irc={},"borEQ"===t.border){for(var n=["top","left"],r=0;r<n.length;r++){var o=n[r];e.irc[o]=e.rect[o]+(t.borderWidth||0)}for(var i=["width","height"],a=0;a<i.length;a++){var l=i[a];e.irc[l]=e.rect[l]-2*(t.borderWidth||0)}}else"borNE"===t.border?(e.irc.left=e.rect.left+(t.borderLeftWidth||0),e.irc.top=e.rect.top+(t.borderTopWidth||0),e.irc.width=e.rect.width-(t.borderLeftWidth||0)-(t.borderRightWidth||0),e.irc.height=e.rect.height-(t.borderTopWidth||0)-(t.borderBottomWidth||0)):e.irc=Object.assign({},e.rect)},p=(t.testWidth=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=!0,r=function e(r){n&&(d(r),r.irc.width<t?n=!1:"cols"===r.type?e(r.cellsBoxes.at(-1)):"rows"===r.type&&r.cellsBoxes.forEach(e))};return r(e),n},t.testHeight=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=!0,r=function e(r){n&&(d(r),r.irc.height<t?n=!1:"rows"===r.type?e(r.cellsBoxes[r.cellsBoxes.length-1]):"cols"===r.type&&r.cellsBoxes.forEach(e))};return r(e),n},t.recalcWidthInside=function e(t,n){var r=n;if(t.rect.width=r,(t.row||t.column)&&(d(t),r=t.irc.width),"cols"===t.type){var o=t.cellsBoxes.reduce(function(e,t){return e+t.rect.width},0),i=t.cellsBoxes[t.cellsBoxes.length-1],a=i.rect.width+r-o;e(i,a)}else if("rows"===t.type){var l=!0,s=!1,u=void 0;try{for(var c,f=t.cellsBoxes[Symbol.iterator]();!(l=(c=f.next()).done);l=!0){var p=c.value;e(p,r)}}catch(e){s=!0,u=e}finally{try{!l&&f.return&&f.return()}finally{if(s)throw u}}}}),h=t.recalcHeightInside=function e(t,n){var r=n;if(t.rect.height=r,d(t),r=t.irc.height,"rows"===t.type){var o=t.cellsBoxes.reduce(function(e,t){return e+t.rect.height},0),i=t.cellsBoxes.at(-1),a=i.rect.height+r-o;e(i,a)}else if("cols"===t.type){var l=!0,s=!1,u=void 0;try{for(var c,f=t.cellsBoxes[Symbol.iterator]();!(l=(c=f.next()).done);l=!0){var p=c.value;e(p,r)}}catch(e){s=!0,u=e}finally{try{!l&&f.return&&f.return()}finally{if(s)throw u}}}},g=(t.recalcWidth=function(e,t){for(var n=e,r=t-e.rect.width;;){if(n.column)n.rect.width+=r;else if(n.row){var o=!0,i=!1,a=void 0;try{for(var l,s=n.parentBox.cellsBoxes[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var u=l.value;u.rect.width+=r}}catch(e){i=!0,a=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw a}}}else{n.rect.width+=r;var c=n.rect.left+n.rect.width;if(c<=n.parentBox.rect.width||n.parentBox.boxIndex<1e3)break}n=n.parentBox}var f=!0,d=!1,h=void 0;try{for(var g,v=n.cellsBoxes[Symbol.iterator]();!(f=(g=v.next()).done);f=!0){var y=g.value;p(y,y.rect.width)}}catch(e){d=!0,h=e}finally{try{!f&&v.return&&v.return()}finally{if(d)throw h}}return n},t.recalcHeight=function(e,t){for(var n=e,r=t-e.rect.height;;){if(n.row)n.rect.height+=r;else if(n.column){var o=!0,i=!1,a=void 0;try{for(var l,s=n.parentBox.cellsBoxes[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var u=l.value;u.rect.height+=r}}catch(e){i=!0,a=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw a}}}else{n.rect.height+=r;var c=n.rect.top+n.rect.height;if(c<=n.parentBox.rect.height||n.parentBox.boxIndex<1e3)break}n=n.parentBox}var f=!0,d=!1,p=void 0;try{for(var g,v=n.cellsBoxes[Symbol.iterator]();!(f=(g=v.next()).done);f=!0){var y=g.value;h(y,y.rect.height)}}catch(e){d=!0,p=e}finally{try{!f&&v.return&&v.return()}finally{if(d)throw p}}return n},void 0),v=t.saveOldSize=function(e){g={};var t=function e(t){g[t.boxIndex]=Object.assign({},t.rect);var n=!0,r=!1,o=void 0;try{for(var i,a=t.cellsBoxes[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;e(l)}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}var s=!0,u=!1,c=void 0;try{for(var f,d=t.floatBoxes[Symbol.iterator]();!(s=(f=d.next()).done);s=!0){var p=f.value;e(p)}}catch(e){u=!0,c=e}finally{try{!s&&d.return&&d.return()}finally{if(u)throw c}}};t(e)},y=(t.restoreOldSize=function(e){var t=function e(t){for(var n=["top","left","width","height"],r=0;r<n.length;r++){var o=n[r];t.rect[o]=g[t.boxIndex][o]}var i=!0,a=!1,l=void 0;try{for(var s,u=t.cellsBoxes[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;e(c)}}catch(e){a=!0,l=e}finally{try{!i&&u.return&&u.return()}finally{if(a)throw l}}var f=!0,d=!1,p=void 0;try{for(var h,v=t.floatBoxes[Symbol.iterator]();!(f=(h=v.next()).done);f=!0){var y=h.value;e(y)}}catch(e){d=!0,p=e}finally{try{!f&&v.return&&v.return()}finally{if(d)throw p}}};t(e)},function e(t){if(t.tuning.metric){var n=t.parentBox,r=n.cellsBoxes.indexOf(t),o=void 0,i=void 0;t.row?(i=100*t.rect.height/n.rect.height,Math.abs(t.tuning.whp-i)>=1&&(v(n),o=t.tuning.whp*n.rect.height*.01-t.rect.height,r<n.cells.length-1?m(n,"row-"+r,0,o,!0):m(n,"row-"+(r-1),0,-o,!0))):(i=100*t.rect.width/n.rect.width,Math.abs(t.tuning.whp-i)>=1&&(v(n),o=t.tuning.whp*n.rect.width*.01-t.rect.width,r<n.cells.length-1?m(n,"col-"+r,o,0,!0):m(n,"col-"+(r-1),-o,0,!0)))}var a=!0,l=!1,s=void 0;try{for(var u,c=t.cellsBoxes[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value;e(f)}}catch(e){l=!0,s=e}finally{try{!a&&c.return&&c.return()}finally{if(l)throw s}}}),m=t.getNewRect=function(e,t,n,r,i){var a=void 0,l=void 0,s=void 0,u=void 0,f=void 0,d=void 0,p=void 0,h=void 0,m=n,b=r;e.boxIndex in g||v(e);var w=Object.assign({},g[e.boxIndex]),x=function t(n,r,o){if(isNaN(o)){if(n.type===s){var i=n.cellsBoxes.length;d=n.cellsBoxes[r?0:i-1],d.tuning.fixedSize&&!d.tuning.metric&&(d=n.cellsBoxes[i?i-2:1]),t(d,r);for(var c=g[d.boxIndex][l]+f;c<2;)c++,f++;d.rect[l]=c,r&&(w[a]=g[e.boxIndex][a]-f),w[l]=g[e.boxIndex][l]+f,n.rect[l]=g[n.boxIndex][l]+f}else if(n.type===u){var v=void 0;do{v=f;var y=!0,m=!1,b=void 0;try{for(var x,_=n.cellsBoxes[Symbol.iterator]();!(y=(x=_.next()).done);y=!0){var S=x.value;t(S,r)}}catch(e){m=!0,b=e}finally{try{!y&&_.return&&_.return()}finally{if(m)throw b}}}while(v!==f);for(n.rect[l]=g[n.boxIndex][l]+f;n.rect[l]<2;)n.rect[l]++,f++;w[l]=g[e.boxIndex][l]+f,r&&(w[a]=g[e.boxIndex][a]-f)}}else{p=n.parentBox.cellsBoxes[o],h=n.parentBox.cellsBoxes[o+1];for(var k=g[p.boxIndex][l]+f;k<2;)k++,f++;if(p.tempFlagForSetWH)p.rect[l]=k,t(n,!1),delete p.tempFlagForSetWH;else{for(var E=g[h.boxIndex][l]-f;E<2;)k--,E++,f--;p.rect[l]=k,h.rect[l]=E,t(n,!1);var C=f;f=-f,t(h,!0),f=-f,C!==f&&t(n,!1,o)}}},_=function(){for(b=-b,w.height+=b,w.top-=b;e.tuning.insideOnly&&w.top<0;)w.top++,w.height--,b--;for(;w.height<2;)w.top--,w.height++,b++;a="top",l="height",s="rows",u="cols",f=b,x(e,!0)},S=function(){for(m=-m,w.width+=m,w.left-=m;e.tuning.insideOnly&&w.left<0;)w.left++,w.width--,m--;for(;w.width<2;)w.left--,w.width++,m++;a="left",l="width",s="cols",u="rows",f=m,x(e,!0)},k=function(){for(w.height+=b;e.tuning.insideOnly&&w.top+w.height>e.parentBox.rect.height;)w.height--,b--;for(;w.height<2;)w.height++,b++;if(a="top",l="height",s="rows",u="cols",f=b,x(e,!1),"cols"===e.type){var t=!0,n=!1,r=void 0;try{for(var o,i=e.cellsBoxes[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var c=o.value;c.rect.height=e.rect.height}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}},E=function(){for(w.width+=m;e.tuning.insideOnly&&w.left+w.width>e.parentBox.rect.width;)w.width--,m--;for(;w.width<2;)w.width++,m++;if(a="left",l="width",s="cols",u="rows",f=m,x(e,!1),"rows"===e.type){var t=!0,n=!1,r=void 0;try{for(var o,i=e.cellsBoxes[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var c=o.value;c.rect.width=e.rect.width}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}};if("c-0"===t){var C=[0,0,w.width,w.height,0,0],O=C[0],D=C[1],T=C[2],N=C[3],M=C[4],I=C[5];if(w.left+=n,w.top+=r,!e.parentBox)return w;if("ground"===e.parentBox.tuning.wall){var B=e.tuning.rotate3Y;-45<=B&&B<=45&&(D=N=e.tuning.is3dZ,I=T,M=N),135<B||B<-135?(M=N=e.tuning.is3dZ,O=T):e.tuning.rotate3Y>45?(N=D=T,O=e.tuning.is3dZ,T=e.tuning.is3dZ):e.tuning.rotate3Y<-45&&(M=N=T,I=T=e.tuning.is3dZ)}else M=N,I=T;var P=[e.parentBox.rect.width,e.parentBox.rect.height],A=P[0],R=P[1];return e.tuning.scale2d&&(A/=e.m,R/=e.m),e.tuning.insideOnly&&(w.left<O?w.left=O:w.left+T>A+O&&(w.left=A-I),w.top<D?w.top=D:w.top+N>R+D&&(w.top=R-M)),e.tuning.furniture&&(e.tuning.left=w.left-O,e.tuning.top=w.top-D,e.tuning.bottom=e.parentBox.rect.height-w.height-w.top),w}var F=c.default.partition(t,"-"),L=o(F,2),j=L[0],z=L[1];switch(z=parseInt(z,10),j){case"row":return a="top",l="height",s="rows",u="cols",f=b,void x(e.cellsBoxes[z],!1,z);case"col":return a="left",l="width",s="cols",u="rows",f=m,void x(e.cellsBoxes[z],!1,z);case"c":switch(z){case 1:_(),S();break;case 2:_(),E();break;case 3:k(),E();break;case 4:k(),S();break;case 5:_();break;case 6:E();break;case 7:k();break;case 8:S()}}if(i)return w;y(e);var K=!0,U=!1,V=void 0;try{for(var H,W=e.cellsBoxes[Symbol.iterator]();!(K=(H=W.next()).done);K=!0){var q=H.value,Y=q.rows?"height":"width";q.tuning.whp=100*q.rect[Y]/e.rect[Y]}}catch(e){U=!0,V=e}finally{try{!K&&W.return&&W.return()}finally{if(U)throw V}}return w},b=(t.getContur=function(e,t){var n=[];if(t)e.column||e.row||(n=[a.default.createElement("div",{key:"s-1",className:"streak skh s1"}),a.default.createElement("div",{key:"s-2",className:"streak skv s2"}),a.default.createElement("div",{key:"s-3",className:"streak skh s3"}),a.default.createElement("div",{key:"s-4",className:"streak skv s4"})]);else for(var r=1;r<5;r++)n[r-1]=a.default.createElement("div",{key:"s-"+r,className:"side s"+r});return n},["вставить ряд сверху","добавить столбец справа","добавить ряд снизу","вставить столбец слева"]),w=(t.getAdd=function(e){var t=[];if(e.tuning.boxContent<4)return t[0]="cols"!==e.type&&a.default.createElement("div",{id:"p-1",key:"p-1",title:b[0],className:"ringP",style:{left:"calc(50% - 7px)",top:-8}},"+"),t[1]="rows"!==e.type&&a.default.createElement("div",{id:"p-2",key:"p-2",title:b[1],className:"ringP",style:{right:-8,top:"calc(50% - 7px)"}},"+"),t[2]="cols"!==e.type&&a.default.createElement("div",{id:"p-3",key:"p-3",title:b[2],className:"ringP",style:{left:"calc(50% - 7px)",bottom:-8}},"+"),t[3]="rows"!==e.type&&a.default.createElement("div",{id:"p-4",key:"p-4",title:b[3],className:"ringP",style:{left:-8,top:"calc(50% - 7px)"}},"+"),t.filter(function(e){return e})},-4),x=(t.eightRings=[{left:w,top:w,cursor:"nwse-resize"},{right:w,top:w,cursor:"nesw-resize"},{right:w,bottom:w,cursor:"nwse-resize"},{left:w,bottom:w,cursor:"nesw-resize"},{left:"calc(50% - 4px)",top:w,cursor:"n-resize"},{right:w,top:"calc(50% - 4px)",cursor:"e-resize"},{left:"calc(50% - 4px)",bottom:w,cursor:"s-resize"},{left:w,top:"calc(50% - 4px)",cursor:"w-resize"}],function(e,t,n){var r=function(t){return(e["border"+t+"Radius"]||"0")+(e["border"+t+"RadiusMetric"]?"px":"%")},o=function(t){return(e["border"+t+"Width"]||"0")*n+"px"},i=function(t){return e["border"+t+"Color"]||"transparent"},a=function(t){return["solid","dotted","dashed","double"][e["border"+t+"Style"]||0]};if("borEQ"===e.border)t.borderRadius=r(""),t.borderWidth=o(""),t.borderColor=i(""),t.borderStyle=a("");else if("borNE"===e.border){for(var l="",s="",u="",c="",f=["Top","Right","Bottom","Left"],d=0;d<f.length;d++){var p=f[d];l+=r(p)+" ",s+=o(p)+" ",u+=i(p)+" ",c+=a(p)+" "}t.borderRadius=l,t.borderWidth=s,t.borderColor=u,t.borderStyle=c}}),_=(t.setBoxStyle=function(e){var t=e.tuning,n=e.parent3d&&e.parent3d.tuning,r={position:t.position||"absolute",zIndex:e.zIndex},i=e.m;if(r.width=e.rect.width*i,r.height=e.rect.height*i,r.left=e.rect.left*i,r.top=e.rect.top*i,t.display&&(r.display=t.display),t.margin&&(r.margin="number"==typeof t.margin?t.margin*i:t.margin),t.overflow&&(r.overflow=t.overflow),e.boxIndex<1e3&&!e.rootBox.tuning.phoneContur)return r;var a=function(e,n){return[t[e+"X"]||n||0,t[e+"Y"]||n||0,t[e+"Z"]||n||0]},l="",s=a("rotate3"),u=o(s,3),c=u[0],f=u[1],d=u[2];(c||f||d)&&(l="rotateX("+c+"deg) rotateY("+f+"deg) rotateZ("+d+"deg)");var p=a("rotate"),h=o(p,3);c=h[0],f=h[1],d=h[2],(c||f||d)&&(l+=" rotateX("+c+"deg) rotateY("+f+"deg) rotateZ("+d+"deg)"),l&&(c=t.originX||0,f=t.originY||0,"number"==typeof c&&(c+="px"),"number"==typeof f&&(f+="px"),r.transformOrigin=c+" "+f+" 0px");var g=a("skew"),v=o(g,3);c=v[0],f=v[1],d=v[2],(c||f)&&(c+f!==90&&c+f!==-90||(t.skewX=c>15?c-15:c+15),l+=" skew("+(t.skewX||0)+"deg, "+f+"deg)");var y=a("translate"),m=o(y,3);c=m[0],f=m[1],d=m[2],(c||f||d)&&(l+=" translate3d("+c*i+"px, "+f*i+"px, "+d*i+"px)"),l&&(r.transform=l);for(var b=["transformStyle","transition"],w=0;w<b.length;w++){var _=b[w];t[_]&&(r[_]=t[_])}x(t,r,i),t.shadow&&(r.boxShadow=""+("inset"===t.shadow?"inset ":"")+(t.shadowX||0)*i+"px "+(t.shadowY||0)*i+"px "+(t.shadowR||0)*i+"px "+(t.shadowW||0)*i+"px "+t.shadowColor),t.persOn&&(r.perspectiveOrigin=t.perspectiveOriginX+"% "+t.perspectiveOriginY+"%",r.perspective=t.perspective);var S=t;if(n){if("rooms"===t.mmm||"m3table"===t.m3key||t.wall&&1===n.bb3d&&!e.wrap||t.wall&&2===n.bb3d&&n.lastWall!==e.parent3d.floatBoxes.indexOf(e.parentBox))S={};else if(t.bgStyle);else if(t.wall)S=Object.assign({},n),"top"===t.wall?S.backgroundColor="#fff":"ground"===t.wall&&(S.backgroundColor="#FAD7A0");else if("m3t"===t.m3key&&e.parent3T)e.parent3T.tuning.bgStyle?S=Object.assign({},e.parent3T.tuning):"rooms"===n.mmm&&(S=Object.assign({},n),"top"===e.parent3T.tuning.wall?S.backgroundColor="#fff":"ground"===e.parent3T.tuning.wall&&(S.backgroundColor="#FAD7A0"));else if("edge"===t.m3key)if(e.parent3M)S=Object.assign({},e.parent3M.tuning);else if(e.parentBox.getFloat.tuning.wall){S={};for(var k in e.rootBox.tuning)k.endsWith("WP")&&(S[k.slice(0,-2)]=e.rootBox.tuning[k])}else{var E=e.parentBox.tuning.bgStyle?e.parentBox:e.parent3T||e.parent3d;if(E.tuning.bgStyle)S=Object.assign({},E.tuning);else{S={};for(var C in e.rootBox.tuning)C.endsWith("WP")&&(S[C.slice(0,-2)]=e.rootBox.tuning[C])}}}else;if("color"!==S.bgStyle||S.backgroundImage||(r.background=S.gradient?"linear-gradient("+(S.gradientDeg||0)+"deg, "+S.backgroundColor+", "+S.gradientColor+")":S.backgroundColor),S.bgStyle&&S.backgroundImage){var O=[parseInt(S.bgiSizeX||0,10),parseInt(S.bgiSizeY||0,10)],D=O[0],T=O[1];D&&(D=S.bgiSizeXMetric?100*D*i/e.rect.width+"%":D+"%"),T&&(T=S.bgiSizeYMetric?100*T*i/e.rect.height+"%":T+"%"),r.backgroundSize=(D||"auto")+" "+(T||"auto");var N=S.backgroundImage.startsWith("xdg_")?"image?"+S.backgroundImage:S.backgroundImage;r.backgroundImage=encodeURI("url("+N+")"),r.backgroundRepeat=(S.repeatX||"no-repeat")+" "+(S.repeatY||"no-repeat")}return e.tuBG=S,r},function(e){var t=void 0,n=e.tuning,r=e.m;if(![1,2,3,4].includes(n.boxContent)||4===e.tuning.boxContent&&"0"===e.tuning.fieldStyle)return void(e.editorStyle={});var o=(n.paddingTD||0)*r,i=(n.paddingLR||0)*r;if(o||i){var a=n.paddingTDMetric?"rem":"px",l=n.paddingLRMetric?"rem":"px";e.editorStyle={padding:""+o+a+" "+i+l}}else e.editorStyle={};for(var s=["fontFamily","lineHeight","fontStyle","fontWeight","color"],u=0;u<s.length;u++){var c=s[u];t=n[c],t&&(e.editorStyle[c]=t)}for(var f=["letterSpacing","fontSize","textIndent"],d=0;d<f.length;d++){var p=f[d];if(t=n[p]){var h=n[p+"Metric"];e.editorStyle[p]=""+t*r+(h?"rem":"px")}}t=n.textAlign,void 0!==t&&(e.editorStyle.textAlign=["left","center","justify","right"][t])});t.grid=function(e){if(e.tuning.grid){for(var t=void 0,n=e;n.parentBox;n=n.parentBox)if("set"===n.tuning.grid){t=n.tuning;break}if(t){var r=[],o=[t.gridX,t.gridY],i=o[0],l=o[1];if((i||l)&&t.gridWidth){var s=[e.rect.width,e.rect.height,e.rect.height,e.rect.width],u=s[0],c=s[1],f=s[2],d=s[3];if(e.parent3d){var p=e.m;i*=p,l*=p,u*=p,c*=p,f*=p,d*=p,"mm"===e.parent3d.tuning.cm&&(i*=.1,l*=.1,u*=.1,c*=.1,f*=.1,d*=.1)}var h=t.gridColor,g=t.gridWidth;if(i>=1)for(var v=i;v<f;v+=i)r.push(a.default.createElement("line",{key:Math.random(),strokeWidth:g,x1:"0",y1:v,style:{stroke:h},x2:u,y2:v}));else if(i<=-1)for(var y=f+i;y>0;y+=i)r.push(a.default.createElement("line",{key:Math.random(),strokeWidth:g,x1:"0",y1:y,style:{stroke:h},x2:u,y2:y}));if(l>=1)for(var m=l;m<d;m+=l)r.push(a.default.createElement("line",{key:Math.random(),strokeWidth:g,x1:m,y1:"0",style:{stroke:h},x2:m,y2:c}));if(l<=-1)for(var b=d+l;b>0;b+=l)r.push(a.default.createElement("line",{key:Math.random(),strokeWidth:g,x1:b,y1:"0",style:{stroke:h},x2:b,y2:c}));return a.default.createElement("svg",{onMouseDown:function(){},viewBox:"0 0 "+u+" "+c},r)}}}},t.getContent=function(e){var t=e.tuning,n=void 0;if(e.tuBG&&"color"===e.tuBG.bgStyle&&e.tuBG.backgroundImage&&(n=e.tuBG.gradient?"linear-gradient("+(e.tuBG.gradientDeg||0)+"deg, "+e.tuBG.backgroundColor+", "+e.tuBG.gradientColor+")":e.tuBG.backgroundColor),e.boxIndex<1e3||3!==t.boxContent&&!t.wasEditor&&!t.wasEditor2)return a.default.createElement("div",{className:"fill",style:n?{background:n,border:0}:{border:0}},e.editMode||"preview"===e.doc.rsMode?null:e.glass);_(e);var r=["none","none"],o=r[0],i=r[1],l=r[2],u=r[3];switch(t.boxContent){case 1:o="block";break;case 2:i="block",t.wasEditor=t.wasEditor||e.editMode;break;case 3:o="block","javascript"===t.buttonAction&&(u=e.doc.register["BTN_"+(t.buttonCmd||"").toUpperCase()]||{},u.attributes={style:Object.assign({overflow:"hidden",height:e.rect.height,width:e.rect.width},e.editorStyle,{display:"block"})},u.attributes.className="rsvTop",u._teg="button",u.text=t.buttonLabel||"",u.fieldProps={_div:1,_cmd:t.buttonCmd||"",_param:e.boxIndex},t.overflow="hidden");break;case 4:if(!t.fieldName){t.fieldName="F_"+e.boxIndex%1e3;var c=e.doc.sovaPagesByName.setting;c&&setTimeout(function(){return c.doc.setField("fieldName",t.fieldName)},1)}var d=(t.dropList||"").split("\n");l={field:[t.fieldName,t.fieldType||"tx",d]},l.attributes={style:Object.assign({},e.editorStyle,{height:e.rect.height,width:e.rect.width},e.editorStyle,{display:"block"})};break;case 5:break;case 6:}e.content&&e.content[1]&&e.rtfKey++,2!==t.boxContent&&e.doc.toolbar&&e.doc.toolbar.changeToolbar();var p=t.overflow?{overflow:t.overflow,border:0}:{overflowY:"auto",border:0};return n&&(p.background=n),a.default.createElement("div",{className:"fill",style:Object.assign({},p)},t.wasEditor?a.default.createElement(s.default,{key:e.rtfKey,display:i,box:e,ref:"rtfEditor"}):null,t.wasEditor2?a.default.createElement("div",{ref:"plainText",contentEditable:e.editMode,key:"text",style:Object.assign({},e.editorStyle,{display:o,height:"inherit"})}):null,u&&(0,f.makeControl)("button",u,e.doc),l&&(0,f.makeControl)("field",l,e.doc),e.editMode||"preview"===e.doc.rsMode?null:e.glass)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SmartNumber=void 0;var l=n(1),s=r(l),u=n(5),c=r(u),f=n(4),d=r(f),p=t.SmartNumber=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.UNSAFE_componentWillUpdate=function(e){if(n.kb)return void(n.kb=0);if(""!==e.xValue&&(e.reset||"0"!==e.xValue&&e.xValue||!["0","0.","0.0","-","-0","-0.","-0.0"].includes(n.minus))){var t=parseFloat(e.xValue);isNaN(t)||(n.value=t,n.minus=n.digits?parseFloat(e.xValue).toFixed(n.digits):"",e.reset&&(n.inp=null))}},n.getDom=function(){return n.dom.current},n.getValue=function(){return Number(n.value||0)},n.setValue=function(e){n.value=n.digits?isNaN(e)?"":parseFloat(e).toFixed(n.digits):isNaN(e)?"":e,n.inp=null,parseFloat(n.value)!==parseFloat(n.minus)&&(n.minus=""),d.default.recalc(n,n.getValue(),!0),n.kb=!0,n.forceUpdate()},n.onChange=function(e){e.stopPropagation(),e.preventDefault();var t=[e.target.value,""],r=t[0],o=t[1];for(var i in r)if("0123456789.,-".includes(r[i])){var a=","===r[i]?".":r[i];"."===a&&o.includes(a)||"-"===a&&o.length||(o+=a)}if(o){if(n.inp=null,"."===o?o="0.":"-."===o&&(o="-0."),["0","0.","0.0","-","-0","-0.","-0.0"].includes(o)?(n.value=0,n.minus=o):(n.minus=o,n.digits?n.value=parseFloat(o):n.value=parseInt(o,10)),"-"!==o)return n.delay?setTimeout(function(){n.props.onChange?n.props.onChange(n.getValue()):d.default.recalc(n,n.getValue())},n.delay):n.props.onChange?n.props.onChange(n.getValue()):d.default.recalc(n,n.getValue()),n.kb=!0,void n.forceUpdate()}else n.inp=1,n.value="",n.minus="",n.props.dumb&&n.props.onChange?n.props.onChange(""):setTimeout(function(){n.inp&&(""===n.value||isNaN(n.value))&&(n.value=0,n.props.onChange?n.props.onChange(n.value):d.default.recalc(n,n.getValue()),n.kb=!0,n.forceUpdate())},n.delay);n.kb=!0,n.forceUpdate()},n.render=function(){return s.default.createElement("div",{name:n.props.name,className:n.props.className,style:Object.assign({},n.props.style,{width:n.props.width||30,margin:"auto"})},s.default.createElement("input",{style:{textAlign:"center",width:n.props.width||30},type:"text",value:n.props.dumb?n.props.xValue:""+(n.minus||n.value),onChange:n.onChange,readOnly:n.props.readOnly,onMouseDown:n.props.onMouseDown?function(e){return n.props.onMouseDown(e)}:function(e){},onBlur:n.props.onBlur?function(e){return n.props.onBlur(e)}:function(e){}}))},(0,c.default)(n),n.dom=s.default.createRef(),n.digits=parseInt(n.props.digits||"0",10),n.value=n.digits?isNaN(n.props.xValue)?0:parseFloat(n.props.xValue).toFixed(n.digits):isNaN(n.props.xValue)?0:Number(n.props.xValue),n.doc=n.props.doc,n.delay=Number(n.props.delay||0),n}return a(t,e),t}(s.default.Component);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=n(1),u=r(s),c=n(5),f=r(c),d=n(4),p=r(d),h=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.firstRender=!0,n.componentDidUpdate=function(){n.firstRender&&(n.firstRender=!1,n.updateComp(n.text))},n.getDom=function(){return n.dom.current},n.setValue=function(e){var t="dt"===n.props.type?p.default.dtRus(e):e;n.updateComp(t||"")},n.getValue=function(e){var t=n.text;return"dt"===n.props.type?e?p.default.dtRus(t):p.default.dtDB(t):"list"===e?[t,n.selectionStart,n.selectionEnd]:t},n.setFocus=function(e){n.setState({focusOn:!0}),n.input.focus()},n.changeDropList=function(e){if(n.props.readOnly)return n.setState({dropList:[]});if(n.lb){var t=n.props.ls;if("string"==typeof t){if(t.includes("|||")){var r=t.split("|||"),o=l(r,2),i=o[0],a=o[1];t=a.replace(/{FIELD}/g,n.props.doc.getField(i))}else t=e||t;p.default.jsonByUrl(n.props.doc,t).then(function(e){return n.setState({dropList:e||[]})}).catch(function(e){return console.error("Text.js: Util.jsonByUrl:"+e)})}else n.setState({dropList:e||[]})}},n.componentDidMount=function(e){n.changeDropList(n.props.ls),n.updateComp(n.text)},n.onkeydown=function(e){if(!n.props.readOnly){var t=p.default.upDown(e,n.props.doc,n.props.xName,!1);if("up"===t){if(0===n.input.selectionStart)return n.props.doc.setFocus(n.props.myRow-1)}else if("down"===t&&n.input.selectionStart>=n.text.length)return n.props.doc.setFocus(n.props.myRow+1);if("tx"===n.props.type)return void(13===e.keyCode&&n.props.kbEnter&&(e.stopPropagation(),e.preventDefault(),"string"==typeof n.props.kbEnter?p.default.runCmd(n.props.doc,n.props.kbEnter,n.text,e.ctrlKey):n.props.kbEnter(n.text,e.ctrlKey)));if((40===e.keyCode&&e.altKey||13===e.keyCode&&(!e.shiftKey&&!n.props.shiftEnter||e.shiftKey&&n.props.shiftEnter))&&n.showListBox(e),"kladr"!==n.props.type){var r=e.key.toLowerCase();!e.ctrlKey&&n.lb&&1===r.length&&p.default.sleep(5).then(function(){return n.selectFromDropList()})}}},n.selectFromDropList=function(e){var t=n.text.split("\n"),r=t.map(function(e){return e.toLowerCase()}),o=0,i=void 0,a=void 0,l=t.length-1;t=t.map(function(e,t){var s=!0,u=!1,c=void 0;try{for(var f,d=n.state.dropList[Symbol.iterator]();!(s=(f=d.next()).done);s=!0){var p=f.value,h=p.toLowerCase();if(t===l&&e&&!r.includes(h)&&!a&&h.startsWith(e.toLowerCase()))return i=o+e.length,a=o+p.length,p}}catch(e){u=!0,c=e}finally{try{!s&&d.return&&d.return()}finally{if(u)throw c}}return o+=e.length+1,e}),a&&(n.updateValue(t.join("\n"),!0),p.default.sleep(5).then(function(e){n.input.selectionStart=i,n.input.selectionEnd=a}))},n.showListBox=function(e){if(e.stopPropagation(),e.preventDefault(),"kladr"===n.props.type)return n.showKladr();var t=n.text,r=n.state.dropList.map(function(e){return e.split(n.sep)[0]}),o=[],i=[],a=!0,l=!1,s=void 0;try{for(var u,c=t.split("\n")[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value,d=r.indexOf(f.split(n.sep)[0]);d>=0?o.push(d):i.push(f)}}catch(e){l=!0,s=e}finally{try{!a&&c.return&&c.return()}finally{if(l)throw s}}n.updateComp(i.join("\n")),n.props.doc.msg.list(n.state.dropList,"Выберите значение",{multi:"lbme"===n.props.type,checked:o,sep:n.sep},n.props.small).then(function(e){e&&n.updateValue(e),n.input.focus()}).catch(function(e){n.updateComp(t),n.input.focus()})},n.showKladr=function(){var e=n.props.doc;e.sova.searchInCls&&e.sova.searchInCls[n.props.xName]&&e.sova.searchInCls[n.props.xName](e,n.text).then(function(t){return e.msg.list(t,"Выберите значение",{sep:n.sep},n.props.small)}).then(function(t){t&&(n.updateValue(t),p.default.runCmd(e,"afterSearchInCls",n.props.xName)),n.input.focus()}).catch(function(){return n.input.focus()})},n.updateValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n.text.split("\n"),o="",i=!0,a=!1,s=void 0;try{for(var u,c=e.split("\n")[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var f=u.value,d=p.default.partition(f,n.sep),h=l(d,2),g=h[0],v=h[1],y=n.props.alias?v||g:g;r.includes(y)&&!t||(o+=y+"\n")}}catch(e){a=!0,s=e}finally{try{!i&&c.return&&c.return()}finally{if(a)throw s}}n.updateComp(o?o.slice(0,-1):n.text)},n.updateComp=function(e){n.shadow&&(n.shadow.value=e,n.shadow.scrollHeight&&(n.savedH=n.shadow.scrollHeight),n.text=e,n.setState({height:n.savedH+2})),p.default.recalc(n,e)},n.onselect=function(e){n.selectionStart=n.input.selectionStart,n.selectionEnd=n.input.selectionEnd},n.render=function(e){var t=void 0,r={height:n.state.height,overflow:"hidden"};return n.lb&&(r.width="calc(100% - 20px)",r.display="inline-block",t=u.default.createElement("div",{className:"btn-lb-zone",onClick:function(e){return n.showListBox(e)}},u.default.createElement("div",{className:"btn-lb",style:{marginLeft:3}}))),u.default.createElement("div",Object.assign({style:Object.assign({},n.props.style)},p.default._on_(n.props),{ref:n.dom,className:(n.props.className||"tta")+(n.state.focusOn?" on-focus":"")+(n.props.readOnly?" read-only":"")}),u.default.createElement("div",{style:r},u.default.createElement("textarea",{tabIndex:n.props.readOnly?-1:"0",placeholder:n.props.readOnly?"":n.props.placeholder||n.placeholder,value:n.text,onKeyDown:n.onkeydown,onChange:function(e){return n.updateComp(e.target.value)},onFocus:function(e){return n.setState({focusOn:!0})},onSelect:function(e){return n.onselect(e)},onBlur:function(e){return n.setState({focusOn:!1})},style:{height:n.state.height+0,margin:0,cursor:"inherit"},ref:function(e){return n.input=e},readOnly:n.props.readOnly,title:n.props.title}),u.default.createElement("textarea",{value:n.text,onChange:function(){return null},style:{display:"block",visibility:"hidden",height:1,overflow:"hidden"},ref:function(e){return n.shadow=e}})),t)},(0,f.default)(n),n.dom=u.default.createRef(),n.shadow=null,n.input=null,n.savedH=16,n.sep=n.props.sep||"|",!["lbse","lbme","kladr"].includes(n.props.type)||n.props.readOnly?(n.lb=!1,n.placeholder="Введите текст"):(n.lb=!0,n.placeholder="Выбор значения из списка: <Alt-стрелка вниз>"),n.text=n.props.xValue||"",n.state={focusOn:!1,height:0},n}return a(t,e),t}(u.default.Component);t.default=h},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable;
}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var a=n(21),l=n(10),s=n(17),u=n(11),c=n(25),f=n(26),d=n(12),p=n(72),h=n(14),g=n(2),v=n(86),y=g.List,m=g.Record,b=g.Repeat,w=g.Map,x=g.OrderedMap,_={entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null},S=m(_),k=h("draft_tree_data_support")?u:s,E=function(e){function t(){return e.apply(this,arguments)||this}i(t,e);var n=t.prototype;return n.getEntityMap=function(){return c},n.getBlockMap=function(){return this.get("blockMap")},n.getSelectionBefore=function(){return this.get("selectionBefore")},n.getSelectionAfter=function(){return this.get("selectionAfter")},n.getBlockForKey=function(e){var t=this.getBlockMap().get(e);return t},n.getKeyBefore=function(e){return this.getBlockMap().reverse().keySeq().skipUntil(function(t){return t===e}).skip(1).first()},n.getKeyAfter=function(e){return this.getBlockMap().keySeq().skipUntil(function(t){return t===e}).skip(1).first()},n.getBlockAfter=function(e){return this.getBlockMap().skipUntil(function(t,n){return n===e}).skip(1).first()},n.getBlockBefore=function(e){return this.getBlockMap().reverse().skipUntil(function(t,n){return n===e}).skip(1).first()},n.getBlocksAsArray=function(){return this.getBlockMap().toArray()},n.getFirstBlock=function(){return this.getBlockMap().first()},n.getLastBlock=function(){return this.getBlockMap().last()},n.getPlainText=function(e){return this.getBlockMap().map(function(e){return e?e.getText():""}).join(e||"\n")},n.getLastCreatedEntityKey=function(){return c.__getLastCreatedEntityKey()},n.hasText=function(){var e=this.getBlockMap();return e.size>1||escape(e.first().getText()).replace(/%u200B/g,"").length>0},n.createEntity=function(e,t,n){return c.__create(e,t,n),this},n.mergeEntityData=function(e,t){return c.__mergeData(e,t),this},n.replaceEntityData=function(e,t){return c.__replaceData(e,t),this},n.addEntity=function(e){return c.__add(e),this},n.getEntity=function(e){return c.__get(e)},n.getAllEntities=function(){return c.__getAll()},n.loadWithEntities=function(e){return c.__loadWithEntities(e)},t.createFromBlockArray=function(e,n){var r=Array.isArray(e)?e:e.contentBlocks,o=a.createFromArray(r),i=o.isEmpty()?new f:f.createEmpty(o.first().getKey());return new t({blockMap:o,entityMap:n||c,selectionBefore:i,selectionAfter:i})},t.createFromText=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/\r\n?|\n/g,r=e.split(n),o=r.map(function(e){return e=v(e),new k({key:d(),text:e,type:"unstyled",characterList:y(b(l.EMPTY,e.length))})});return t.createFromBlockArray(o)},t.fromJS=function(e){return new t(r({},e,{blockMap:x(e.blockMap).map(t.createContentBlockFromJS),selectionBefore:new f(e.selectionBefore),selectionAfter:new f(e.selectionAfter)}))},t.createContentBlockFromJS=function(e){var t=e.characterList;return new k(r({},e,{data:w(e.data),characterList:null!=t?y((Array.isArray(t)?t:p(t)).map(function(e){return l.fromJS(e)})):void 0}))},t}(S);e.exports=E},function(e,t,n){"use strict";var r=n(1),o=n(20),i=n(2),a=i.Map,l=r.createElement("ul",{className:o("public/DraftStyleDefault/ul")}),s=r.createElement("ol",{className:o("public/DraftStyleDefault/ol")}),u=r.createElement("pre",{className:o("public/DraftStyleDefault/pre")}),c=a({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},section:{element:"section"},article:{element:"article"},"unordered-list-item":{element:"li",wrapper:l},"ordered-list-item":{element:"li",wrapper:s},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:u},unstyled:{element:"div",aliasedElements:["p"]}});e.exports=c},function(e,t,n){"use strict";var r=n(8),o=n(180),i=r.isPlatform("Mac OS X"),a={isCtrlKeyCommand:function(e){return!!e.ctrlKey&&!e.altKey},isOptionKeyCommand:function(e){return i&&e.altKey},usesMacOSHeuristics:function(){return i},hasCommandModifier:function(e){return i?!!e.metaKey&&!e.altKey:a.isCtrlKeyCommand(e)},isSoftNewlineEvent:o};e.exports=a},function(e,t,n){"use strict";function r(e,t){var n;if(t.isCollapsed()){var r=t.getAnchorKey(),i=t.getAnchorOffset();return i>0?(n=e.getBlockForKey(r).getEntityAt(i-1),n!==e.getBlockForKey(r).getEntityAt(i)?null:o(e.getEntityMap(),n)):null}var a=t.getStartKey(),l=t.getStartOffset(),s=e.getBlockForKey(a);return n=l===s.getLength()?null:s.getEntityAt(l),o(e.getEntityMap(),n)}function o(e,t){if(a(t)){var n=e.__get(t);return"MUTABLE"===n.getMutability()?t:null}return null}var i=n(64),a=i.notEmptyKey;e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=e.getSelection(),r=e.getCurrentContent(),o=n.getStartKey(),i=n.getStartOffset(),a=o,l=0;if(t>i){var s=r.getKeyBefore(o);if(null==s)a=o;else{a=s;var u=r.getBlockForKey(s);l=u.getText().length}}else l=i-t;return n.merge({focusKey:a,focusOffset:l,isBackward:!0})}n(48);e.exports=r},function(e,t){"use strict";function n(e,t){return!!t&&(e===t.documentElement||e===t.body)}var r={getTop:function(e){var t=e.ownerDocument;return n(e,t)?t.body.scrollTop||t.documentElement.scrollTop:e.scrollTop},setTop:function(e,t){var r=e.ownerDocument;n(e,r)?r.body.scrollTop=r.documentElement.scrollTop=t:e.scrollTop=t},getLeft:function(e){var t=e.ownerDocument;return n(e,t)?t.body.scrollLeft||t.documentElement.scrollLeft:e.scrollLeft},setLeft:function(e,t){var r=e.ownerDocument;n(e,r)?r.body.scrollLeft=r.documentElement.scrollLeft=t:e.scrollLeft=t}};e.exports=r},function(e,t,n){"use strict";function r(e){var t=d.exec(e);return null==t?null:t[0]}function o(e){var t=r(e);return null==t?u.NEUTRAL:p.exec(t)?u.RTL:u.LTR}function i(e,t){if(t=t||u.NEUTRAL,!e.length)return t;var n=o(e);return n===u.NEUTRAL?t:n}function a(e,t){return t||(t=u.getGlobalDir()),u.isStrong(t)?void 0:c(!1),i(e,t)}function l(e,t){return a(e,t)===u.LTR}function s(e,t){return a(e,t)===u.RTL}var u=n(33),c=n(3),f={L:"A-Za-zªµºÀ-ÖØ-öø-ƺƻƼ-ƿǀ-ǃǄ-ʓʔʕ-ʯʰ-ʸʻ-ˁː-ˑˠ-ˤˮͰ-ͳͶ-ͷͺͻ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҂Ҋ-ԯԱ-Ֆՙ՚-՟ա-և։ःऄ-हऻऽा-ीॉ-ौॎ-ॏॐक़-ॡ।-॥०-९॰ॱॲ-ঀং-ঃঅ-ঌএ-ঐও-নপ-রলশ-হঽা-ীে-ৈো-ৌৎৗড়-ঢ়য়-ৡ০-৯ৰ-ৱ৴-৹৺ਃਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਾ-ੀਖ਼-ੜਫ਼੦-੯ੲ-ੴઃઅ-ઍએ-ઑઓ-નપ-રલ-ળવ-હઽા-ીૉો-ૌૐૠ-ૡ૦-૯૰ଂ-ଃଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଵ-ହଽାୀେ-ୈୋ-ୌୗଡ଼-ଢ଼ୟ-ୡ୦-୯୰ୱ୲-୷ஃஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-ஹா-ிு-ூெ-ைொ-ௌௐௗ௦-௯௰-௲ఁ-ఃఅ-ఌఎ-ఐఒ-నప-హఽు-ౄౘ-ౙౠ-ౡ౦-౯౿ಂ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽಾಿೀ-ೄೆೇ-ೈೊ-ೋೕ-ೖೞೠ-ೡ೦-೯ೱ-ೲം-ഃഅ-ഌഎ-ഐഒ-ഺഽാ-ീെ-ൈൊ-ൌൎൗൠ-ൡ൦-൯൰-൵൹ൺ-ൿං-ඃඅ-ඖක-නඳ-රලව-ෆා-ෑෘ-ෟ෦-෯ෲ-ෳ෴ก-ะา-ำเ-ๅๆ๏๐-๙๚-๛ກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ະາ-ຳຽເ-ໄໆ໐-໙ໜ-ໟༀ༁-༃༄-༒༓༔༕-༗༚-༟༠-༩༪-༳༴༶༸༾-༿ཀ-ཇཉ-ཬཿ྅ྈ-ྌ྾-࿅࿇-࿌࿎-࿏࿐-࿔࿕-࿘࿙-࿚က-ဪါ-ာေးျ-ြဿ၀-၉၊-၏ၐ-ၕၖ-ၗၚ-ၝၡၢ-ၤၥ-ၦၧ-ၭၮ-ၰၵ-ႁႃ-ႄႇ-ႌႎႏ႐-႙ႚ-ႜ႞-႟Ⴀ-ჅჇჍა-ჺ჻ჼჽ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፠-፨፩-፼ᎀ-ᎏᎠ-Ᏼᐁ-ᙬ᙭-᙮ᙯ-ᙿᚁ-ᚚᚠ-ᛪ᛫-᛭ᛮ-ᛰᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱ᜵-᜶ᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳាើ-ៅះ-ៈ។-៖ៗ៘-៚ៜ០-៩᠐-᠙ᠠ-ᡂᡃᡄ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᤣ-ᤦᤩ-ᤫᤰ-ᤱᤳ-ᤸ᥆-᥏ᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧀᧁ-ᧇᧈ-ᧉ᧐-᧙᧚ᨀ-ᨖᨙ-ᨚ᨞-᨟ᨠ-ᩔᩕᩗᩡᩣ-ᩤᩭ-ᩲ᪀-᪉᪐-᪙᪠-᪦ᪧ᪨-᪭ᬄᬅ-ᬳᬵᬻᬽ-ᭁᭃ-᭄ᭅ-ᭋ᭐-᭙᭚-᭠᭡-᭪᭴-᭼ᮂᮃ-ᮠᮡᮦ-ᮧ᮪ᮮ-ᮯ᮰-᮹ᮺ-ᯥᯧᯪ-ᯬᯮ᯲-᯳᯼-᯿ᰀ-ᰣᰤ-ᰫᰴ-ᰵ᰻-᰿᱀-᱉ᱍ-ᱏ᱐-᱙ᱚ-ᱷᱸ-ᱽ᱾-᱿᳀-᳇᳓᳡ᳩ-ᳬᳮ-ᳱᳲ-ᳳᳵ-ᳶᴀ-ᴫᴬ-ᵪᵫ-ᵷᵸᵹ-ᶚᶛ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‎ⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℴℵ-ℸℹℼ-ℿⅅ-ⅉⅎ⅏Ⅰ-ↂↃ-ↄↅ-ↈ⌶-⍺⎕⒜-ⓩ⚬⠀-⣿Ⰰ-Ⱞⰰ-ⱞⱠ-ⱻⱼ-ⱽⱾ-ⳤⳫ-ⳮⳲ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵰ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々〆〇〡-〩〮-〯〱-〵〸-〺〻〼ぁ-ゖゝ-ゞゟァ-ヺー-ヾヿㄅ-ㄭㄱ-ㆎ㆐-㆑㆒-㆕㆖-㆟ㆠ-ㆺㇰ-ㇿ㈀-㈜㈠-㈩㈪-㉇㉈-㉏㉠-㉻㉿㊀-㊉㊊-㊰㋀-㋋㋐-㋾㌀-㍶㍻-㏝㏠-㏾㐀-䶵一-鿌ꀀ-ꀔꀕꀖ-ꒌꓐ-ꓷꓸ-ꓽ꓾-꓿ꔀ-ꘋꘌꘐ-ꘟ꘠-꘩ꘪ-ꘫꙀ-ꙭꙮꚀ-ꚛꚜ-ꚝꚠ-ꛥꛦ-ꛯ꛲-꛷Ꜣ-ꝯꝰꝱ-ꞇ꞉-꞊Ꞌ-ꞎꞐ-ꞭꞰ-Ʇꟷꟸ-ꟹꟺꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꠣ-ꠤꠧ꠰-꠵꠶-꠷ꡀ-ꡳꢀ-ꢁꢂ-ꢳꢴ-ꣃ꣎-꣏꣐-꣙ꣲ-ꣷ꣸-꣺ꣻ꤀-꤉ꤊ-ꤥ꤮-꤯ꤰ-ꥆꥒ-꥓꥟ꥠ-ꥼꦃꦄ-ꦲꦴ-ꦵꦺ-ꦻꦽ-꧀꧁-꧍ꧏ꧐-꧙꧞-꧟ꧠ-ꧤꧦꧧ-ꧯ꧰-꧹ꧺ-ꧾꨀ-ꨨꨯ-ꨰꨳ-ꨴꩀ-ꩂꩄ-ꩋꩍ꩐-꩙꩜-꩟ꩠ-ꩯꩰꩱ-ꩶ꩷-꩹ꩺꩻꩽꩾ-ꪯꪱꪵ-ꪶꪹ-ꪽꫀꫂꫛ-ꫜꫝ꫞-꫟ꫠ-ꫪꫫꫮ-ꫯ꫰-꫱ꫲꫳ-ꫴꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚ꭛ꭜ-ꭟꭤ-ꭥꯀ-ꯢꯣ-ꯤꯦ-ꯧꯩ-ꯪ꯫꯬꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ-豈-舘並-龎ﬀ-ﬆﬓ-ﬗＡ-Ｚａ-ｚｦ-ｯｰｱ-ﾝﾞ-ﾟﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",R:"֐־׀׃׆׈-׏א-ת׫-ׯװ-ײ׳-״׵-׿߀-߉ߊ-ߪߴ-ߵߺ߻-߿ࠀ-ࠕࠚࠤࠨ࠮-࠯࠰-࠾࠿ࡀ-ࡘ࡜-࡝࡞࡟-࢟‏יִײַ-ﬨשׁ-זּ﬷טּ-לּ﬽מּ﬿נּ-סּ﭂ףּ-פּ﭅צּ-ﭏ",AL:"؈؋؍؛؜؝؞-؟ؠ-ؿـف-ي٭ٮ-ٯٱ-ۓ۔ەۥ-ۦۮ-ۯۺ-ۼ۽-۾ۿ܀-܍܎܏ܐܒ-ܯ݋-݌ݍ-ޥޱ޲-޿ࢠ-ࢲࢳ-ࣣﭐ-ﮱ﮲-﯁﯂-﯒ﯓ-ﴽ﵀-﵏ﵐ-ﶏ﶐-﶑ﶒ-ﷇ﷈-﷏ﷰ-ﷻ﷼﷾-﷿ﹰ-ﹴ﹵ﹶ-ﻼ﻽-﻾"},d=new RegExp("["+f.L+f.R+f.AL+"]"),p=new RegExp("["+f.R+f.AL+"]"),h={firstStrongChar:r,firstStrongCharDir:o,resolveBlockDir:i,getDirection:a,isDirectionLTR:l,isDirectionRTL:s};e.exports=h},function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(e===t||!o(e)&&(o(t)?r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var o=n(220);e.exports=r},function(e,t,n){"use strict";var r=n(88),o=r;e.exports=o},function(e,t,n){"use strict";function r(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}r(),e.exports=n(229)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),u=r(s),c=n(4),f=r(c),d=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getDom=function(){return n.dom.current},n.onclick=function(e){return n.props.toggle(n.props.index,e)},n.ondubleclick=function(e){e.stopPropagation(),e.preventDefault()},n.onmouseover=function(e){if(n.props.info){var t=[e.clientX,e.clientY];return n.x=t[0],n.y=t[1],e.stopPropagation(),e.preventDefault(),n.shIF=!0,n.s1?n.forceUpdate():void f.default.runCmdYesNo(n.props.doc,n.props.info,n.props.items[n.props.index]).then(function(e){n.shIF&&(n.s1=e.ORG||" ",n.s2=e.DEPARTMENT||"",n.s3=e.PART||"",n.forceUpdate())}).catch(function(e){return n.shIF&&alert("Ошибка при получении информации: "+e)})}},n.onmouseleave=function(e){e.stopPropagation(),e.preventDefault(),n.props.info&&(n.shIF=!1,n.forceUpdate())},n.state={style:{position:"relative"}},n.shIF=!1,n.s1=n.s2=n.s3="",n.infoSpan=n.props.info?u.default.createElement("span",{className:"infoSpan",onMouseOver:n.onmouseover,onMouseLeave:n.onmouseleave},"i"):null,n.dom=u.default.createRef(),n}return a(t,e),l(t,[{key:"render",value:function(){var e=this,t=null;if(this.shIF){var n=this.props.items[this.props.index].label,r=this.props.items[this.props.index].opt,o={top:this.y+5,left:this.x-100};t=u.default.createElement("div",{style:o,className:"infoFloat"},n+" ("+r+")",u.default.createElement("br",null),this.s1,u.default.createElement("br",null),this.s2,u.default.createElement("br",null),this.s3)}var i=this.props.multi?u.default.createElement("span",{className:"multi",onClick:this.onclick,onDoubleClick:this.ondubleclick},this.props.check?"∨":" "):null,a=this.props.listItemClassName||"listItem";this.props.sel&&(a+=" "+(this.props.listItemClassName||"listItem")+"-sel");var l=Object.assign({},this.state.style);return this.props.iShow%2&&this.props.evenColor&&!this.props.sel&&(l.background=this.props.evenColor),this.props.multi&&this.props.check&&(l.fontWeight="bold",this.props.sel||(l.color="#00f")),u.default.createElement("div",{className:a,ref:this.dom,tabIndex:"0",onClick:function(t){return e.props.onclick(e.props.iShow,t)},onDoubleClick:function(t){return e.props.ondoubleclick(!0)},style:l},i,this.props.items[this.props.index].label,this.infoSpan,t)}}]),t}(u.default.Component);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.spinner=void 0;var o=n(1),i=r(o);t.spinner=function(e,t,n){var r=n?"preloader preloaderColor":"preloader",o=t?i.default.createElement("div",{className:"spinner"}):i.default.createElement("div",{className:r},i.default.createElement("div",null),i.default.createElement("div",null),i.default.createElement("div",null),i.default.createElement("div",null),i.default.createElement("div",null),i.default.createElement("div",null),i.default.createElement("div",null),i.default.createElement("div",null),i.default.createElement("div",null),i.default.createElement("div",null));return e?i.default.createElement("div",{className:"spinner-wrap"},o):o}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=void 0,r=void 0,o=function(e){if(n.shadowW3){e.shadow="outside";for(var t=["shadowColor","shadowW","shadowR"],r=0;r<t.length;r++){var o=t[r];e[o]=n[o+"3"]}}else e.shadow=""},i=function(e,t){var n={rect:{left:0,top:0,width:0,height:0},boxes:[],tuning:Object.assign({fixed:1},e)};return t&&(n.tuning.w_left=n.tuning.w_top=0,n.tuning.wall=t,n.tuning.m3key="wall",n.className="side_0"),n},a=function(e,t,n,r,o,i){var a=[t,n,r,o];e.rect.left=a[0],e.rect.top=a[1],e.rect.width=a[2],e.rect.height=a[3];for(var l in i)e.tuning[l]=i[l]},l=function(e){var t=n.angleHide;if(!t)return"block";var r=n.rotate3Z,o=3e3;switch(r<0&&(r+=360),e){case"top":case"far":r<=180?o=180-r:r<=270&&(o=r-180);break;case"right":if(360===r&&90===t)return"none";r<=90?o=90-r:r<=180&&(o=r-90);break;case"door":r<=90?o=r:r>=270&&(o=360-r);break;case"left":if(!r&&90===t)return"none";r<180||(o=r<=270?270-r:r-270)}return o<=t?"none":"block"},s=t.mmmAngleHide=function(e){if(e.rebuild=null,n=e.tuning,"rooms"===n.mmm){var t=void 0,r=!0,o=!1,i=void 0;try{for(var a,s=e.boxes[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;t=u.boxes[0]&&u.boxes[0].tuning.wall,t&&(u.tuning.display="top"!==t||n.coverOn?l(1e3!==n.bb3d&&t):"none")}}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}}},u=function(e){if(!e.boxes||!e.boxes.length){e.boxes=e.boxes||[];for(var t=0;t<5;t++){var n=i({m3key:"edge"});t<2?(n.tuning.rotateX=90,n.tuning.originY="bottom"):3===t?n.tuning.rotateY=-90:2===t&&(n.tuning.rotateY=90),e.boxes.push(n)}}},c=function(e){var t=e.boxes[0],r=t.tuning,o=t.rect,i=[r.w_left,r.w_top],l=i[0],s=i[1],u=i[2],c=i[3],f=n.is3dZ;switch(r.changed&&(u=o.width,c=o.height),r.wall){case"far":u=o.width=u||n.is3dX,c=o.height=c||f,r.y0=r.y0||c,a(t,l,-r.y0+s,u,c);break;case"right":c=o.height=c||f,u=o.width=u||n.is3dY,r.x0=r.x0||n.is3dX,e.tuning.translateZ=f-o.height-s,a(t,r.x0,-c+l,u,c);break;case"left":u=o.width=u||n.is3dY,c=o.height=c||f,r.x0=r.x0||c,r.y0=r.y0||u,a(t,-r.x0+s,r.y0-l,u,c);break;case"door":u=o.width=u||n.is3dX,c=o.height=c||f,r.x0=r.x0||u,r.y0=r.y0||c,e.tuning.translateZ=f-o.height-s,e.tuning.translateY=-c,a(t,r.x0-l,n.is3dY,u,c);break;case"top":u=o.width=u||n.is3dX,c=o.height=c||n.is3dY,r.y0=r.y0||c,r.x0=r.w_shiftTop||0,e.tuning.translateZ=+f-r.x0,a(t,l,-r.y0-s,u,c,{originY:"bottom",rotate3X:180+(r.w_rotateTop1||0)});break;case"ground":u=o.width=u||n.is3dX,c=o.height=c||n.is3dY,a(t,l,s,u,c)}},f=function(e){for(var t=e.parent3T,n=e.tuning.is3dZ||t&&t.tuning.is3dZ||r.tuning.w3||0,o=n&&e.rect.width,i=n&&e.rect.height,a=e.floatBoxes&&e.floatBoxes.length?e.floatBoxes:e.boxes,l=0;l<5;l++){var s=void 0,u=void 0,c=void 0,f=void 0,d=a[l];switch(d.parent3d=e.parent3d,t&&(d.parent3T=t),l){case 0:s=0,u=-n,c=o,f=n;break;case 1:s=0,u=i-n,c=o,f=n;break;case 2:s=o,u=0,c=n,f=i;break;case 3:s=0,u=0,c=n,f=i,d.tuning.translateX=-n;break;case 4:s=0,u=0,c=o,f=i,d.tuning.translateZ=-n}var p=[s,u,c,f];d.rect.left=p[0],d.rect.top=p[1],d.rect.width=p[2],d.rect.height=p[3]}},d=function e(t){var n=!0,r=!1,o=void 0;try{for(var i,a=t.cellsBoxes[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;l.parent3d=t.parent3d,l.parent3T=t.parent3T,"m3t"===l.tuning.m3key?(l.boxes.length||u(l),f(l)):l.tuning.m3key?l.tuning.mmm&&g(l):l.tuning.m3key="m3empty",e(l)}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}var s=!0,c=!1,d=void 0;try{for(var p,h=t.floatBoxes[Symbol.iterator]();!(s=(p=h.next()).done);s=!0){var v=p.value;v.parent3d=t.parent3d,v.tuning.m3key?v.tuning.mmm&&g(v):v.tuning.m3key="m3empty",e(v)}}catch(e){c=!0,d=e}finally{try{!s&&h.return&&h.return()}finally{if(c)throw d}}},p=function(e){for(var t=void 0,i=void 0,a=0;a<e.boxes.length;a++){if(!e.boxes[a].key)return u(e.boxes[a].boxes[0]),void(e.pending||(e.pending=function(){e.rebuild="parent3d",e.forceUpdate()}));if(t=e.floatBoxes[a]||e.boxes[a],t.floatBoxes&&t.floatBoxes.length){if(i=t.floatBoxes[0],t.parent3d=i.parent3d=r,i.findWrap(i))n.lastWall=a;else if("wed2"===n.wedWall&&n.bb3d&&"ground"!==i.tuning.wall&&n.lastWall!==r.floatBoxes.indexOf(t)){t.hide=1;continue}if(t.hide=null,c(t),"m3table"===i.tuning.m3key)i.parent3T=i,d(i);else if(f(i),i.floatBoxes){var l=!0,p=!1,h=void 0;try{for(var v,y=i.floatBoxes[Symbol.iterator]();!(l=(v=y.next()).done);l=!0){var m=v.value;m.tuning.m3key?m.tuning.mmm&&g(m):m.tuning.m3key="m3empty"}}catch(e){p=!0,h=e}finally{try{!l&&y.return&&y.return()}finally{if(p)throw h}}}}switch(i.tuning.wall){case"far":t.tuning.rotate3X=-90+n.sweep;break;case"right":i.tuning.rotate3Y=-90+n.sweep;break;case"door":i.tuning.rotate3X=90-n.sweep;break;case"left":t.tuning.rotate3Y=90-n.sweep;break;case"top":t.tuning.rotate3X=0+n.sweep;break;case"ground":5===a&&i.boxes[4]&&o(i.boxes[4].tuning)}}s(e)},h=function(e){if(!e.boxes.length){for(var t=[],n=0;n<6;n++){var r=void 0;switch(n){case 0:r=i({originY:"bottom"},"far");break;case 1:r=i({originY:"bottom",rotate3Z:90},"right");break;case 2:r=i({rotate3Z:180,originY:"bottom"},"door");break;case 3:r=i({rotate3Z:-90},"left");break;case 4:r=i({originY:"bottom"},"top");break;case 5:r=i({},"ground")}u(r);var o=i({m3key:"side"});o.boxes.push(r),t.push(o)}e.boxes=t}},g=t.refreshMMM=function e(t){if(!t.parent3d){if(!t.tuning.mmm)return;return r=t.parent3d=t,n=r.tuning,n.scale3d=n.scale3d||1,n.originX="center",n.originY="center","rooms"===n.mmm?(r.rect.width=n.is3dX,r.rect.height=n.is3dY,h(t)):"m3table"===n.mmm?(t.parent3T=t,d(t)):"brick"===n.mmm&&u(t),void(t.pending||(t.pending=function(){return t.forceUpdate()}))}if(t.rebuild=null,r=t.parent3d,n=r.tuning,"brick"!==t.tuning.mmm){if("m3table"===t.tuning.mmm)return t.parent3T=t,void d(t);if(t===t.parent3M)return void d(t);if(t===r)"rooms"===n.mmm&&(r.rect.width=n.is3dX,r.rect.height=n.is3dY,p(t));else{var o=t.tuning.wall?t:t.floatBoxes&&t.floatBoxes.length&&t.floatBoxes[0];if(o&&o.tuning.wall&&(c(o.parentBox),"m3table"===o.tuning.m3key?(t.parent3T=o,d(t)):f(o),o.floatBoxes)){var i=!0,a=!1,l=void 0;try{for(var s,g=o.floatBoxes[Symbol.iterator]();!(i=(s=g.next()).done);i=!0){var v=s.value;v.tuning.m3key?v.tuning.mmm&&e(v):v.tuning.m3key="m3empty"}}catch(e){a=!0,l=e}finally{try{!i&&g.return&&g.return()}finally{if(a)throw l}}}}}else{t.boxes.length||u(t),f(t);var y=!0,m=!1,b=void 0;try{for(var w,x=t.cellsBoxes[Symbol.iterator]();!(y=(w=x.next()).done);y=!0){var _=w.value;e(_)}}catch(e){m=!0,b=e}finally{try{!y&&x.return&&x.return()}finally{if(m)throw b}}var S=!0,k=!1,E=void 0;try{for(var C,O=t.floatBoxes[Symbol.iterator]();!(S=(C=O.next()).done);S=!0){var D=C.value;e(D)}}catch(e){k=!0,E=e}finally{try{!S&&O.return&&O.return()}finally{if(k)throw E}}}};t.setScale=function(e,t,n){var r="cm";n||(r=e.parent3d?"cm":"cm2d");var o="cm"===t?.1:10,i=function e(i,a){var l=i.tuning;if(l[r]===t);else if(l[r]||a!==t){if(l.line){for(var s=["len","x1","x2","x3","y1","y2","y3"],u=0;u<s.length;u++){var c=s[u];l[c]&&(l[c]*=o)}return}for(var f in i.rect)i.rect[f]*=o;for(var d=["is3dZ","translateX","translateY","translateZ","shadowX","shadowY","shadowR","shadowW","margin","paddingTD","paddingLR","letterSpacing","fontSize","textIndent"],p=0;p<d.length;p++){var h=d[p];l[h]&&"number"==typeof l[h]&&(l[h]*=o)}l.bgiSizeYMetric||(l.bgiSizeX&&(l.bgiSizeX*=o),l.bgiSizeY&&(l.bgiSizeY*=o));for(var g=["","Top","Right","Bottom","Left"],v=0;v<g.length;v++){var y=g[v];l["border"+y+"Width"]&&(l["border"+y+"Width"]*=o)}}else;if(i.boxes){var m=!0,b=!1,w=void 0;try{for(var x,_=(n?i.boxes:i.floatBoxes)[Symbol.iterator]();!(m=(x=_.next()).done);m=!0){var S=x.value;e(S,l[r]||a||"cm")}}catch(e){b=!0,w=e}finally{try{!m&&_.return&&_.return()}finally{if(b)throw w}}}if(i.cells){var k=!0,E=!1,C=void 0;try{for(var O,D=(n?i.cells:i.cellsBoxes)[Symbol.iterator]();!(k=(O=D.next()).done);k=!0){var T=O.value;e(T,l[r]||a)}}catch(e){E=!0,C=e}finally{try{!k&&D.return&&D.return()}finally{if(E)throw C}}}delete l[r]};if("cm2d"===r)return i(e,e.tuning.cm2d||"cm"),e.tuning.cm2d=t,e.tuning.scale2d/=o,void e.setWrap();if("rooms"!==e.tuning.mmm)return i(e,e.tuning.cm||"cm"),e.tuning.cm=t,void(n||(e.tuning.scale3d/=o,g(e),e.setWrap()));for(var a=["shadowR3","shadowW3","is3dX","is3dY","is3dZ","w3"],l=0;l<a.length;l++){var s=a[l];e.tuning[s]&&(e.tuning[s]*=o)}var u=!0,c=!1,f=void 0;try{for(var d,p=e.floatBoxes[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){for(var h=d.value,v=["translateX","translateY","translateZ"],y=0;y<v.length;y++){var m=v[y];h.tuning[m]&&(h.tuning[m]*=o)}for(var b=h.floatBoxes[0],w=["x0","y0","w_shift","w_shiftTop","w_left","w_top"],x=0;x<w.length;x++){var _=w[x];b.tuning[_]=(b.tuning[_]||0)*o}i(b,e.tuning.cm||"cm")}}catch(e){c=!0,f=e}finally{try{!u&&p.return&&p.return()}finally{if(c)throw f}}e.tuning.cm=t,e.tuning.scale3d/=o,g(e),e.setWrap()}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),s=r(l),u=n(5),c=r(u),f=n(111),d=r(f),p=n(4),h=r(p),g=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));v.call(n),(0,c.default)(n),n.xValue=n.props.xValue||"#ffffffff",n.sl=n.xValue;var r=(0,f.parseColor)(n.xValue);return isNaN(r.b)?(console.warn(n.props.xName,"invalid color:",n.xValue),n.xValue="#ffffffff",n.color=(0,f.parseColor)(n.xValue)):n.color=r,n.state={shown:!1},n}return a(t,e),t}(s.default.Component),v=function(){var e=this;this.changeColor=function(t,n){e.xValue=t.hexa,e.color=t,e.forceUpdate(),h.default.recalc(e,e.xValue,!n,n,e.sl),n&&(e.sl=e.xValue)},this.getValue=function(){return e.xValue},this.setValue=function(t){var n=(0,f.parseColor)(t||"#ffffffff");isNaN(n.b)?console.warn(e.props.xName,"invalid color:",t):(e.xValue=n.hexa,e.sl=e.xValue,h.default.recalc(e,e.xValue,!0,!1,e.sl),e.shown=!1,e.color=n,e.setState({shown:!1}))},this.schowCP=function(t){if(t&&t.stopPropagation(),e.shown)return void(e.shown=!1);if(e.shown=!0,e.props.doc.page){var n=e.refs.target.getBoundingClientRect(),r=e.props.doc.page.doc.mainDiv.current.getBoundingClientRect();e.style={left:r.left-n.left,width:r.width-12},e.styleArrow={left:4-e.style.left}}else e.style={},e.styleArrow={};e.setState({shown:!0})},this.hideCP=function(t){t.stopPropagation(),e.noBlur?e.noBlur=!1:(e.setState({shown:!1}),setTimeout(function(){return e.shown=!1},500))},this.fo=function(t){t.stopPropagation(),e.noBlur=!0},this.foMain=function(t){t.stopPropagation(),e.noBlur=!0,setTimeout(function(){return e.noBlur=!1},50)},this.render=function(t){var n=e.state.shown?s.default.createElement(d.default,{style:e.style,styleArrow:e.styleArrow,color:e.color,onChange:e.changeColor,xValue:e.xValue,doc:e.props.doc,colorListField:e.props.colorList||"rainbow",hideCP:e.hideCP,fo:e.fo,foMain:e.foMain}):null;return s.default.createElement("span",{className:"target",style:Object.assign({},e.props.style),ref:"target"},s.default.createElement("span",{onClick:e.schowCP,style:{background:e.color.hexa}}),n)}};t.default=g},function(e,t){"use strict";e.exports={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}},function(e,t,n){"use strict";function r(){return r=l||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=n(15),s=n(56),u=n(13),c=n(1),f=n(45),d=n(32),p=n(46),h=n(33),g=n(20),v=n(90),y=n(34),m=n(91),b=n(3),w=n(23),x=n(9),_=10,S=function(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t},k=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,a(o(t),"_node",void 0),t}i(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e){return this.props.block!==e.block||this.props.tree!==e.tree||this.props.direction!==e.direction||S(e.selection,e.block.getKey())&&e.forceSelection},n.componentDidMount=function(){if(!this.props.preventScroll){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var n=this._node;if(null!=n){var r,o=d.getScrollParent(n),i=y(o);if(o===window){var a=v(n),l=a.y+a.height,s=m().height;r=l-s,r>0&&window.scrollTo(i.x,i.y+r+_)}else{w(n)?void 0:b(!1);var u=n.offsetHeight+n.offsetTop,c=o.offsetTop+o.offsetHeight,p=c+i.y;r=u-p,r>0&&f.setTop(o,f.getTop(o)+r+_)}}}}},n._renderChildren=function(){var e=this,t=this.props.block,n=t.getKey(),o=t.getText(),i=this.props.tree.size-1,a=S(this.props.selection,n);return this.props.tree.map(function(l,f){var d=l.get("leaves");if(0===d.size)return null;var g=d.size-1,v=d.map(function(r,l){var d=u.encode(n,f,l),p=r.get("start"),h=r.get("end");return c.createElement(s,{key:d,offsetKey:d,block:t,start:p,selection:a?e.props.selection:null,forceSelection:e.props.forceSelection,text:o.slice(p,h),styleSet:t.getInlineStyleAt(p),customStyleMap:e.props.customStyleMap,customStyleFn:e.props.customStyleFn,isLast:f===i&&l===g})}).toArray(),y=l.get("decoratorKey");if(null==y)return v;if(!e.props.decorator)return v;var m=x(e.props.decorator),b=m.getComponentForKey(y);if(!b)return v;var w=m.getPropsForKey(y),_=u.encode(n,f,0),S=d.first().get("start"),k=d.last().get("end"),E=o.slice(S,k),C=t.getEntityAt(l.get("start")),O=h.getHTMLDirIfDifferent(p.getDirection(E),e.props.direction),D={contentState:e.props.contentState,decoratedText:E,dir:O,start:S,end:k,blockKey:n,entityKey:C,offsetKey:_};return c.createElement(b,r({},w,D,{key:_}),v)}).toArray()},n.render=function(){var e=this,t=this.props,n=t.direction,r=t.offsetKey,o=g({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===n,"public/DraftStyleDefault/rtl":"RTL"===n});return c.createElement("div",{"data-offset-key":r,className:o,ref:function(t){return e._node=t}},this._renderChildren())},t}(c.Component);e.exports=k},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(15),l=n(140),s=n(1),u=n(3),c=n(80),f=n(192).setDraftEditorSelection,d=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(r(t),"leaf",void 0),t}o(t,e);var n=t.prototype;return n._setSelection=function(){var e=this.props.selection;if(null!=e&&e.getHasFocus()){var t=this.props,n=t.block,r=t.start,o=t.text,i=n.getKey(),a=r+o.length;if(e.hasEdgeWithin(i,r,a)){var l=this.leaf;l?void 0:u(!1);var s=l.firstChild;s?void 0:u(!1);var d;s.nodeType===Node.TEXT_NODE?d=s:c(s)?d=l:(d=s.firstChild,d?void 0:u(!1)),f(e,d,i,r,a)}}},n.shouldComponentUpdate=function(e){var t=this.leaf;t?void 0:u(!1);var n=t.textContent!==e.text||e.styleSet!==this.props.styleSet||e.forceSelection;return n},n.componentDidUpdate=function(){this._setSelection()},n.componentDidMount=function(){this._setSelection()},n.render=function(){var e=this,t=this.props.block,n=this.props.text;n.endsWith("\n")&&this.props.isLast&&(n+="\n");var r=this.props,o=r.customStyleMap,i=r.customStyleFn,u=r.offsetKey,c=r.styleSet,f=c.reduce(function(e,t){var n={},r=o[t];return void 0!==r&&e.textDecoration!==r.textDecoration&&(n.textDecoration=[e.textDecoration,r.textDecoration].join(" ").trim()),a(e,r,n)},{});if(i){var d=i(c,t);f=a(f,d)}return s.createElement("span",{"data-offset-key":u,ref:function(t){return e.leaf=t},style:f},s.createElement(l,null,n))},t}(s.Component);e.exports=d},function(e,t){"use strict";e.exports={initODS:function(){},handleExtensionCausedError:function(){}}},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var o=n(2),i=o.Record,a=i({type:"TOKEN",mutability:"IMMUTABLE",data:Object}),l=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.getType=function(){return this.get("type")},n.getMutability=function(){return this.get("mutability")},n.getData=function(){return this.get("data")},t}(a);e.exports=l},function(e,t){"use strict";e.exports={logBlockedSelectionEvent:function(){return null},logSelectionStateFailure:function(){return null}}},function(e,t,n){"use strict";function r(e,t){var n=t?f.exec(e):u.exec(e);return n?n[0]:e}var o=n(207),i=o.getPunctuation(),a="['‘’]",l="\\s|(?![_])"+i,s="^(?:"+l+")*(?:"+a+"|(?!"+l+").)*(?:(?!"+l+").)",u=new RegExp(s),c="(?:(?!"+l+").)(?:"+a+"|(?!"+l+").)*(?:"+l+")*$",f=new RegExp(c),d={getBackward:function(e){return r(e,!0)},getForward:function(e){return r(e,!1)}};e.exports=d},function(e,t){"use strict";var n={stringify:function(e){return"_"+String(e)},unstringify:function(e){return e.slice(1)}};e.exports=n},function(e,t,n){"use strict";var r=n(7),o=n(6),i=n(148),a=n(9),l={currentBlockContainsLink:function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=n.getEntityMap();return n.getBlockForKey(t.getAnchorKey()).getCharacterList().slice(t.getStartOffset(),t.getEndOffset()).some(function(e){var t=e.getEntity();return!!t&&"LINK"===r.__get(t).getType()})},getCurrentBlockType:function(e){var t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getStartKey()).getType()},getDataObjectForLinkURL:function(e){return{url:e.toString()}},handleKeyCommand:function(e,t,n){switch(t){case"bold":return l.toggleInlineStyle(e,"BOLD");case"italic":return l.toggleInlineStyle(e,"ITALIC");case"underline":return l.toggleInlineStyle(e,"UNDERLINE");case"code":return l.toggleCode(e);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return l.onBackspace(e);case"delete":case"delete-word":case"delete-to-end-of-block":return l.onDelete(e);default:return null}},insertSoftNewline:function(e){var t=r.insertText(e.getCurrentContent(),e.getSelection(),"\n",e.getCurrentInlineStyle(),null),n=o.push(e,t,"insert-characters");return o.forceSelection(n,t.getSelectionAfter())},onBackspace:function(e){var t=e.getSelection();if(!t.isCollapsed()||t.getAnchorOffset()||t.getFocusOffset())return null;var n=e.getCurrentContent(),r=t.getStartKey(),i=n.getBlockBefore(r);if(i&&"atomic"===i.getType()){var a=n.getBlockMap().delete(i.getKey()),s=n.merge({blockMap:a,selectionAfter:t
});if(s!==n)return o.push(e,s,"remove-range")}var u=l.tryToRemoveBlockStyle(e);return u?o.push(e,u,"change-block-type"):null},onDelete:function(e){var t=e.getSelection();if(!t.isCollapsed())return null;var n=e.getCurrentContent(),i=t.getStartKey(),a=n.getBlockForKey(i),l=a.getLength();if(t.getStartOffset()<l)return null;var s=n.getBlockAfter(i);if(!s||"atomic"!==s.getType())return null;var u=t.merge({focusKey:s.getKey(),focusOffset:s.getLength()}),c=r.removeRange(n,u,"forward");return c!==n?o.push(e,c,"remove-range"):null},onTab:function(e,t,n){var r=t.getSelection(),a=r.getAnchorKey();if(a!==r.getFocusKey())return t;var l=t.getCurrentContent(),s=l.getBlockForKey(a),u=s.getType();if("unordered-list-item"!==u&&"ordered-list-item"!==u)return t;e.preventDefault();var c=s.getDepth();if(!e.shiftKey&&c===n)return t;var f=i(l,r,e.shiftKey?-1:1,n);return o.push(t,f,"adjust-depth")},toggleBlockType:function(e,t){var n=e.getSelection(),i=n.getStartKey(),l=n.getEndKey(),s=e.getCurrentContent(),u=n;if(i!==l&&0===n.getEndOffset()){var c=a(s.getBlockBefore(l));l=c.getKey(),u=u.merge({anchorKey:i,anchorOffset:n.getStartOffset(),focusKey:l,focusOffset:c.getLength(),isBackward:!1})}var f=s.getBlockMap().skipWhile(function(e,t){return t!==i}).reverse().skipWhile(function(e,t){return t!==l}).some(function(e){return"atomic"===e.getType()});if(f)return e;var d=s.getBlockForKey(i).getType()===t?"unstyled":t;return o.push(e,r.setBlockType(s,u,d),"change-block-type")},toggleCode:function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=t.getFocusKey();return t.isCollapsed()||n!==r?l.toggleBlockType(e,"code-block"):l.toggleInlineStyle(e,"CODE")},toggleInlineStyle:function(e,t){var n=e.getSelection(),i=e.getCurrentInlineStyle();if(n.isCollapsed())return o.setInlineStyleOverride(e,i.has(t)?i.remove(t):i.add(t));var a,l=e.getCurrentContent();return a=i.has(t)?r.removeInlineStyle(l,n,t):r.applyInlineStyle(l,n,t),o.push(e,a,"change-inline-style")},toggleLink:function(e,t,n){var i=r.applyEntity(e.getCurrentContent(),t,n);return o.push(e,i,"apply-entity")},tryToRemoveBlockStyle:function(e){var t=e.getSelection(),n=t.getAnchorOffset();if(t.isCollapsed()&&0===n){var o=t.getAnchorKey(),i=e.getCurrentContent(),a=i.getBlockForKey(o),l=a.getType(),s=i.getBlockBefore(o);if("code-block"===l&&s&&"code-block"===s.getType()&&0!==s.getLength())return null;if("unstyled"!==l)return r.setBlockType(i,t,"unstyled")}return null}};e.exports=l},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i,a=n(10),l=n(17),s=n(11),u=n(41),c=n(25),f=n(208),d=n(20),p=n(12),h=n(74),g=n(14),v=n(2),y=v.List,m=v.Map,b=v.OrderedSet,w=n(176),x=n(80),_=n(23),S=n(177),k=g("draft_tree_data_support"),E="&nbsp;",C=" ",O=new RegExp("\r","g"),D=new RegExp("\n","g"),T=new RegExp("^\n","g"),N=new RegExp(E,"g"),M=new RegExp("&#13;?","g"),I=new RegExp("&#8203;?","g"),B=["bold","bolder","500","600","700","800","900"],P=["light","lighter","normal","100","200","300","400"],A=["className","href","rel","target","title"],R=["alt","className","height","src","width"],F=(i={},o(i,d("public/DraftStyleDefault/depth0"),0),o(i,d("public/DraftStyleDefault/depth1"),1),o(i,d("public/DraftStyleDefault/depth2"),2),o(i,d("public/DraftStyleDefault/depth3"),3),o(i,d("public/DraftStyleDefault/depth4"),4),i),L=m({b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE",mark:"HIGHLIGHT"}),j=function(e){var t={};return e.mapKeys(function(e,n){var r=[n.element];void 0!==n.aliasedElements&&r.push.apply(r,n.aliasedElements),r.forEach(function(n){void 0===t[n]?t[n]=e:"string"==typeof t[n]?t[n]=[t[n],e]:t[n].push(e)})}),m(t)},z=function(e){if(_(e)){var t=e;if(t.style.fontFamily.includes("monospace"))return"CODE"}return null},K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object.keys(F).some(function(n){e.classList.contains(n)&&(t=F[n])}),t},U=function(e){if(!w(e))return!1;var t=e;if(!t.href||"http:"!==t.protocol&&"https:"!==t.protocol&&"mailto:"!==t.protocol&&"tel:"!==t.protocol)return!1;try{new f(t.href);return!0}catch(e){return!1}},V=function(e){if(!S(e))return!1;var t=e;return!(!t.attributes.getNamedItem("src")||!t.attributes.getNamedItem("src").value)},H=function(e,t){if(!_(e))return t;var n=e,r=n.style.fontWeight,o=n.style.fontStyle,i=n.style.textDecoration;return t.withMutations(function(e){B.indexOf(r)>=0?e.add("BOLD"):P.indexOf(r)>=0&&e.remove("BOLD"),"italic"===o?e.add("ITALIC"):"normal"===o&&e.remove("ITALIC"),"underline"===i&&e.add("UNDERLINE"),"line-through"===i&&e.add("STRIKETHROUGH"),"none"===i&&(e.remove("UNDERLINE"),e.remove("STRIKETHROUGH"))})},W=function(e){return"ul"===e||"ol"===e},q=function(){function e(e,t){o(this,"characterList",y()),o(this,"currentBlockType","unstyled"),o(this,"currentDepth",0),o(this,"currentEntity",null),o(this,"currentText",""),o(this,"wrapper",null),o(this,"blockConfigs",[]),o(this,"contentBlocks",[]),o(this,"entityMap",c),o(this,"blockTypeMap",void 0),o(this,"disambiguate",void 0),this.clear(),this.blockTypeMap=e,this.disambiguate=t}var t=e.prototype;return t.clear=function(){this.characterList=y(),this.blockConfigs=[],this.currentBlockType="unstyled",this.currentDepth=0,this.currentEntity=null,this.currentText="",this.entityMap=c,this.wrapper=null,this.contentBlocks=[]},t.addDOMNode=function(e){var t;return this.contentBlocks=[],this.currentDepth=0,(t=this.blockConfigs).push.apply(t,this._toBlockConfigs([e],b())),this._trimCurrentText(),""!==this.currentText&&this.blockConfigs.push(this._makeBlockConfig()),this},t.getContentBlocks=function(){return 0===this.contentBlocks.length&&(k?this._toContentBlocks(this.blockConfigs):this._toFlatContentBlocks(this.blockConfigs)),{contentBlocks:this.contentBlocks,entityMap:this.entityMap}},t._makeBlockConfig=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.key||p(),n=r({key:t,type:this.currentBlockType,text:this.currentText,characterList:this.characterList,depth:this.currentDepth,parent:null,children:y(),prevSibling:null,nextSibling:null,childConfigs:[]},e);return this.characterList=y(),this.currentBlockType="unstyled",this.currentText="",n},t._toBlockConfigs=function(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r],i=o.nodeName.toLowerCase();if("body"===i||W(i)){this._trimCurrentText(),""!==this.currentText&&n.push(this._makeBlockConfig());var a=this.currentDepth,l=this.wrapper;W(i)&&(this.wrapper=i,W(l)&&this.currentDepth++),n.push.apply(n,this._toBlockConfigs(Array.from(o.childNodes),t)),this.currentDepth=a,this.wrapper=l}else{var s=this.blockTypeMap.get(i);if(void 0===s)if("#text"!==i)if("br"!==i)if(V(o))this._addImgNode(o,t);else if(U(o))this._addAnchorNode(o,n,t);else{var u=t;L.has(i)&&(u=u.add(L.get(i))),u=H(o,u);var c=z(o);null!=c&&(u=u.add(c)),n.push.apply(n,this._toBlockConfigs(Array.from(o.childNodes),u))}else this._addBreakNode(o,t);else this._addTextNode(o,t);else{this._trimCurrentText(),""!==this.currentText&&n.push(this._makeBlockConfig());var f=this.currentDepth,d=this.wrapper;if(this.wrapper="pre"===i?"pre":this.wrapper,"string"!=typeof s&&(s=this.disambiguate(i,this.wrapper)||s[0]||"unstyled"),!k&&_(o)&&("unordered-list-item"===s||"ordered-list-item"===s)){var h=o;this.currentDepth=K(h,this.currentDepth)}var g=p(),v=this._toBlockConfigs(Array.from(o.childNodes),t);this._trimCurrentText(),n.push(this._makeBlockConfig({key:g,childConfigs:v,type:s})),this.currentDepth=f,this.wrapper=d}}}return n},t._appendText=function(e,t){var n;this.currentText+=e;var r=a.create({style:t,entity:this.currentEntity});this.characterList=(n=this.characterList).push.apply(n,Array(e.length).fill(r))},t._trimCurrentText=function(){var e=this.currentText.length,t=e-this.currentText.trimLeft().length,n=this.currentText.trimRight().length,r=this.characterList.findEntry(function(e){return null!==e.getEntity()});t=void 0!==r?Math.min(t,r[0]):t,r=this.characterList.reverse().findEntry(function(e){return null!==e.getEntity()}),n=void 0!==r?Math.max(n,e-r[0]):n,t>n?(this.currentText="",this.characterList=y()):(this.currentText=this.currentText.slice(t,n),this.characterList=this.characterList.slice(t,n))},t._addTextNode=function(e,t){var n=e.textContent,r=n.trim();""===r&&"pre"!==this.wrapper&&(n=" "),"pre"!==this.wrapper&&(n=n.replace(T,""),n=n.replace(D,C)),this._appendText(n,t)},t._addBreakNode=function(e,t){x(e)&&this._appendText("\n",t)},t._addImgNode=function(e,t){if(S(e)){var n=e,r={};R.forEach(function(e){var t=n.getAttribute(e);t&&(r[e]=t)}),this.currentEntity=this.entityMap.__create("IMAGE","IMMUTABLE",r),g("draftjs_fix_paste_for_img")?"presentation"!==n.getAttribute("role")&&this._appendText("📷",t):this._appendText("📷",t),this.currentEntity=null}},t._addAnchorNode=function(e,t,n){if(w(e)){var r=e,o={};A.forEach(function(e){var t=r.getAttribute(e);t&&(o[e]=t)}),o.url=new f(r.href).toString(),this.currentEntity=this.entityMap.__create("LINK","MUTABLE",o||{}),t.push.apply(t,this._toBlockConfigs(Array.from(e.childNodes),n)),this.currentEntity=null}},t._toContentBlocks=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.length-1,o=0;o<=n;o++){var i=e[o];i.parent=t,i.prevSibling=o>0?e[o-1].key:null,i.nextSibling=o<n?e[o+1].key:null,i.children=y(i.childConfigs.map(function(e){return e.key})),this.contentBlocks.push(new s(r({},i))),this._toContentBlocks(i.childConfigs,i.key)}},t._hoistContainersInBlockConfigs=function(e){var t=this,n=y(e).flatMap(function(e){return"unstyled"!==e.type||""!==e.text?[e]:t._hoistContainersInBlockConfigs(e.childConfigs)});return n},t._toFlatContentBlocks=function(e){var t=this,n=this._hoistContainersInBlockConfigs(e);n.forEach(function(e){var n=t._extractTextFromBlockConfigs(e.childConfigs),o=n.text,i=n.characterList;t.contentBlocks.push(new l(r({},e,{text:e.text+o,characterList:e.characterList.concat(i)})))})},t._extractTextFromBlockConfigs=function(e){for(var t=e.length-1,n="",r=y(),o=0;o<=t;o++){var i=e[o];n+=i.text,r=r.concat(i.characterList),""!==n&&"unstyled"!==i.type&&(n+="\n",r=r.push(r.last()));var a=this._extractTextFromBlockConfigs(i.childConfigs);n+=a.text,r=r.concat(a.characterList)}return{text:n,characterList:r}},e}(),Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;e=e.trim().replace(O,"").replace(N,C).replace(M,"").replace(I,"");var r=t(e);if(!r)return null;var o=j(n),i=function(e,t){return"li"===e?"ol"===t?"ordered-list-item":"unordered-list-item":null};return new q(o,i).addDOMNode(r).getContentBlocks()};e.exports=Y},function(e,t){"use strict";function n(e){return null!=e&&""!=e}e.exports={notEmptyKey:n}},function(e,t,n){"use strict";function r(e){if(e._blockSelectEvents||e._latestEditorState!==e.props.editorState){if(e._blockSelectEvents){var t=e.props.editorState,n=t.getSelection();o.logBlockedSelectionEvent({anonymizedDom:"N/A",extraParams:JSON.stringify({stacktrace:(new Error).stack}),selectionState:JSON.stringify(n.toJS())})}}else{var r=e.props.editorState,s=l(r,a(e)),u=s.selectionState;u!==r.getSelection()&&(r=s.needsRecovery?i.forceSelection(r,u):i.acceptSelection(r,u),e.update(r))}}var o=n(59),i=n(6),a=n(66),l=n(68);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.editorContainer;t?void 0:o(!1),i(t.firstChild)?void 0:o(!1);var n=t.firstChild;return n}var o=n(3),i=n(23);e.exports=r},function(e,t,n){"use strict";function r(e){return f&&e.altKey||h(e)}function o(e){return p(e)?e.shiftKey?"redo":"undo":null}function i(e){return!f&&e.shiftKey?null:r(e)?"delete-word":"delete"}function a(e){return p(e)&&f?"backspace-to-start-of-line":r(e)?"backspace-word":"backspace"}function l(e){switch(e.keyCode){case 66:return p(e)?"bold":null;case 68:return h(e)?"delete":null;case 72:return h(e)?"backspace":null;case 73:return p(e)?"italic":null;case 74:return p(e)?"code":null;case 75:return f&&h(e)?"secondary-cut":null;case 77:return h(e)?"split-block":null;case 79:return h(e)?"split-block":null;case 84:return f&&h(e)?"transpose-characters":null;case 85:return p(e)?"underline":null;case 87:return f&&h(e)?"backspace-word":null;case 89:return h(e)?f?"secondary-paste":"redo":null;case 90:return o(e)||null;case u.RETURN:return"split-block";case u.DELETE:return i(e);case u.BACKSPACE:return a(e);case u.LEFT:return d&&p(e)?"move-selection-to-start-of-block":null;case u.RIGHT:return d&&p(e)?"move-selection-to-end-of-block":null;default:return null}}var s=n(42),u=n(31),c=n(8),f=c.isPlatform("Mac OS X"),d=f&&c.isBrowser("Firefox < 29"),p=s.hasCommandModifier,h=s.isCtrlKeyCommand;e.exports=l},function(e,t,n){"use strict";function r(e,t){var n=t.ownerDocument.defaultView.getSelection(),r=n.anchorNode,i=n.anchorOffset,a=n.focusNode,l=n.focusOffset,s=n.rangeCount;return 0===s||null==r||null==a?{selectionState:e.getSelection().set("hasFocus",!1),needsRecovery:!1}:o(e,t,r,i,a,l)}var o=n(69);e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r,o,i){var l=n.nodeType===Node.TEXT_NODE,u=o.nodeType===Node.TEXT_NODE;if(l&&u)return{selectionState:c(e,p(s(n)),r,p(s(o)),i),needsRecovery:!1};var f=null,d=null,h=!0;return l?(f={key:p(s(n)),offset:r},d=a(t,o,i)):u?(d={key:p(s(o)),offset:i},f=a(t,n,r)):(f=a(t,n,r),d=a(t,o,i),n===o&&r===i&&(h=!!n.firstChild&&"BR"!==n.firstChild.nodeName)),{selectionState:c(e,f.key,f.offset,d.key,d.offset),needsRecovery:h}}function o(e){for(;e.firstChild&&(d(e.firstChild)&&"true"===e.firstChild.getAttribute("data-blocks")||u(e.firstChild));)e=e.firstChild;return e}function i(e){for(;e.lastChild&&(d(e.lastChild)&&"true"===e.lastChild.getAttribute("data-blocks")||u(e.lastChild));)e=e.lastChild;return e}function a(e,t,n){var r=t,a=s(r);if(null!=a||e&&(e===r||e.firstChild===r)?void 0:f(!1),e===r){r=r.firstChild,d(r)?void 0:f(!1);var c=r;r=c,"true"!==r.getAttribute("data-contents")?f(!1):void 0,n>0&&(n=r.childNodes.length)}if(0===n){var h=null;if(null!=a)h=a;else{var g=o(r);h=p(u(g))}return{key:h,offset:0}}var v=r.childNodes[n-1],y=null,m=null;if(u(v)){var b=i(v);y=p(u(b)),m=l(b)}else y=p(a),m=l(v);return{key:y,offset:m}}function l(e){var t=e.textContent;return"\n"===t?0:t.length}var s=n(27),u=n(75),c=n(77),f=n(3),d=n(18),p=n(9);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.getSelection();return t.isCollapsed()?null:o(e.getCurrentContent(),t)}var o=n(28);e.exports=r},function(e,t,n){"use strict";var r=n(11),o=function(e,t){var n=e instanceof r;if(!n)return null;var o=e.getNextSiblingKey();if(o)return o;var i=e.getParentKey();if(!i)return null;for(var a=t.get(i);a&&!a.getNextSiblingKey();){var l=a.getParentKey();a=l?t.get(l):null}return a?a.getNextSiblingKey():null};e.exports=o},function(e,t){"use strict";function n(e){return Object.keys(e).map(function(t){return e[t]})}e.exports=n},function(e,t,n){"use strict";function r(e){for(var t=e.cloneRange(),n=[],r=e.endContainer;null!=r;r=r.parentNode){var o=r===e.commonAncestorContainer;o?t.setStart(e.startContainer,e.startOffset):t.setStart(t.endContainer,0);var a=Array.from(t.getClientRects());if(n.push(a),o){var l;return n.reverse(),(l=[]).concat.apply(l,n)}t.setEndBefore(r)}i(!1)}var o=n(8),i=n(3),a=o.isBrowser("Chrome"),l=a?r:function(e){return Array.from(e.getClientRects())};e.exports=l},function(e,t,n){"use strict";function r(e){var t,n=null;return!a&&document.implementation&&document.implementation.createHTMLDocument&&(t=document.implementation.createHTMLDocument("foo"),t.documentElement?void 0:i(!1),t.documentElement.innerHTML=e,n=t.getElementsByTagName("body")[0]),n}var o=n(8),i=n(3),a=o.isBrowser("IE <= 9");e.exports=r},function(e,t,n){"use strict";function r(e){if(o(e)){var t=e,n=t.getAttribute("data-offset-key");if(n)return n;for(var i=0;i<t.childNodes.length;i++){var a=r(t.childNodes[i]);if(a)return a}}return null}var o=n(18);e.exports=r},function(e,t,n){(function(t){"use strict";function r(e,t){var n=0,r=[];e.forEach(function(i){o(i,function(o){n++,o&&r.push(o.slice(0,s)),n==e.length&&t(r.join("\r"))})})}function o(e,n){if(!t.FileReader||e.type&&!(e.type in l))return void n("");if(""===e.type){var r="";return a.test(e.name)&&(r=e.name.replace(a,"")),void n(r)}var o=new FileReader;o.onload=function(){var e=o.result;"string"!=typeof e?i(!1):void 0,n(e)},o.onerror=function(){n("")},o.readAsText(e)}var i=n(3),a=/\.textClipping$/,l={"text/plain":!0,"text/html":!0,"text/rtf":!0},s=5e3;e.exports=r}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e,t,n,r,a){var l=i(e.getSelection());if(!t||!r)return l;var s=o.decode(t),u=s.blockKey,c=e.getBlockTree(u),f=c&&c.getIn([s.decoratorKey,"leaves",s.leafKey]),d=o.decode(r),p=d.blockKey,h=e.getBlockTree(p),g=h&&h.getIn([d.decoratorKey,"leaves",d.leafKey]);if(!f||!g)return l;var v=f.get("start"),y=g.get("start"),m=f?v+n:null,b=g?y+a:null,w=l.getAnchorKey()===u&&l.getAnchorOffset()===m&&l.getFocusKey()===p&&l.getFocusOffset()===b;if(w)return l;var x=!1;if(u===p){var _=f.get("end"),S=g.get("end");x=y===v&&S===_?a<n:y<v}else{var k=e.getCurrentContent().getBlockMap().keySeq().skipUntil(function(e){return e===u||e===p}).first();x=k===p}return l.merge({anchorKey:u,anchorOffset:m,focusKey:p,focusOffset:b,isBackward:x})}var o=n(13),i=n(9);e.exports=r},function(e,t){"use strict";function n(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window}e.exports=n},function(e,t){"use strict";function n(e,t,n){var r=e;if(n===r.count())t.forEach(function(e){r=r.push(e)});else if(0===n)t.reverse().forEach(function(e){r=r.unshift(e)});else{var o=r.slice(0,n),i=r.slice(n);r=o.concat(t,i).toList()}return r}e.exports=n},function(e,t,n){"use strict";function r(e){return!(!e||!e.ownerDocument)&&(o(e)&&"BR"===e.nodeName)}var o=n(18);e.exports=r},function(e,t,n){"use strict";function r(e){var t=l(e,function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),o=t.getAnchorOffset(),l=n.getBlockForKey(r).getText()[o-1];return a(e,l?i.getUTF16Length(l,0):1)},"backward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return o.push(e,t.set("selectionBefore",n),n.isCollapsed()?"backspace-character":"remove-range")}var o=n(6),i=n(19),a=n(44),l=n(24);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r=t.getStartKey(),o=t.getEndKey(),a=e.getBlockMap(),l=a.toSeq().skipUntil(function(e,t){return t===r}).takeUntil(function(e,t){return t===o}).concat(i([[o,a.get(o)]])).map(n);return e.merge({blockMap:a.merge(l),selectionBefore:t,selectionAfter:t})}var o=n(2),i=o.Map;e.exports=r},function(e,t,n){"use strict";function r(e,t){var n,r=e.getSelection(),o=r.getStartKey(),i=r.getStartOffset(),a=e.getCurrentContent(),l=o,s=a.getBlockForKey(o);return t>s.getText().length-i?(l=a.getKeyAfter(o),n=0):n=i+t,r.merge({focusKey:l,focusOffset:n})}n(48);e.exports=r},function(e,t,n){"use strict";var r=n(11),o=n(12),i=n(2),a=i.OrderedMap,l=function(e){var t,n={};return a(e.withMutations(function(e){e.forEach(function(r,i){var a=r.getKey(),l=r.getNextSiblingKey(),s=r.getPrevSiblingKey(),u=r.getChildKeys(),c=r.getParentKey(),f=o();if(n[a]=f,l){var d=e.get(l);d?e.setIn([l,"prevSibling"],f):e.setIn([a,"nextSibling"],null)}if(s){var p=e.get(s);p?e.setIn([s,"nextSibling"],f):e.setIn([a,"prevSibling"],null)}if(c&&e.get(c)){var h=e.get(c),g=h.getChildKeys();e.setIn([c,"children"],g.set(g.indexOf(r.getKey()),f))}else e.setIn([a,"parent"],null),t&&(e.setIn([t.getKey(),"nextSibling"],f),e.setIn([a,"prevSibling"],n[t.getKey()])),t=e.get(a);u.forEach(function(t){var n=e.get(t);n?e.setIn([t,"parent"],f):e.setIn([a,"children"],r.getChildKeys().filter(function(e){return e!==t}))})})}).toArray().map(function(e){return[n[e.getKey()],e.set("key",n[e.getKey()])]}))},s=function(e){return a(e.toArray().map(function(e){var t=o();return[t,e.set("key",t)]}))},u=function(e){var t=e.first()instanceof r;return t?l(e):s(e)};e.exports=u},function(e,t,n){"use strict";function r(e,t){var n=e.getBlockMap(),r=e.getEntityMap(),o={},a=t.getStartKey(),l=t.getStartOffset(),s=n.get(a),u=i(r,s,l);u!==s&&(o[a]=u);var c=t.getEndKey(),f=t.getEndOffset(),d=n.get(c);a===c&&(d=u);var p=i(r,d,f);return p!==d&&(o[c]=p),Object.keys(o).length?e.merge({blockMap:n.merge(o),selectionAfter:t}):e.set("selectionAfter",t)}function o(e,t,n){var r;return l(e,function(e,t){return e.getEntity()===t.getEntity()},function(e){return e.getEntity()===t},function(e,t){e<=n&&t>=n&&(r={start:e,end:t})}),"object"!=typeof r?s(!1):void 0,r}function i(e,t,n){var r=t.getCharacterList(),i=n>0?r.get(n-1):void 0,l=n<r.count()?r.get(n):void 0,s=i?i.getEntity():void 0,u=l?l.getEntity():void 0;if(u&&u===s){var c=e.__get(u);if("MUTABLE"!==c.getMutability()){for(var f,d=o(r,u,n),p=d.start,h=d.end;p<h;)f=r.get(p),r=r.set(p,a.applyEntity(f,null)),p++;return t.set("characterList",r)}}return t}var a=n(10),l=n(22),s=n(3);e.exports=r},function(e,t){"use strict";function n(e){return e.replace(r,"")}var r=new RegExp("\r","g");e.exports=n},function(e,t,n){"use strict";function r(e){if("file"==e.kind)return e.getAsFile()}var o=n(206),i=n(213),a=n(88),l=new RegExp("\r\n","g"),s="\n",u={"text/rtf":1,"text/html":1},c=function(){function e(e){this.data=e,this.types=e.types?i(e.types):[]}var t=e.prototype;return t.isRichText=function(){return!(!this.getHTML()||!this.getText())||!this.isImage()&&this.types.some(function(e){return u[e]})},t.getText=function(){var e;return this.data.getData&&(this.types.length?this.types.indexOf("text/plain")!=-1&&(e=this.data.getData("text/plain")):e=this.data.getData("Text")),e?e.replace(l,s):null},t.getHTML=function(){if(this.data.getData){if(!this.types.length)return this.data.getData("Text");if(this.types.indexOf("text/html")!=-1)return this.data.getData("text/html")}},t.isLink=function(){return this.types.some(function(e){return e.indexOf("Url")!=-1||e.indexOf("text/uri-list")!=-1||e.indexOf("text/x-moz-url")})},t.getLink=function(){if(this.data.getData){if(this.types.indexOf("text/x-moz-url")!=-1){var e=this.data.getData("text/x-moz-url").split("\n");return e[0]}return this.types.indexOf("text/uri-list")!=-1?this.data.getData("text/uri-list"):this.data.getData("url")}return null},t.isImage=function e(){var e=this.types.some(function(e){return e.indexOf("application/x-moz-file")!=-1});if(e)return!0;for(var t=this.getFiles(),n=0;n<t.length;n++){var r=t[n].type;if(!o.isImage(r))return!1}return!0},t.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},t.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(r).filter(a.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},t.hasFiles=function(){return this.getFiles().length>0},e}();e.exports=c},function(e,t){"use strict";function n(e){return function(){return e}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t){"use strict";function n(e){if(e=e||("undefined"!=typeof document?document:void 0),"undefined"==typeof e)return null;try{return e.activeElement||e.body}catch(t){return e.body}}e.exports=n},function(e,t,n){"use strict";function r(e){var t=o(e);return{x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top}}var o=n(215);e.exports=r},function(e,t){"use strict";function n(){var e;return document.documentElement&&(e=document.documentElement.clientWidth),!e&&document.body&&(e=document.body.clientWidth),e||0}function r(){var e;return document.documentElement&&(e=document.documentElement.clientHeight),!e&&document.body&&(e=document.body.clientHeight),e||0}function o(){return{width:window.innerWidth||n(),height:window.innerHeight||r()}}o.withoutScrollbars=function(){return{width:n(),height:r()}},e.exports=o},function(e,t,n){"use strict";function r(){}function o(e){try{return e.then}catch(e){return y=e,m}}function i(e,t){try{return e(t)}catch(e){return y=e,m}}function a(e,t,n){try{e(t,n)}catch(e){return y=e,m}}function l(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._45=0,this._81=0,this._65=null,this._54=null,e!==r&&g(e,this)}function s(e,t,n){return new e.constructor(function(o,i){var a=new l(r);a.then(o,i),u(e,new h(t,n,a))})}function u(e,t){for(;3===e._81;)e=e._65;return l._10&&l._10(e),0===e._81?0===e._45?(e._45=1,void(e._54=t)):1===e._45?(e._45=2,void(e._54=[e._54,t])):void e._54.push(t):void c(e,t)}function c(e,t){v(function(){var n=1===e._81?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._81?f(t.promise,e._65):d(t.promise,e._65));var r=i(n,e._65);r===m?d(t.promise,y):f(t.promise,r)})}function f(e,t){if(t===e)return d(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var n=o(t);if(n===m)return d(e,y);if(n===e.then&&t instanceof l)return e._81=3,e._65=t,void p(e);if("function"==typeof n)return void g(n.bind(t),e)}e._81=1,e._65=t,p(e)}function d(e,t){e._81=2,e._65=t,l._97&&l._97(e,t),p(e)}function p(e){if(1===e._45&&(u(e,e._54),e._54=null),2===e._45){for(var t=0;t<e._54.length;t++)u(e,e._54[t]);e._54=null}}function h(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function g(e,t){var n=!1,r=a(e,function(e){n||(n=!0,f(t,e))},function(e){n||(n=!0,d(t,e))});n||r!==m||(n=!0,d(t,y))}var v=n(93),y=null,m={};e.exports=l,l._10=null,l._97=null,l._61=r,l.prototype.then=function(e,t){if(this.constructor!==l)return s(this,e,t);var n=new l(r);return u(this,new h(e,t,n)),n}},function(e,t){(function(t){"use strict";function n(e){l.length||(a(),s=!0),l[l.length]=e}function r(){for(;u<l.length;){var e=u;if(u+=1,l[e].call(),u>c){for(var t=0,n=l.length-u;t<n;t++)l[t]=l[t+u];l.length-=u,u=0}}l.length=0,u=0,s=!1}function o(e){var t=1,n=new d(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}function i(e){return function(){function t(){clearTimeout(n),clearInterval(r),e()}var n=setTimeout(t,0),r=setInterval(t,50)}}e.exports=n;var a,l=[],s=!1,u=0,c=1024,f="undefined"!=typeof t?t:self,d=f.MutationObserver||f.WebKitMutationObserver;a="function"==typeof d?o(r):i(r),n.requestFlush=a,n.makeRequestCallFromTimer=i}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),s=r(l),u=n(5),c=r(u),f=n(4),d=r(f),p=n(35),h=r(p),g=n(96),v=r(g),y=50,m=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return b.call(n),(0,c.default)(n),n.frameStyle=Object.assign({},n.props.frameStyle,{position:"fixed"}),n.docProps=n.props.docProps||{},n.minimized=n.pont=n.props.pont,n.title=n.props.title,n.pageName=n.props.pageName,n.owner=n.props.owner,n.x1=n.y1=0,n}return a(t,e),t}(s.default.Component),b=function(){var e=this;this.componentDidMount=function(){e.props.resize&&(e.rsAvatar=e.owner.mainDoc.sovaPagesByName.rsAvatar,e.rsAvatar&&(e.busy=!0,setTimeout(function(){e.busy=!1,e.forceUpdate()},500)))},this.UNSAFE_componentWillUpdate=function(){if(e.rsAvatar&&!e.busy&&!e.minimized&&e.owner.zIndex===e.pageName){var t=e.frameStyle,n=t.top,r=t.left,o=t.width,i=t.height;n+=i-10,r+=o-10,e.rsAvatar.frameStyle={top:n,left:r,display:"block"},e.rsAvatar.linkedRedraw=e.changeSize.bind(e),e.rsAvatar.forceUpdate()}},this.changeSize=function(t){var n=t.clientX-e.rsAvatar.x0,r=t.clientY-e.rsAvatar.y0;e.frameStyle.width+n>230&&(e.frameStyle.width+=n),e.frameStyle.height+r>100&&(e.frameStyle.height+=r),e.rsAvatar.x0=t.clientX,e.rsAvatar.y0=t.clientY,e.forceUpdate()},this.onblur=function(t){return d.default.runCmd(e.owner,"pageBlur",e.pageName,t)},this.closeDoc=function(){e.props.show&&e.props.show.cmCancel&&e.props.show.cmCancel(),e.closePage()},this.closePage=function(t){t&&(t.stopPropagation(),t.preventDefault(),e.props.show&&e.props.show.cmCancel&&e.props.show.cmCancel());var n=e.owner,r=e.pageName;if(e.props.hide)return e.frameStyle.display="none",e.forceUpdate(),void d.default.runCmd(n,"pageHide",r);e.doc&&d.default.runCmd(e.doc,"clsPage",r),d.default.runCmd(n,"clsPage",r);var o=n.zIndexArr.length;if(n.zIndexArr.splice(n.zIndexArr.indexOf(r),1),delete n.sovaPagesByName[r],o=n.zIndexArr.length,n.zIndex=o?n.zIndexArr[o-1]:"",n.sovaPages.splice(e.props.zi,1),n.sovaPagesRef.splice(e.props.zi,1),o&&n.sovaPagesByName[n.zIndex].doc)setTimeout(function(e){return d.default.setFocus(n.sovaPagesByName[n.zIndex].doc,"*")},100);else{var i=e.props.focus2||"*";setTimeout(function(e){return d.default.setFocus(n,i)},100)}n.forceUpdate()},this.maxPage=function(t,n){t.stopPropagation(),t.preventDefault();var r=e.doc,o="info"===r.props.form?"edit":"read",i=e.props.iframeUrl||r.sova&&r.sova.maxPage&&r.sova.maxPage(r)||"opendoc?dbAlias="+r.dbAlias+"&unid="+r.unid+"&mode="+o+"&form="+r.props.form;d.default.xopen(i)},this.minPage=function(t){t.stopPropagation(),t.preventDefault(),e.minimized=!0,e.rsAvatar&&(e.rsAvatar.frameStyle.display="none",e.rsAvatar.forceUpdate()),e.owner.forceUpdate()},this.printPage=function(t,n){t.stopPropagation(),t.preventDefault(),e.doc.iframe&&e.doc.iframe.contentWindow.print()},this.dragOrRestore=function(t){if(!t||(t.stopPropagation(),t.preventDefault(),"_dragOrRestore_"===t.target.getAttribute("name"))){var n=e.owner,r=e.pageName;n.zIndexArr.at(-1)!==r&&(n.zIndexArr.includes(r)&&n.zIndexArr.splice(n.zIndexArr.indexOf(r),1),n.zIndexArr.push(r)),n.zIndex=r,e.minimized?(e.frameStyle.transition="all 500ms ease",e.minimized=!1,e.props.resize&&(setTimeout(function(){var t=e.frameStyle,n=t.top,r=t.left,o=t.width,i=t.height;n+=i-10,r+=o-10,e.rsAvatar.frameStyle={top:n,left:r,display:"block"},e.rsAvatar.forceUpdate(),e.rsAvatar.linkedRedraw=e.changeSize.bind(e),e.busy=!1},500),e.busy=!0),setTimeout(function(){e.frameStyle.transition&&delete e.frameStyle.transition},500)):(e.x1=t.clientX,e.y1=t.clientY,n.dragStart=r),n.forceUpdate()}},this.addDoc=function(t){t&&(e.doc=t,e.doc.page=e)},this.redraw=function(t,n){e.linkedRedraw&&e.linkedRedraw(t,n),e.forceUpdate()},this.render=function(){if(e.props.avatar)return s.default.createElement("div",Object.assign({},d.default._on_(e.props),{className:e.props.className,style:Object.assign({},e.frameStyle),tabIndex:"1"}));var t=void 0,n=void 0,r=void 0,o=void 0,i=void 0,a=void 0,l=void 0,u=void 0,c="pageFrame";if(e.minimized)a={width:100,height:25,zIndex:1e4,transition:"all 0.5s ease"},e.pont?(e.frameStyle.top+=y,a.top=e.frameStyle.top,a.left=e.frameStyle.left,a.width=a.height=1,e.minimized=e.pont=!1):"rightTop"===e.props.smallCls?(a.top=y,a.right=0):"leftTop"===e.props.smallCls?(a.top=y,a.left=0):(a.top="calc(100vh - 25px)",a.left=105*e.props.zi),setTimeout(function(t){e.frameStyle.transition&&delete e.frameStyle.transition},1e3);else{l=e.owner.dragStart===e.pageName,u=e.owner.zIndex===e.pageName?999:e.owner.zIndexArr.indexOf(e.pageName)+700,
a=Object.assign({},e.frameStyle),r=e.props.max?s.default.createElement("div",{className:"dlgMaxButton",title:"Открыть в новой вкладке",onClick:e.maxPage},"▲"):null,o=e.props.min?s.default.createElement("div",{className:"dlgMinButton",title:"Сложить",onClick:e.minPage},"_"):null,i=e.props.print?s.default.createElement("div",{className:"dlgPrintButton",title:"Print",onClick:e.printPage},"Печать"):null;var f=r||o||i?" dlgClsR":"",p=e.props.hide?"Скрыть":e.props.smallCls?"Закрыть (Esc)":"Esc";n=e.props.smallCls?s.default.createElement("div",{className:"dlgCloseButton"+f,title:p,onClick:e.closePage},"×"):s.default.createElement("div",{className:"dlgCloseButtonBig"+f,title:p,onClick:e.closePage},"Закрыть ×"),isNaN(a.left)&&delete a.left}e.props.withoutHat?c="":t=s.default.createElement("div",{className:"dlgTitleBar",name:"_dragOrRestore_",style:{cursor:e.minimized?"pointer":"move"},onMouseDown:e.dragOrRestore},e.title||"Multi-page",n," ",r," ",o," ",i);var g=Object.assign({},e.props,e.docProps);delete g.key;var m=s.default.createElement("div",{className:"pageMain",style:{z_Index:u}},s.default.createElement("div",{className:c,style:Object.assign({},a,{position:"absolute"}),onBlur:e.onblur},t,"MsgBox"===e.pageName?s.default.createElement(v.default,{show:e.props.show,doc:e.owner,ref:e.addDoc}):s.default.createElement(h.default,Object.assign({key:e.docProps.unid},g,{closeDoc:e.closeDoc,ref:e.addDoc})),s.default.createElement("div",{className:"move",style:{display:l?"block":"none"}})));return e.props.modal?s.default.createElement("div",{className:"modal"},m):m}};t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=n(1),u=r(s),c=n(5),f=r(c),d=n(4),p=r(d),h=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onclick=function(e,t,r,o){n.onblur(e),n.callBack(t,r,n.callBackParam,o)},n.onblur=function(e){e.stopPropagation(),e.preventDefault(),n.setState({isOpen:!1})},n.show=function(e,t,r,o,i){if(t){var a=i||200,s=25*t.length+5,c=[e.clientX,e.clientY],f=c[0],d=c[1],h=window.document.getElementById("root"),g=[h.offsetHeight,h.offsetWidth],v=g[0],y=g[1];d=v-d>s?d:d-s,f=y-f>a+40?f:f-a,n.ctxStyle={top:d,left:f,height:s,width:a},n.callBack=r,n.callBackParam=o,n.items=t.map(function(e,t){var r=p.default.partition(e,"|"),o=l(r,2),i=o[0],a=o[1],s=t;return u.default.createElement("div",{key:s,onClick:function(e){return n.onclick(e,i,a,s)}},i)}),n.setState({isOpen:!0}),setTimeout(function(){return n.state.isOpen&&n.dom.current.focus()},100)}},n.render=function(){return n.state.isOpen?u.default.createElement("div",{tabIndex:"1",ref:n.dom,className:"contextMenu",style:n.ctxStyle,onBlur:n.onblur},n.items):null},(0,f.default)(n),n.state={isOpen:!1},n.items=[],n.dom=u.default.createRef(),n}return a(t,e),t}(u.default.Component);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=n(1),u=r(s),c=n(5),f=r(c),d=n(50),p=r(d),h=n(4),g=r(h),v=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.show=function(e){n.wh=Object.assign({},n.props.show.wh,{display:"inline-block"}),n.cmCancel=function(){e.cmCancel&&e.cmCancel(),n.page.closePage()},n.cmButton=function(t){e.cmButton(t),n.page.closePage()},n.info=e.info,n.multi=e.multi,n.checked=e.checked||[],n.result="",n.small=e.small,n.dlgInput=e.small?"1"===e.small?"dlgInput1":"dlgInput2":"dlgInput",n.sep=e.sep||"|",n.text=e.text,n.mainSel=-1,n.items=[],e.items.forEach(function(e,t){var r=g.default.partition(e,n.sep),o=l(r,2),i=o[0],a=o[1];n.items[t]={ref:null,label:i,opt:a}}),n.setFilter(n.text),n.focusBt=null,n.buttons=(e.buttons||["OK+|1"]).map(function(e,t){var r=e.includes("+"),o=e.replace(/\+/g,"").split("|");return r&&(n.result=o[1]||""),u.default.createElement("button",{key:t,tabIndex:"1",style:"2"===n.small?{width:65,margin:7}:{width:105,marginBottom:10},onClick:function(){return n.btnClick(o[1])},onFocus:function(e){return n.result=o[1]||""},onBlur:function(e){return n.result=""},ref:function(e){r&&(n.focusBt=e)}},o[0])})},n.componentDidMount=function(){n.input&&n.text&&(n.input.value=n.text),setTimeout(function(e){return n.input&&n.input.focus()},50)},n.btnClick=function(e){if(e&&n.cmButton)if(n.items.length)if(n.multi){var t=n.checked.filter(function(e){return void 0!==e});t=t.map(function(e){return n.items[e].label+(n.items[e].opt?n.sep+n.items[e].opt:"")}),n.cmButton(t.join("\n"))}else{var r=n.items[n.mainSel].opt?n.sep+n.items[n.mainSel].opt:"";n.cmButton(n.items[n.mainSel].label+r)}else n.cmButton("");else!e&&n.cmCancel()},n.onkeydown=function(e){if(!e.ctrlKey){if(13===e.keyCode||27===e.keyCode)return n.btnClick(13===e.keyCode?n.result:null),e.stopPropagation(),void e.preventDefault();var t=0;switch(e.keyCode){case 32:return n.toggle(n.mainSel,e);case 38:n.state.sel&&(t=n.state.sel-1);break;case 40:t=Math.min(n.last,n.state.sel+1);break;case 33:t=Math.max(0,n.state.sel-10);break;case 34:t=Math.min(n.last,n.state.sel+10);break;case 36:if(e.ctrlKey)break;return;case 35:if(e.ctrlKey){t=n.last;break}return;case 9:t=n.state.sel;break;default:if(!e.ctrlKey&&!e.altKey)return}e.stopPropagation(),e.preventDefault();var r=n.filtered&&n.filtered[t]?n.filtered[t].ref.props.index:t;n.items[r]&&n.items[r].ref&&n.items[r].ref.getDom().focus(),n.setState({sel:t}),setTimeout(function(e){return n.input&&n.input.focus()},50)}},n.onchange=function(e){n.text=e.target.value,n.setFilter(n.text),n.setState({sel:0})},n.setFilter=function(e){if(n.filtered=null,e){var t=" («\"'-",r=e.toLowerCase();n.filtered=n.items.filter(function(e){var n=!0,o=!1,i=void 0;try{for(var a,l=t[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var s=a.value;if((s+e.label).toLowerCase().includes(s+r))return!0}}catch(e){o=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return!1})}},n.onclick=function(e){n.setState({sel:e}),setTimeout(function(e){return n.input&&n.input.focus()},50)},n.toggle=function(e,t){if(n.multi){n.filtered=null,n.input.value="",n.text="";var r=n.checked.indexOf(e);r>=0?delete n.checked[r]:n.checked.push(e),n.setState({sel:e}),setTimeout(function(e){return n.input.focus()},100)}t.stopPropagation(),t.preventDefault()},n.render=function(){n.last=-1,n.mainSel=1;var e=n.items.map(function(e,t){return n.filtered&&n.filtered.indexOf(n.items[t])<0?null:(n.last+=1,n.state.sel===n.last&&(n.mainSel=t),u.default.createElement(p.default,{key:""+(n.input&&n.input.value||"")+t,index:t,iShow:n.last,items:n.items,multi:n.multi,onclick:n.onclick,ondoubleclick:n.btnClick,toggle:n.toggle,sel:n.state.sel===n.last,ref:function(e){n.items&&(n.items[t].ref=e)},check:n.checked.includes(t),info:n.info,doc:n.props.doc}))});e=e.filter(function(e){return e});var t=u.default.createElement("div",{style:{width:600,padding:4,color:"#004080",font:"bold 9pt Arial"}},"Поиск",u.default.createElement("br",null),u.default.createElement("input",{className:n.dlgInput,ref:function(e){return n.input=e},onKeyDown:n.onkeydown,onChange:n.onchange})),r=null,o=null,i=void 0;return n.small?(o=u.default.createElement("div",{style:{textAlign:"center",margin:"auto"}},n.buttons),i="block"):(r=u.default.createElement("div",{className:"dlgButtons",style:{height:n.wh.height}},u.default.createElement("br",null),n.buttons),i="table-cell"),u.default.createElement("div",{onKeyDown:n.onkeydown,tabIndex:"1",ref:n.mainDiv},u.default.createElement("div",{style:{display:"block",width:"100%",height:n.wh.height+5,overflow:"hidden"}},u.default.createElement("div",{className:"dlgList",style:Object.assign({},n.wh,{display:i})},u.default.createElement("div",{className:"dlg-List",style:Object.assign({},n.wh,{display:"block"})},e)),r),t,o)},(0,f.default)(n),n.input=null,n.register={},n.mainDiv=u.default.createRef(),n.show(n.props.show),n.state={sel:n.checked[0]||0},n}return a(t,e),t}(u.default.Component);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),s=r(l),u=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getDom=function(){return n.dom.current},n.render=function(e){var t={display:"table",width:"100%",tableLayout:"fixed",padding:2};return n.props.index%2&&!n.props.evenColor&&!n.state.sel&&(t.background="#f4f8ff"),s.default.createElement("div",{className:n.state.sel?"viewItemSel":"viewItem",ref:n.dom,tabIndex:"0",onClick:function(e){return n.props.toggle(n.props.index,e)},style:t},n.props.row)},n.state={sel:n.props.sel},n.dom=s.default.createRef(),n}return a(t,e),t}(s.default.Component);t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=n(1),u=r(s),c=n(5),f=r(c),d=n(4),p=r(d),h=n(100),g=r(h),v=n(37),y=n(52),m=n(101),b=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(w.call(n),(0,f.default)(n),n.cellsBoxes=[],n.floatBoxes=[],n.cells=n.props.cells||[],n.boxes=n.props.boxes||[],n.className=n.props.className,n.state={},n.props.xName)n.doc=n.props.doc,n.doc.pageBox=n,n.boxIndex=0,n.styleElement=document.createElement("style"),document.head.appendChild(n.styleElement),n.setValue(n.props.xValue);else if(n.parentBox=n.props.parentBox,n.doc=n.parentBox.doc,n.zIndex=1,n.tuning=n.props.tuning||{},n.tuning.boxContent=n.tuning.boxContent||0,n.type=n.props.type,n.column=n.props.column,n.row=n.props.row,n.floating=!(n.props.row||n.props.column),n.getFloat=n.floating&&n||n.parentBox.getFloat,n.rect=n.props.rect,n.pc_key=n.props.pc_key,n.name=n.props.name,n.content=n.props.content,n.rtfKey=0,[100,200,300,400,500,600,700].includes(n.props.boxIndex))n.rect.left=n.rect.top=0,"preview"===n.doc.rsMode&&(n.rect.width=n.rect.height=0),n.boxIndex=n.props.boxIndex,n.clip=new g.default(n),n.parentBox=null,n.rootBox=n,n.doc.pageBox.tuning.screen===n.boxIndex&&(n.doc.rootBox=n),n.nextIndex=10*n.boxIndex+1;else if(n.rootBox=n.parentBox.rootBox,n.boxIndex=n.props.boxIndex||n.rootBox.nextIndex++,n.clip=n.parentBox.clip,n.parent3d=n.parentBox.parent3d,n.parent3d?n.tuning.m3key=n.tuning.m3key||"m3empty":n.tuning.mmm&&("m3table"===n.tuning.mmm&&(n.className=n.props.className||"m3table is3d"),n.rebuild="init"),!n.floating&&n.parentBox.parent3T&&(n.parent3T=n.parentBox.parent3T),1e3===n.boxIndex&&n.tuning.k1000&&"preview"!==n.doc.rsMode){var r=p.default.getRect("root",100,100);n.rect.left=5,n.rect.top=5,n.rect.width=r.width-335,n.rect.height=r.height-65}n.settingIconRT=n.settingIcon3("fbi-parent","props rt","выделить блок"),n.settingIconLD=n.settingIcon3("fbi-parent","props ld","выделить блок"),n.settingIcon=n.settingIcon3("cmd-setting","props top","показать свойства блока"),n.settingIconEdit=n.settingIcon3("cmd-exitEdit","top2","выйти из редактирования");var a=p.default.partition(n.name,"_"),s=l(a,2);n.tabPref=s[0],n.tabNo=s[1];var c="TABLEHEADER"===n.tabPref&&n.tabNo?n.name:null;return n.glass=n.doc.readOnly?u.default.createElement("div",{className:"fill",name:c,style:{zIndex:1},id:"c-9"}):u.default.createElement("div",{className:"fill",name:c,style:{zIndex:1},onDoubleClick:n.dblCl,id:"c-9",onContextMenu:n.contextMenu}),n.mouse={onMouseMove:n.mouseMove,onTouchMove:n.mouseMove,onMouseDown:n.mouseDown,onTouchStart:n.mouseDown,onMouseUp:n.mouseUp,onTouchEnd:n.mouseUp,onMouseLeave:n.mouseMove},n}return a(t,e),t}(u.default.Component),w=function(){var e=this;this.dblCl=function(t){!e.parent3d&&e.tuning.boxContent<3&&(t.stopPropagation(),t.preventDefault(),e.setEditMode())},this.contextMenu=function(t){t.stopPropagation(),t.preventDefault(),e.doc.contextMenu.show(t,["Добавить плавающий блок|insFloat","Добавить линию (размер)|insLine","Вставить виджет|insVidget"],e.cmdFromContextMenu)},this.cmdFromContextMenu=function(t,n){switch(n){case"insFloat":e.clip.toHist(e,"insFloat"),e.boxes.push({rect:{left:e.rect.width/4,top:e.rect.height/4,width:e.rect.width/2,height:e.rect.height/2},tuning:{bb:5,insideOnly:e.boxIndex%1e3}}),e.pending||(e.pending=function(){return e.floatBoxes.at(-1).setWrap()});break;case"insLine":e.clip.toHist(e,"insLine");var r=e.rect.width/2,o=e.rect.height/2,i=Math.max((r+o)/4,60);e.boxes.push({floating:!0,tuning:{line:1,arrowType:0,io:1,x1:r,y1:o,x2:r+i,y2:o},rect:{left:0,top:0,width:0,height:0}}),e.pending||(e.pending=function(){return e.floatBoxes.at(-1).setWrap()});break;case"insField":break;case"insVidget":break;default:return}e.forceUpdate()},this.setValue=function(t){e.doc.colorStyleMap=JSON.parse(e.doc.getField("colorStyleMap")||"{}");var n=!0,r=!1,o=void 0;try{for(var i,a=e.floatBoxes[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value,s=!0,u=!1,c=void 0;try{for(var f,d=l.floatBoxes[Symbol.iterator]();!(s=(f=d.next()).done);s=!0){var p=f.value;l.clip.deleteItem(p,!0)}}catch(e){u=!0,c=e}finally{try{!s&&d.return&&d.return()}finally{if(u)throw c}}}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}e.boxes.splice(0),e.floatBoxes.splice(0);var h=JSON.parse(t);e.tuning=h.tuning||{};var g=!0,v=!1,y=void 0;try{for(var m,b=h.boxes[Symbol.iterator]();!(g=(m=b.next()).done);g=!0){var w=m.value;switch(w.boxIndex){case 100:e.boxes[0]=w;break;case 200:e.boxes[1]=w;break;case 300:e.boxes[2]=w;break;case 400:e.boxes[3]=w;break;case 500:e.boxes[4]=w}}}catch(e){v=!0,y=e}finally{try{!g&&b.return&&b.return()}finally{if(v)throw y}}e.doc.showUndo=!1,e.doc.showRedo=!1},this.getValue=function(){return e.doc.setField("colorStyleMap",JSON.stringify(e.doc.colorStyleMap)),JSON.stringify(e.floatBoxes[0].clip.copyBox(e,"root"))},this.changeScreen=function(t){var n=100*(t+1);e.tuning.screen!==n&&e.floatBoxes[t]&&(e.tuning.screen=n,e.doc.rootBox=e.floatBoxes[t],p.default.runCmd(e.doc,"setting",e),e.forceUpdate())},this.componentDidUpdate=function(){if(1===e.tuning.boxContent){var t=e.refs.plainText;t&&e.content&&e.content[0]&&(t.innerHTML=e.content[0],e.content[0]=null)}if(e.pending){var n=e.pending;e.pending=null,setTimeout(n,0)}if(e.recalcHeight){e.cellsBoxes.sort(function(e,t){return e.rect.top-t.rect.top});var r=(0,v.recalcHeight)(e,e.recalcHeight);return e.recalcHeight=null,void setTimeout(function(){return r.forceUpdate()},0)}if(e.recalcWidth){e.cellsBoxes.sort(function(e,t){return e.rect.left-t.rect.left});var o=(0,v.recalcWidth)(e,e.recalcWidth);return e.recalcWidth=null,void setTimeout(function(){return o.forceUpdate()},0)}if(e.boxIndexFocus&&e.boxIndexFocus!==e.boxIndex){var i=e.findBoxByIndex(e.boxIndexFocus);return e.boxIndexFocus=null,void(i&&setTimeout(function(){return i.setWrap()},0))}if(e.boxKeyFocus&&e.boxKeyFocus!==e.pc_key){var a=e.findBoxByKey(e.boxKeyFocus);return e.boxKeyFocus=null,void setTimeout(function(){return a.setWrap()},0)}if(e.refreshSetting&&(e.refreshSetting=null,setTimeout(function(){return e.showSetting(!0)},100)),e.toHistAfterRender){var s=p.default.partition(e.toHistAfterRender,"|"),u=l(s,2),c=u[0],f=u[1];e.clip.toHist(e,c,f),e.toHistAfterRender=null}},this.componentDidMount=function(){if(e.tuning.furniture){var t=function t(n){"brick"!==n.tuning.mmm&&"brick"!==n.parentBox.tuning.mmm&&(n.parent3M=e);var r=!0,o=!1,i=void 0;try{for(var a,l=n.cellsBoxes[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var s=a.value;t(s)}}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}var u=!0,c=!1,f=void 0;try{for(var d,p=n.floatBoxes[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var h=d.value;t(h)}}catch(e){c=!0,f=e}finally{try{!u&&p.return&&p.return()}finally{if(c)throw f}}};t(e)}if("m3table"===e.tuning.mmm){var n=function t(n){n.parent3T=e;var r=!0,o=!1,i=void 0;try{for(var a,l=n.cellsBoxes[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var s=a.value;t(s)}}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}};n(e)}if(1===e.tuning.boxContent){var r=e.refs.plainText;r&&e.content&&e.content[0]&&(r.innerHTML=e.content[0],e.content[0]=null)}},this.mouseUp=function(t){var n=e.rootBox;if(n&&n.mouseBox){if(n.resizeID){if(t.stopPropagation(),t.preventDefault(),n.needHist){var r=n.mouseBox,o=r.tuning;n.needHist=!1;var i=n.resizeID;if("c-0"===i)if(o.wall)e.clip.toHist(r,"new:Move-c-0_wall"),(0,y.refreshMMM)(r),r.setWrap();else if(e.clip.toHist(r,"new:Move-c-0"),r.owner3d){var a=r.floatBoxes[0];a.tuning.bb3d&&a.floatBoxes[a.tuning.lastWall||0].floatBoxes[0].setWrap()}else e.wrap?e.setWrap():r.setWrap();else o.wall?(o.changed=1,e.clip.toHist(r,"new:Move-"+i+"_wall"),(0,y.refreshMMM)(r),r.setWrap()):r.parent3T?(r.parent3T.rebuild="m3t",e.clip.toHist(r,"new:Move-"+i+"_m3t"),setTimeout(function(){return r.setWrap()},0)):r.parent3d?(r.parent3d.rebuild="wall",e.clip.toHist(r,"new:Move-"+i+"_p3d"),r.parent3d.setWrap()):(e.clip.toHist(r,"new:Move-"+i),r.setWrap())}n.resizeID=null,e.mode=null}n.mouseBox=null}},this.mouseMove=function(t){var n=e.rootBox;if(n&&n.mouseBox){t.stopPropagation(),t.preventDefault();var r=n.mouseBox;if(1!==t.buttons&&(n.busy=null,n.resizeID=null),n.resizeID){var o=t.clientX-n.client[0],i=t.clientY-n.client[1];if(!n.busy&&(o||i)){if(o/=r.m,i/=r.m,n.busy=!0,r.pending=function(){return n.busy=null},!n.needHist){var a="old:Move-"+n.resizeID;n.mouseBox.tuning.wall&&(a+="_wall"),e.clip.toHist(n.mouseBox,a),n.needHist=!0}if(n.resizeID.startsWith("line-"))return(0,m.lineMouseMove)(r,n,o,i),void r.forceUpdate();var l=void 0,s=void 0;if(r.parent3d){var u=r.tuning;if(u.wall&&n.resizeID.startsWith("c-")){if("c-0"===n.resizeID)u.w_left=n.ltwh[0]+o,u.w_top=n.ltwh[1]+i;else switch(u.changed=1,n.resizeID){case"c-5":s=r.rect.height,l=(0,v.getNewRect)(r,n.resizeID,0,i,!0),l&&s!==l.height&&(r.rect.height=l.height,u.w_top=n.ltwh[1]+i,"right"===u.wall?u.y0=n.ltwh[4]+i:"door"!==u.wall&&"top"!==u.wall||(u.y0=n.ltwh[4]-2*i));break;case"c-6":s=r.rect.width,l=(0,v.getNewRect)(r,n.resizeID,o,0,!0),l&&s!==l.width&&(r.rect.width=l.width);break;case"c-7":s=r.rect.height,l=(0,v.getNewRect)(r,n.resizeID,0,i,!0),l&&s!==l.height&&(r.rect.height=l.height,"top"===u.wall?u.y0=n.ltwh[4]+2*i:"right"===u.wall?u.y0=n.ltwh[4]-2*i:"door"===u.wall&&(u.y0=n.ltwh[4]+3*i));break;case"c-8":s=r.rect.width,l=(0,v.getNewRect)(r,n.resizeID,o,0,!0),l&&s!==l.width&&(r.rect.width=l.width,u.w_left=n.ltwh[0]+o)}return(0,y.refreshMMM)(r),void r.setWrap()}}if(l=(0,v.getNewRect)(r,n.resizeID,o,i,!0))for(var c in l)r.rect[c]=l[c];r.forceUpdate()}}}},this.mouseDown=function(t){if("preview"!==e.doc.rsMode&&e.rootBox&&!e.owner3d){if(e.editMode)return"cmd-exitEdit"===t.target.id&&(t.preventDefault(),e.setEditMode(!0)),void t.stopPropagation();var n=e.rootBox;"TABLEHEADER"===e.tabPref&&e.tabNo&&(n._tabSelItem_=p.default.partition(t.target.getAttribute("name"),"_")[1],setTimeout(function(){return n.forceUpdate()},1),setTimeout(function(){return(0,h.pagePreview)(n,"tabClick")},10)),e.doc.contextMenu.setState({isOpen:!1});var r=t.target.id;r||(r="c-9");var o=p.default.partition(r,"-"),i=l(o,2),a=i[0],s=i[1];if(s&&1===t.buttons&&!n.resizeID){if(t.stopPropagation(),t.preventDefault(),console.log("mouseDown",r,e.boxIndex,e.tuning),n.needHist=!1,"line"===a)return(0,m.lineMouseDown)(e,n,s,t);if("cmd"!==a){if("c-9"===r){var u=e,c=e.parent3d||e.getFloat;if(e.parent3d&&!t.ctrlKey){var f=e.parent3d.tuning;"rooms"!==f.mmm||f.bb3d?e.tuning.wall?(u=e,f.lastWall=e.parent3d.floatBoxes.indexOf(e.parentBox)):e.parent3M?u="rooms"!==f.mmm?c=e.parent3M:0===f.bb3d?c=e.parent3d:2===f.bb3d?c=e.parent3M:e.parent3d.floatBoxes[f.lastWall||0].floatBoxes[0]:"edge"===e.tuning.m3key?e.parentBox.tuning.wall||"brick"===e.parentBox.tuning.mmm&&!e.parentBox.tuning.wed||e.parent3T&&1===e.parent3T.tuning.wed?u=e.parentBox:e.parent3T&&0===e.parent3T.tuning.wed&&(u=e.parent3T):"m3t"!==e.tuning.m3key&&"m3empty"!==e.tuning.m3key||!e.parent3T||0!==e.parent3T.tuning.wed||e.type||e.parentBox.wrap||(u=e.parentBox):u=e.parent3d}for(n.doc.mainDiv.current.focus(),u.setWrap();c.tuning.fixed;){if(!c.parentBox)return;c=c.parentBox.getFloat}return n.mouseBox=c,n.client=[t.clientX,t.clientY],n.resizeID="c-0",void(0,v.saveOldSize)(c)}switch(a){case"row":case"col":case"c":n.client=[t.clientX,t.clientY],e.tuning.wall&&(n.ltwh=[e.tuning.w_left,e.tuning.w_top,e.rect.width,e.rect.height,e.tuning.y0]),n.mouseBox=e,n.resizeID=r,(0,v.saveOldSize)(e);break;case"p":e.splitCell(s);break;case"fbi":var d="float"===s?e.getFloat:e;d&&(d.setWrap(),e.parent3d&&"m3table"===e.tuning.m3key&&((0,y.refreshMMM)(e.parent3d),setTimeout(function(){return e.parent3d.forceUpdate()},1)));break;default:n.resizeID=n.mouseBox=null}}else switch(s){case"setting":e.doc.settingIsOpen=!0,e.setWrap();break;case"moveResize":e.moveResize=!0,e.forceUpdate();break;case"edit":e.setEditMode();break;case"copyItem":e.clip.copyItem(e);break;case"deleteItem":e.clip.deleteItem(e);break;case"pasteItem":e.clip.pasteItem(e);break;case"doubleItem":e.clip.doubleItem(e);break;case"insFloat":e.clip.toHist(e,"insFloat"),e.boxes.push({rect:{left:e.rect.width/4,top:e.rect.height/4,width:e.rect.width/2,height:e.rect.height/2},tuning:{bb:5,insideOnly:e.boxIndex%1e3}}),e.pending||(e.pending=function(){return e.floatBoxes.at(-1).setWrap()}),e.forceUpdate();break;case"insLine":e.clip.toHist(e,"insLine");var g=e.rect.width/2,b=e.rect.height/2,w=Math.max((g+b)/4,60);e.boxes.push({floating:!0,tuning:{line:1,arrowType:0,io:1,x1:g,y1:b,x2:g+w,y2:b},rect:{left:0,top:0,width:0,height:0}}),e.pending||(e.pending=function(){return e.floatBoxes.at(-1).setWrap()}),e.forceUpdate()}}}},this.findBox=function(t,n){var r=function e(r){if(!r||r[n]===t)return r;for(var o=0;o<r.cellsBoxes.length;o++){var i=e(r.cellsBoxes[o]);if(i)return i}for(var a=0;a<r.floatBoxes.length;a++){var l=e(r.floatBoxes[a]);if(l)return l}};return r(e.rootBox)},this.findBoxByIndex=function(t){return e.findBox(t,"boxIndex")},this.findBoxByKey=function(t){return e.findBox(t,"pc_key")},this.splitCell=function(t){e.parent3T?(e.getFloat.rebuild="wall",e.clip.toHist(e.getFloat,"split_wall")):e.clip.toHist(e.getFloat,"split");var n=parseInt(t,10),r=50,o="\nРазмер ячейки меньше допустимого.\nРаздвиньте ячейку и повторите вставку.",i="Вставить ячеку|Вставка невозможна.",a=e.parent3d||e.getFloat.tuning.insideOnly,l=void 0;(0,v.set_b_size)(e);var s=function(){return e.doc.msg.ok(o,i)};switch(n){case 1:if(e.cells.length){for(var u=e.cells.length,c=Math.floor(e.irc.height/(u+1));c>=5&&!(0,v.testHeight)(e,c);c-=1);if(!(c>=5))return s();var f=!0,d=!1,p=void 0;try{for(var h,g=e.cells[Symbol.iterator]();!(f=(h=g.next()).done);f=!0){var y=h.value;y.rect.height=c}}catch(e){d=!0,p=e}finally{try{!f&&g.return&&g.return()}finally{if(d)throw p}}l={rect:{height:e.irc.height-c*u}},e.cells.unshift(l),e.recalcHeight=e.rect.height}else{if(e.irc.height<10)return s();var m=Math.round(e.irc.height/2);e.cells[0]={rect:{height:m}},e.cells[1]={rect:{height:e.irc.height-m}},e.type="rows",e.refreshSetting=!0}break;case 3:if(e.cells.length)if(a){var b=e.cells.at(-1),w=b.rect.height;if(w<10)return s();b.rect.height/=2,l={rect:{height:w-w/2}},e.cells.push(l)}else l={rect:{height:r}},e.cells.push(l),e.recalcHeight=e.rect.height+r;else{if(a){var x=e.irc.height;if(x<10)return s();e.cells[0]={rect:{height:x/2}},e.cells[1]={rect:{height:x-x/2}}}else e.cells[0]={rect:{height:e.irc.height}},e.cells[1]={rect:{height:r}},e.recalcHeight=e.rect.height+r;e.type="rows",e.refreshSetting=!0}break;case 4:if(e.cells.length){for(var _=e.cells.length,S=e.irc.width/(_+1);S>=5&&!(0,v.testWidth)(e,S);S-=1);if(!(S>=5))return s();var k=!0,E=!1,C=void 0;try{for(var O,D=e.cells[Symbol.iterator]();!(k=(O=D.next()).done);k=!0){var T=O.value;T.rect.width=S}}catch(e){E=!0,C=e}finally{try{!k&&D.return&&D.return()}finally{if(E)throw C}}l={rect:{width:e.irc.width-S*_}},e.cells.push(l),e.recalcWidth=e.rect.width}else{var N=e.irc.width;if(N<10)return s();e.cells[0]={rect:{width:N/2}},e.cells[1]={rect:{width:N-N/2}},e.type="cols",e.refreshSetting=!0}break;case 2:if(e.cells.length)if(a){var M=e.cells.at(-1),I=M.rect.width;if(I<10)return s();M.rect.width/=2,l={rect:{width:I-I/2}},e.cells.push(l)}else l={rect:{width:r}},e.cells.push(l),e.recalcWidth=e.rect.width+r;else{if(a){var B=e.irc.width;if(B<10)return s();e.cells[0]={rect:{width:B/2}},e.cells[1]={rect:{width:B-B/2}}}else e.cells[0]={rect:{width:e.irc.width}},e.cells[1]={rect:{width:r}},e.recalcWidth=e.rect.width+r;e.type="cols",e.refreshSetting=!0}}e.getFloat.forceUpdate()},this.addCell=function(t){return t&&e.cellsBoxes.push(t)},this.addBox=function(t){return t&&e.floatBoxes.push(t)},this.showSetting=function(t){e.doc.settingIsOpen&&(e.doc.settingBox!==e||t)&&(e.doc.settingBox=e,p.default.runCmd(e.doc,"showSetBox",e))},this.clearWrap=function(t){if(t===e)e.wrap=!0,e.zIndex=2,e.parentBox&&(e.parentBox.zIndex=2);else{e.editMode&&(e.editMode=e.doc.boxEditMode=null,e.doc.toolbar.changeToolbar());var n=[null,1,null];e.wrap=n[0],e.zIndex=n[1],e.moveResize=n[2]}var r=!0,o=!1,i=void 0;try{for(var a,l=e.floatBoxes[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var s=a.value;s.clearWrap(t)}}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}var u=!0,c=!1,f=void 0;try{for(var d,p=e.cellsBoxes[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var h=d.value;h.clearWrap(t)}}catch(e){c=!0,f=e}finally{try{!u&&p.return&&p.return()}finally{if(c)throw f}}},this.setWrap=function(){e.rootBox.clearWrap(e);var t=e.owner3d?e.floatBoxes[0]||e:e;t.refreshSetting=!0,e.rootBox.forceUpdate(),setTimeout(function(){return e.rootBox.forceUpdate()},1)},this.findWrap=function(t){if(!t||t.wrap)return t;var n=!0,r=!1,o=void 0;try{for(var i,a=t.cellsBoxes[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value,s=e.findWrap(l);if(s)return s}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}var u=!0,c=!1,f=void 0;try{for(var d,p=t.floatBoxes[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var h=d.value,s=e.findWrap(h);if(s)return s}}catch(e){c=!0,f=e}finally{try{!u&&p.return&&p.return()}finally{if(c)throw f}}},this.render=function(){var t=e.tuning,n=e.parent3d&&e.parent3d.tuning;if(0===e.boxIndex){var r=[],o=!0,i=!1,a=void 0;try{for(var l,s=e.boxes[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var c=l.value;c.key=c.key||Math.random();var f=Object.assign({},c,{parentBox:e,ref:e.addBox});c.tuning.display=t.screen===c.boxIndex?"block":"none",r.push(u.default.createElement(b,Object.assign({},f,{pc_key:c.key})))}}catch(e){i=!0,a=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw a}}return u.default.createElement("div",Object.assign({bi:"0"},e.mouse,{style:Object.assign({},e.props.style,{position:"relative"})}),r)}var d=void 0;if(n)d=e.m=n.scale3d||1;else{d=e.m=1;for(var p=e;p;p=p.parentBox&&p.parentBox.getFloat)if(p.tuning.scale2d){d=e.m=p.tuning.scale2d;break}}if(t.line)return e.parent3M&&e.parent3M.tuning.lineOff||e.parent3d&&e.parent3d.tuning.lineOff?null:(0,m.renderLine)(e);![1,2].includes(t.boxContent)&&e.editMode&&(e.editMode=e.doc.boxEditMode=!1),(0,v.set_b_size)(e);var h=void 0,g=void 0,w=void 0,x=void 0,_=void 0,S=void 0,k=void 0,E=void 0,C=void 0,O=void 0,D=void 0,T=void 0,N=void 0,M=void 0,I=void 0,B=void 0,P=void 0,A=void 0,R=void 0;e.rebuild&&("rotate"===e.rebuild?(0,y.mmmAngleHide)(e):(0,y.refreshMMM)(e)),R=e.boxes.length?e.boxes.map(function(t,n){t.key=t.key||Math.random(),t.tuning=t.tuning||{};var r=Object.assign({},t,{parentBox:e,ref:e.addBox});return u.default.createElement(b,Object.assign({},r,{pc_key:t.key}))}):null;var F=0;if("rows"===e.type){A=e.cells.map(function(t){t.rect.top=F,t.rect.left=0,t.rect.width=e.irc.width,F+=t.rect.height,t.key=t.key||Math.random(),t.tuning=t.tuning;var n=Object.assign({},t,{parentBox:e,row:1,ref:e.addCell});return u.default.createElement(b,Object.assign({},n,{pc_key:t.key}))}),P=[];for(var L=e.wrap?"side sh":"streak sh skh",j=0,z=0;j<e.cells.length-1;j++)z+=d*e.cells[j].rect.height,P[2*j]=u.default.createElement("div",{key:"sh-"+j,className:L,style:{top:z}}),e.wrap&&!e.moveResize&&(P[2*j+1]=u.default.createElement("img",{className:"arrowTB",id:"row-"+j,key:"prow-"+j,src:"/image?6-resize.gif",style:{left:"calc(50% - 6px)",top:z-8},alt:""}))}else if("cols"===e.type){A=e.cells.map(function(t){t.rect.left=F,t.rect.top=0,t.rect.height=e.irc.height,F+=t.rect.width,t.key=t.key||Math.random(),t.tuning=t.tuning||{};var n=Object.assign({},t,{parentBox:e,column:1,ref:e.addCell});return u.default.createElement(b,Object.assign({},n,{pc_key:t.key}))}),
P=[];for(var K=e.wrap?"side sv":"streak sv skv",U=0,V=0;U<e.cells.length-1;U++)V+=d*e.cells[U].rect.width,P[2*U]=u.default.createElement("div",{key:"sv_"+U,className:K,style:{left:V}}),e.wrap&&!e.moveResize&&(P[2*U+1]=u.default.createElement("img",{className:"arrowLR",id:"col-"+U,key:"pcol-"+U,src:"/image?7-resize.gif",style:{left:V-7,top:"calc(50% - 6px)"},alt:""}))}if(e.editMode);else if(e.wrap)if(e.moveResize){var H={width:d*e.rect.width,height:d*e.rect.height,top:d*(e.rect.top-e.irc.top),left:d*(e.rect.left-e.irc.left)};_=u.default.createElement("span",{id:"c-0",key:"c0",className:"moveResize",style:H},t.wall?v.eightRings.slice(4).map(function(e,t){return u.default.createElement("div",{id:"c-"+(t+5),key:t,className:"ring",style:Object.assign({},e)})}):v.eightRings.map(function(e,t){return u.default.createElement("div",{id:"c-"+(t+1),key:t,className:"ring",style:Object.assign({},e)})}))}else e.floating&&(S=u.default.createElement("span",{title:"move/resize",className:"floatIcon",id:"cmd-moveResize",key:"mri"})),k=(0,v.getAdd)(e,!0),C=e.settingIcon,E=(0,v.getContur)(e,!1),I=u.default.createElement("div",{className:"copy item",id:"cmd-copyItem",title:"копировать",key:"copy"},"C"),e.boxIndex%1e3&&(M=u.default.createElement("div",{className:"delete item",id:"cmd-deleteItem",title:"удалить",key:"del"},"×")),h=u.default.createElement("div",{className:"insFloat item",id:"cmd-insFloat",title:"вставить плавающий блок",key:"insFloat"},"F"),g=u.default.createElement("div",{className:"line item",id:"cmd-insLine",title:"вставить линию",key:"line"},"L"),x=[1,2].includes(t.boxContent)?u.default.createElement("div",{className:"editMode item",id:"cmd-edit",title:"режим редактирования",key:"cmde"},"E"):null,e.clip.boxClipboard()&&!["rows","cols"].includes(e.type)&&(N=u.default.createElement("div",{className:"paste item",id:"cmd-pasteItem",title:"вставить (заливка)",key:"paste"},"V"));else e.type&&(O=e.settingIconRT,D=e.settingIconLD),E=(0,v.getContur)(e,!0);if(e.state.pont){var W={width:e.rect.width*d,height:e.rect.height*d,top:e.rect.top-e.irc.top,left:e.rect.left-e.irc.left,borderWidth:0,transition:"height 0.5s ease"};B=u.default.createElement("div",{className:"pont",key:"pont"+e.boxIndex,style:W},e.state.pont)}else B=u.default.createElement("div",{className:"pont",key:"pont"+e.boxIndex,style:{borderWidth:0}});var q=void 0;"TABLEHEADER"===e.tabPref&&e.tabNo?(e.rootBox._tabSelItem_===e.tabNo?(t.borderBottomWidth=0,t.backgroundColor="#fff"):(t.backgroundColor="#f0f0f0",t.borderBottomWidth=2),q=!0):"TABLEBODY"===e.tabPref&&e.tabNo&&(t.display=e.rootBox._tabSelItem_===e.tabNo?"block":"none");var Y=e.boxStyle=(0,v.setBoxStyle)(e);if(e.doc.boxEditMode=e.editMode=e.editMode&&e.wrap,e.editMode){var X=4===t.boxContent?"#0f0":"#f00";Y=Object.assign({},e.boxStyle,{boxShadow:"0 0 0 1px "+X+", 0 0 0 2px #fff, 0 0 0 3px "+X}),x=e.settingIconEdit}else!e.wrap&&e.floating&&(e.boxIndex>=1e3||t.phoneContur)&&!e.parent3d&&(w=u.default.createElement("div",{className:"floatBlockIcon",id:"fbi-float",key:"fbi"})),e.wrap&&(e.row&&"cols"===e.type?T=u.default.createElement("div",{id:"cmd-doubleItem",className:"item double",title:"дублировать ряд",key:"dubl"},"D"):e.floating&&!e.moveResize&&(T=u.default.createElement("div",{id:"cmd-doubleItem",style:{right:-8},className:"item double",title:"дублировать плавающий блок",key:"dubl"},"D")));var $=[w,E,P,k,S,_,O,D,C,x,h,g],J=[N,I,M,T],G=void 0,Q=void 0;return"preview"===e.doc.rsMode||e.owner3d||(n?e===e.parent3d?"rooms"===t.mmm?(e.parentBox.owner3d=1,e.parentBox.rect.width=Y.width,e.parentBox.rect.height=Y.height-t.is3dZ*n.scale3d):e===e.parent3M||(e.moveResize?G=[_]:"m3table"===t.mmm?n.wed?Y.height=0:G=$:"brick"===t.mmm&&(1===t.wed?Y.height=0:(G=$,Q=J))):0===n.bb3d||("brick"===t.mmm?1===t.wed?Y.height=0:(G=$,Q=J):t.furniture?(n.insideOff||t.hide)&&(Y.display="none"):2===n.bb3d&&e.parent3M&&e.parent3M.wrap?(G=[B,E],Y.boxShadow="#00f 0px 0px 0px 2px inset"):"m3t"===t.m3key?n.bb3d&&(e.parent3T&&2===e.parent3T.tuning.wed?Y.height=0:(G=[B,h,g,E],Q=[I,N,M])):"edge"!==t.m3key||e.parentBox.tuning.wall||e.getFloat.tuning.wall?"side"===t.m3key&&e.hide?Y.display="none":"m3empty"===t.m3key&&1===n.bb3d?e.parent3T&&2===e.parent3T.tuning.wed&&"edge"!==e.parentBox.tuning.m3key?Y.height=0:e.type&&e.parent3T&&1===e.parent3T.tuning.wed?Y.height=0:(G=$,Q=J):2===n.bb3d?G=[E]:n.bb3d&&(e.moveResize?G=[_]:"m3table"===t.m3key&&t.wed?Y.height=0:($[3]=null,G=$,Q=[M])):(G=[h,g,E],Q=[I,N])):e.boxIndex<1e3||t.noIcons||q?G=e.parentBox&&[w,P]:e.doc.readOnly?G=[I,B,w,P,E]:(G=$,Q=J)),u.default.createElement("div",Object.assign({id:"c-9",key:e.boxIndex,bi:e.boxIndex},e.mouse,{style:Y,tabIndex:"1",className:e.className||e.props.className}),(0,v.getContent)(e),A,R,G,Q,(0,v.grid)(e),B)},this.settingIcon3=function(e,t,n){return u.default.createElement("div",{className:t,title:n,key:t},u.default.createElement("div",null,u.default.createElement("div",null),u.default.createElement("div",null),u.default.createElement("div",null)),u.default.createElement("div",null,u.default.createElement("div",null),u.default.createElement("div",null),u.default.createElement("div",null)),u.default.createElement("div",null,u.default.createElement("div",null),u.default.createElement("div",null),u.default.createElement("div",null)),u.default.createElement("div",{id:e,style:{position:"absolute",left:0,width:"inherit",height:"inherit",top:0}}))},this.setEditMode=function(t){if(t)e.editMode=e.doc.boxEditMode=!1,e.doc.toolbar.changeToolbar();else switch(e.clip.toHist(e,"editOn"),e.editMode=e.doc.boxEditMode=!0,e.tuning.boxContent){case 2:e.tuning.wasEditor=!0,setTimeout(function(){return e.refs.rtfEditor.setFocus()},10);break;case 0:e.tuning.boxContent=1;case 1:e.tuning.wasEditor2=!0,e.showSetting(!0),setTimeout(function(){return e.refs.plainText.focus()},10)}e.forceUpdate()},this.testTuning=function(t,n){var r=Number(n||0),o=void 0,i=function(t,n){var i=e.cellsBoxes.at(-1),a=void 0,l=void 0;if("width"===t?"cols"===e.type?(a=e.cellsBoxes.reduce(function(e,n){return e+n.rect[t]},0),l=e.rect[t]-o-(a-i.rect[t])):l=e.rect[t]-o:"rows"===e.type?(a=e.cellsBoxes.reduce(function(e,n){return e+n.rect[t]},0),l=e.rect[t]-o-(a-i.rect[t])):l=e.rect[t]-o,l<10){for(;l<10&&r;l+=n,r--);return(0,v.recalcWidthInside)(i,l),r}for(;;){if(i.rect[t]=l,"width"===t){if((0,v.testWidth)(i,l))return(0,v.recalcWidthInside)(i,l),r}else if((0,v.testHeight)(i,l))return(0,v.recalcHeightInside)(i,l),r;if(!r)return r;l+=n,r--}};if(e.type)switch(t){case"borderWidth":o=2*r;var a=i("width",2),l=i("height",2);return Math.min(a,l).toString();case"borderLeftWidth":return o=r+Number(e.tuning.borderRightWidth||0),i("width",1).toString();case"borderRightWidth":return o=r+Number(e.tuning.borderLeftWidth||0),i("width",1).toString();case"borderTopWidth":return o=r+Number(e.tuning.borderBottomWidth||0),i("height",1).toString();case"borderBottomWidth":return o=r+Number(e.tuning.borderTopWidth||0),i("height",1).toString()}return!0},this.setBoxSize=function(t,n){if(!(e.boxIndex<1e3)){var r=e.parentBox,o=void 0,i=void 0;(0,v.saveOldSize)(e.floating?e:r);var a=t-e.rect.width;t&&a&&(e.floating?(i=(0,v.getNewRect)(e,"c-6",a,0),e.rect.width=i.width):e.row&&r.column?((0,v.saveOldSize)(r.parentBox),o=r.parentBox.cellsBoxes.indexOf(r),o<r.parentBox.cells.length-1?(0,v.getNewRect)(r.parentBox,"col-"+o,0,a):(0,v.getNewRect)(r.parentBox,"col-"+(o-1),0,-a)):e.column&&(o=r.cellsBoxes.indexOf(e),o<r.cells.length-1?(0,v.getNewRect)(r,"col-"+o,a,0):(0,v.getNewRect)(r,"col-"+(o-1),-a,0)));var l=n-e.rect.height;n&&l&&(e.floating?(i=(0,v.getNewRect)(e,"c-7",0,l),e.rect.height=i.height):e.column&&r.row?((0,v.saveOldSize)(r.parentBox),o=r.parentBox.cellsBoxes.indexOf(r),o<r.parentBox.cells.length-1?(0,v.getNewRect)(r.parentBox,"row-"+o,0,l):(0,v.getNewRect)(r.parentBox,"row-"+(o-1),0,-l)):e.row&&(o=r.cellsBoxes.indexOf(e),o<r.cells.length-1?(0,v.getNewRect)(r,"row-"+o,0,l):(0,v.getNewRect)(r,"row-"+(o-1),0,-l)))}},this.setScale=function(e,t,n){return(0,y.setScale)(e,t||"cm",n)}};t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),s=r(l),u=n(5),c=r(u),f=n(4),d=r(f),p=n(53),h=r(p);n(197);var g=n(127),v=r(g),y=v.default.Editor,m=v.default.EditorState,b=v.default.RichUtils,w=v.default.getDefaultKeyBinding,x=v.default.Modifier,_=v.default.CompositeDecorator,S=v.default.convertFromRaw,k=v.default.convertToRaw,E=v.default.KeyBindingUtil,C={},O=function(e,t,n){e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&"LINK"===n.getEntity(t).getType()},t)},D=function(e){var t=e.contentState.getEntity(e.entityKey).getData(),n=t.url;return s.default.createElement("a",{href:n,style:{cursor:"pointer",textDecoration:"underline"}},e.children)},T=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.colorAvatar=function(e,t,r){n[e]=t;var o=n.doc.sovaPagesByName.color_avatar;o.frameStyle[r]=t,o.forceUpdate()},n.componentDidUpdate=function(){return n.doc.toolbar.forceUpdate()},n.shouldComponentUpdate=function(){return!n.noUpdate},n.componentDidMount=function(){var e=n.props.box.content;e&&e[1]&&(n.setState({editorState:m.createWithContent(S(e[1]),n.decorator)}),e[1]=null)},n.onChange=function(e){return n.setState({editorState:e})},n.setFocus=function(){return n.focus()},n.focus=function(e){return setTimeout(function(){return n.refs.editor&&n.refs.editor.focus()},e||0)},n.contentToRaw=function(){return k(n.state.editorState.getCurrentContent())},n.logState=function(){return console.log(n.state.editorState)},n.mapKeyToEditorCommand=function(e){if(E.hasCommandModifier(e)){switch(e.keyCode){case 83:return"myeditor-save";case 89:n.onChange(m.redo(n.state.editorState));break;case 90:n.onChange(m.undo(n.state.editorState));break;default:return w(e)}return e.stopPropagation(),!0}return w(e)},n.handleKeyCommand=function(e,t){return"myeditor-save"===e?"handled":"not-handled"},n.btnLink=function(e){n.noUpdate=!0;var t=n.state.editorState,r=t.getSelection(),o=r.isCollapsed(),i=t.getCurrentContent(),a=r.getStartKey(),l=r.getStartOffset(),s=i.getBlockForKey(a),u=s.getEntityAt(l),c=void 0;if(u){var f=i.getEntity(u);c=f.getData().url}if(o&&!c)n.doc.msg.box("для создания новой ссылки.","Гиперссылка|Необходимо выделить текст",null,null,"1").then(function(){n.noUpdate=!1,n.focus(200)},function(){n.noUpdate=!1,n.focus(200)});else{var d=c?o?"Изменить":"Добавить/изменить/удалить ссылку":"Добавить ссылку",p=c?o?["Изменить|FV"]:["Добавить|FV","Удалить|del!"]:["Добавить|FV"];n.doc.inputBox(d,c,"Гиперссылка",null,p,!0).then(function(e){if(n.noUpdate=!1,"del!"===e)n.onChange(b.toggleLink(t,r,null));else if(e)if(o)i.replaceEntityData(u,{url:e});else{var l=i.createEntity("LINK","MUTABLE",{url:e});a=l.getLastCreatedEntityKey();var s=m.push(t,l,"create-entity");n.onChange(b.toggleLink(s,r,a))}n.focus(200)},function(){n.noUpdate=!1,n.focus(200)})}n.focus()},n.inLine=function(e){n.onChange(b.toggleInlineStyle(n.state.editorState,e)),n.focus()},n.btnBold=function(e){return n.inLine("BOLD")},n.btnItalic=function(e){return n.inLine("ITALIC")},n.btnUnderline=function(e){return n.inLine("UNDERLINE")},n.btnOl=function(e){n.onChange(b.toggleBlockType(n.state.editorState,"ordered-list-item")),n.focus()},n.btnUl=function(e){n.onChange(b.toggleBlockType(n.state.editorState,"unordered-list-item")),n.focus()},n.onBlur=function(e){},n.setColorTool=function(e,t,r){return s.default.createElement(h.default,{xName:e,xValue:t,key:e,doc:n.doc,ref:function(t){return n.doc.register[e]=t}})},n.btnColorClick=function(e){if(n.state.editorState.getSelection().isCollapsed())return n.doc.msg.box("для изменения цвета текста и фона.","Цвет|Необходимо выделить текст",null,null,"1").then(function(){n.noUpdate=!1,n.focus(200)},function(){n.noUpdate=!1,n.focus(200)});n.noUpdate=!0;var t=e.target.getBoundingClientRect();e.stopPropagation(),e.preventDefault();var r={pageName:"color_avatar",modal:!0,fieldValues:{FORM:"qq"},smallCls:!0,title:"Выбрать цвет",frameStyle:{left:t.left-78,top:t.bottom+10,width:380},children:[s.default.createElement("div",{key:"a",className:"rtf_colors"},s.default.createElement("div",{key:"c"},s.default.createElement("div",null,s.default.createElement("div",{className:"rsvTop",onClick:n.setColorOK},"OK")),s.default.createElement("div",null,s.default.createElement("div",{className:"rsvTop",onClick:n.setColorCancel},"Отмена"))),s.default.createElement("div",{key:"b"},s.default.createElement("div",null,s.default.createElement("div",null,"Цвет",s.default.createElement("br",null),"текста"),n.setColorTool("TEXT_COLOR",n.box.tuning.color,"colorTexList")),s.default.createElement("div",null,s.default.createElement("div",null,"Цвет",s.default.createElement("br",null),"фона"),n.setColorTool("FON_COLOR",n.box.tuning.backgroundColor,"colorFontList")))),s.default.createElement("div",{key:"c",style:{font:"normal 40px Arial",paddingTop:50,textAlign:"center"}},"Text Text Text Text Text Text Text Text Text Text Text Text Text Text Text Text Text Text ")]};d.default.addChildPage(n.doc,r)},n.setColorCancel=function(e){return n.doc.closePage("color_avatar",e)},n.setColorOK=function(e){n.doc.closePage("color_avatar",e);var t=n.text_color||n.box.tuning.color,r=n.fon_color||n.box.tuning.backgroundColor,o="color-"+t+r;C[o]={color:t,backgroundColor:r},n.noUpdate=!1,n.onChange(n.setColor(n.state.editorState,o,"color-")),n.focus(200)},n.btnText=function(e){e.stopPropagation();var t=n.state.editorState,r="fontfamily-Times|toHtml сука игнорирует";C[r]={fontFamily:"Times"},t=n.setColor(t,r,"fontfamily-"),r="fontsize-20",C[r]={fontSize:60},t=n.setColor(t,r,"fontsize-20"),n.noUpdate=!1,n.onChange(t),n.focus(200)},n.setColor=function(e,t,n){var r=e.getSelection(),o=Object.keys(C).filter(function(e){return e.startsWith(n)}),i=o.reduce(function(e,t){return x.removeInlineStyle(e,r,t)},e.getCurrentContent()),a=m.push(e,i,"change-inline-style"),l=e.getCurrentInlineStyle();return r.isCollapsed()&&(a=l.reduce(function(e,t){return b.toggleInlineStyle(e,t)},a)),l.has(t)||(a=b.toggleInlineStyle(a,t)),a},n.clearEvent=function(e){e.stopPropagation(),e.preventDefault()},n.rtfToolbar=function(){return s.default.createElement("div",{className:"rtf-bar"},s.default.createElement("div",null,s.default.createElement("div",{onClick:n.btnBold},"B"),s.default.createElement("div",{onClick:n.btnItalic,style:{fontStyle:"italic"}},"I"),s.default.createElement("div",{onClick:n.btnUnderline,style:{textDecoration:"underline"}},"U"),s.default.createElement("div",{onClick:n.btnLink,className:"tb-link"},s.default.createElement("div",{className:"tb-link-circ"},s.default.createElement("div",null),s.default.createElement("div",null)),s.default.createElement("div",{className:"tb-link-line"})),s.default.createElement("div",{onClick:n.btnOl},s.default.createElement("div",{className:"rtf-ol"}),s.default.createElement("div",{className:"rtf-ol"}),s.default.createElement("div",{className:"rtf-ol"})),s.default.createElement("div",{onClick:n.btnUl},s.default.createElement("div",{className:"rtf-ul"}),s.default.createElement("div",{className:"rtf-ul"}),s.default.createElement("div",{className:"rtf-ul"})),s.default.createElement("div",{onClick:n.btnColorClick,title:"Цвет текста",style:{display:"inline-block",position:"relative"}},s.default.createElement("div",{className:"btn-color"},s.default.createElement("div",null)),s.default.createElement("div",{className:"btn-color-abs"}))))},n.render=function(){var e=!n.box.editMode;return e||"none"===n.props.display||n.doc.toolbar.changeToolbar(n.rtfToolbar()),s.default.createElement("div",{className:"fill",style:Object.assign({},n.box.editorStyle,{overflowY:"auto",display:n.props.display})},s.default.createElement(y,{keyBindingFn:n.mapKeyToEditorCommand,readOnly:e,customStyleMap:C,editorState:n.state.editorState,handleKeyCommand:n.handleKeyCommand,onChange:n.onChange,onBlur:n.onBlur,ref:"editor",spellCheck:!0}))},(0,c.default)(n),n.box=n.props.box,n.decorator=new _([{strategy:O,component:D}]),n.box=n.props.box,n.doc=n.box.doc,C=n.doc.colorStyleMap,n.state={editorState:m.createEmpty(n.decorator)},n.doc.sova.recalc.TEXT_COLOR=function(e,t){return n.colorAvatar("text_color",t,"color")},n.doc.sova.recalc.FON_COLOR=function(e,t){return n.colorAvatar("fon_color",t,"backgroundColor")},n}return a(t,e),t}(s.default.Component);t.default=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Clipboard=t.pagePreview=void 0;var i=n(196),a=r(i),l=n(37),s=n(4),u=r(s),c=n(52),f=t.pagePreview=function(e,t,n,r,o,i){window.owlDebug&&console.log(e+' ******* "'+t+'" bi="'+n+'" "'+r+'" feature: "'+o+'" value: "'+i+'"')},d=function(e,t){if("LINK"===e.type)return'<a href="'+e.data.url+'" style="text-decoration: underline">'+t+"</a>"},p=function(e,t){if(2===e.tuning.boxContent){var n=(0,a.default)(t,{},!1,d);e.rtfHtml=n.length>8?n:""}else 1===e.tuning.boxContent&&(e.rtfHtml=e.refs.plainText.innerHTML)},h=t.Clipboard=function e(t){o(this,e),g.call(this),this.rootBox=t,this.histArr=[],this.peak=0,this.len=0;var n=function e(t){if(t.boxes){var n=!0,r=!1,o=void 0;try{for(var i,a=t.boxes[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;l.boxIndex>1e3&&l.boxIndex%1e3&&(l.boxIndex=0),e(l)}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}}if(t.cells){var s=!0,u=!1,c=void 0;try{for(var f,d=t.cells[Symbol.iterator]();!(s=(f=d.next()).done);s=!0){var p=f.value;p.boxIndex>1e3&&p.boxIndex%1e3&&(p.boxIndex=0),e(p)}}catch(e){u=!0,c=e}finally{try{!s&&d.return&&d.return()}finally{if(u)throw c}}}};n(t)},g=function(){var e=this;this.showHist=function(e){},this.CLIPLIST=["type","tuning","field","name","className"],this.resizeFloat=function(e,t,n){var r=t,o=n,i=e.rect.width+r,a=e.rect.height+o;(0,l.saveOldSize)(e);var s=(0,l.getNewRect)(e,"c-3",r,o);if(r=s.width-i,o=s.height-a,(r||o)&&((0,l.saveOldSize)(e),s=(0,l.getNewRect)(e,"c-1",r,o)),s.width===i&&s.height===a)return e.parent3d&&(e.rebuild="parent3d"),s},this.copyCell=function(t,n){var r={rect:Object.assign({},t.rect)},o=void 0,i=t.refs.plainText;r.content=[i&&i.innerHTML||"",null],i&&i.innerHTML&&1===t.tuning.boxContent&&p(t,null),t.tuning.wasEditor&&(o=t.refs.rtfEditor,o&&(r.content[1]=o.contentToRaw(),2===t.tuning.boxContent&&p(t,r.content[1])));var a=!0,l=!1,s=void 0;try{for(var u,c=e.CLIPLIST[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value;r[f]=t[f]}}catch(e){l=!0,s=e}finally{try{!a&&c.return&&c.return()}finally{if(l)throw s}}"ctrl-C"!==n&&(r.boxIndex=t.boxIndex);var d=t.cellsBoxes.map(function(r){for(var o=0;o<t.cells.length;o++)if(r.pc_key===t.cells[o].key)return e.copyCell(r,n)});r.cells=d.filter(function(e){return e});var h=t.floatBoxes.map(function(r){for(var o=0;o<t.boxes.length;o++)if(r.pc_key===t.boxes[o].key)return e.copyCell(r,n)});return r.boxes=h.filter(function(e){return e}),r},this.copyBox=function(t,n){var r=e.copyCell(t,n);return t.parent3d&&(r.cm=t.parent3d.tuning.cm,r.scale3d=t.parent3d.tuning.scale3d),r},this.delArrCells=function(t,n){t.type=null;for(var r=0;r<t.cells.length;r++)e.delArrCells(t.cellsBoxes[r]),delete t.cellsBoxes[r],delete t.cells[r];if(t.cells.splice(0),t.cellsBoxes.splice(0),!n){for(var o=0;o<t.boxes.length;o++)e.delArrCells(t.floatBoxes[o]),delete t.floatBoxes[o],delete t.boxes[o];t.boxes.splice(0),t.floatBoxes.splice(0)}},this.boxClipboard=function(){return localStorage.getItem("clipboardType")},this.copyItem=function(t){var n=e.copyBox("rooms"===t.tuning.mmm?t.parentBox:t,"ctrl-C"),r=JSON.stringify(n);if(r.length>512e4)return alert("Размер объекта превысил 5M. Копирование отменено.");if(localStorage.setItem("clipboardType",t.tuning.mmm||"m3t"===t.tuning.m3key?"3d":"2d"),"rooms"===t.tuning.mmm){var o=!0,i=!1,a=void 0;try{for(var l,s=t.floatBoxes[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var u=l.value;u.floatBoxes.length&&u.floatBoxes[0].setState({pont:"copy"})}}catch(e){i=!0,a=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw a}}}else{if("brick"===t.tuning.mmm){var c=!0,f=!1,d=void 0;try{for(var p,h=t.floatBoxes[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var g=p.value;g.setState({pont:"copy"})}}catch(e){f=!0,d=e}finally{try{!c&&h.return&&h.return()}finally{if(f)throw d}}}else if("m3table"===t.tuning.mmm){var v=!0,y=!1,m=void 0;try{for(var b,w=t.cellsBoxes[Symbol.iterator]();!(v=(b=w.next()).done);v=!0){var x=b.value;x.setState({pont:"copy"});var _=!0,S=!1,k=void 0;try{for(var E,C=x.floatBoxes[Symbol.iterator]();!(_=(E=C.next()).done);_=!0){var O=E.value;O.setState({pont:"copy"})}}catch(e){S=!0,k=e}finally{try{!_&&C.return&&C.return()}finally{if(S)throw k}}}}catch(e){y=!0,m=e}finally{try{!v&&w.return&&w.return()}finally{if(y)throw m}}}t.setState({pont:"copy"})}localStorage.setItem("clipboard",r),setTimeout(function(){if("rooms"===t.tuning.mmm){var e=!0,n=!1,r=void 0;try{for(var o,i=t.floatBoxes[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;a.floatBoxes.length&&a.floatBoxes[0].setState({pont:null})}}catch(e){n=!0,r=e}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}else{if("brick"===t.tuning.mmm){var l=!0,s=!1,u=void 0;try{for(var c,f=t.floatBoxes[Symbol.iterator]();!(l=(c=f.next()).done);l=!0){var d=c.value;d.setState({pont:null})}}catch(e){s=!0,u=e}finally{try{!l&&f.return&&f.return()}finally{if(s)throw u}}}else if("m3table"===t.tuning.mmm){var p=!0,h=!1,g=void 0;try{for(var v,y=t.cellsBoxes[Symbol.iterator]();!(p=(v=y.next()).done);p=!0){var m=v.value;m.setState({pont:null});var b=!0,w=!1,x=void 0;try{for(var _,S=m.floatBoxes[Symbol.iterator]();!(b=(_=S.next()).done);b=!0){var k=_.value;k.setState({pont:null})}}catch(e){w=!0,x=e}finally{try{!b&&S.return&&S.return()}finally{if(w)throw x}}}}catch(e){h=!0,g=e}finally{try{!p&&y.return&&y.return()}finally{if(h)throw g}}}t.setState({pont:null})}t.showSetting(!0)},500)},this.cellFromHist=function(e,t){for(var n in t.rect)e.rect[n]=t.rect[n];for(var r in e.tuning)delete e.tuning[r];for(var o in t.tuning)e.tuning[o]=t.tuning[o];for(var i=["type","field","name","className"],a=0;a<i.length;a++){var l=i[a];e[l]=t[l]}e.content=t.content&&[t.content[0],t.tuning.wasEditor&&t.content[1]],e.cells=t.cells,e.boxes=t.boxes},this.fromHist=function(){e.showHist("fromHist (from histArr["+e.peak+"])");var t=e.histArr[e.peak],n=e.rootBox.findBoxByIndex(t.boxIndex);if(!n)return void alert('Erron in "fromHist()". BoxIndex:'+t.boxIndex+", "+t.typeHist);if(t.typeHist.endsWith("Move-c-0"))n.rect.left=t.left,n.rect.top=t.top;else if(t.typeHist.includes("tuning"))if(t.feature)n.tuning[t.feature]=t.value;else{var r=JSON.parse(t.json);for(var o in n.tuning)delete n.tuning[o];for(var i in r)n.tuning[i]=r[i]}else{var a=JSON.parse(t.json);e.delArrCells(n),e.cellFromHist(n,a),n.parent3d!==n||n.tuning.mmm||(n.parent3d=null),n.parent3T===n&&"m3table"!==n.tuning.m3key&&(n.parent3T=null)}return n.boxIndexFocus=t.boxIndex,f(e.peak,t.typeHist,t.boxIndex,"----FROM Hist",t.feature,t.value),n},this.toHist=function(t,n,r){t.parent3d&&t.parent3d.tuning.turnOn||(r=r||"",e.peak<e.histArr.length&&e.histArr.splice(e.peak,1e3),e.peak===e.histArr.length&&e.histArr.length>200&&(e.histArr.splice(0,24),e.peak=e.histArr.length),n.endsWith("Move-c-0")?e.histArr.push({boxIndex:t.boxIndex,typeHist:n,left:t.rect.left,top:t.rect.top}):(n.includes(":")||(t.toHistAfterRender="new:"+n+"|"+(r||""),n="old:"+n),n.includes("tuning")?r?e.histArr.push({boxIndex:t.boxIndex,typeHist:n,feature:r,value:t.tuning[r]}):e.histArr.push({boxIndex:t.boxIndex,typeHist:n,json:JSON.stringify(t.tuning)}):e.histArr.push({boxIndex:t.boxIndex,typeHist:n,json:JSON.stringify(e.copyCell(t))})),e.len+=0,e.peak++,e.showHist("toHist"),t.doc.showUndo=!0,t.doc.showRedo=!1,t.doc.toolbar.forceUpdate(),f(e.peak,n,t.boxIndex,"TO HIST",r,r&&t.tuning[r]))},this.pasteFurniture=function(t,n){e.toHist(t,"ctrl-V_paste3d"),n.row=n.column=null,delete n.tuning.scale3d,n.tuning.rotate3X=n.tuning.rotate3Y=n.tuning.rotate3Z=n.tuning.sweep=0,n.tuning.furniture=1,n.tuning.insideOnly=1,n.tuning.lineOff=1,n.tuning.wed="","ground"===t.tuning.wall?(n.tuning.rotate3X=-90,n.tuning.translateZ=0,n.tuning.translateX=0,n.tuning.originX=0,n.tuning.originY=0,n.tuning.translateY=-n.rect.height):n.tuning.translateZ=n.tuning.is3dZ,(0,c.setScale)(n,t.parent3d.tuning.cm||"cm",!0),n.rect.left=t.rect.width/2,n.rect.top=t.rect.height/2,t.boxes.push(n),t.rebuild="paste3d",t.forceUpdate()},this.pasteItem=function(t,n){if(e.boxClipboard()){var r=localStorage.getItem("clipboard");r.length>4e6&&alert("Clipsize "+r.length+". Max 5M");var o=JSON.parse(r),i=function e(t){delete t.tuning.cm,delete t.tuning.scale3d;var n=!0,r=!1,o=void 0;try{for(var i,a=t.boxes[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;e(l)}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}var s=!0,u=!1,c=void 0;try{for(var f,d=t.cells[Symbol.iterator]();!(s=(f=d.next()).done);s=!0){var p=f.value;e(p)}}catch(e){u=!0,c=e}finally{try{!s&&d.return&&d.return()}finally{if(u)throw c}}};if(i(o),o.row=o.column=null,n)return"3d"!==e.boxClipboard()||t.type||!t.parent3d?t.doc.msg.ok("Вставка невозможна"):(e.pasteFurniture(t,o),setTimeout(function(){return t.setState({pont:"paste"})},1),void setTimeout(function(){return t.setState({pont:null})},500));if("3d"===e.boxClipboard()){if(t.type)return t.doc.msg.ok("3d-вставка возможна только в пустую ячейку");for(var a=["persOn","perspective","perspectiveOriginX","perspectiveOriginY"],s=0;s<a.length;s++){var u=a[s];delete o.tuning[u]}if(o.tuning.rotate3X=o.tuning.rotate3Y=o.tuning.rotate3Z=0,t.parent3d){if(t.floating)o.tuning.insideOnly="",o.tuning.mmm||(o.tuning.m3key="m3brick",o.tuning.mmm="brick"),o.rect.left=t.rect.left,o.rect.top=t.rect.top;else{if("m3table"===o.tuning.mmm)return t.doc.msg.ok("\n3d-таблицу нельзя вставить в ячейку.\nДобавьте плавающий блок и повторите.', 'Вставить блок в ячейку|Вставка невозможна.");o.tuning.m3key="m3t",delete o.tuning.mmm;var f=o.rect.width-t.rect.width,d=o.rect.height-t.rect.height;if(o.type&&(f>0||d>0))return t.doc.msg.ok("\nРазмер ячеки меньше допустимого.\nРаздвиньте ячейку и повторите вставку.\n\nРазмер ячейки: "+t.rect.width+" x "+t.rect.height+"\nНеобходимый размер : "+o.rect.width+" x "+o.rect.height,"Вставить блок в ячейку|Вставка невозможна.");o.rect=t.rect}var p=t.parent3d.tuning.cm;o.tuning.cm=o.cm,(0,c.setScale)(o,p,!0),delete o.tuning.cm,delete o.tuning.scale3d,e.toHist(t,"ctrl-V_paste3d");var h=t.parent3d.tuning.scale3d;return e.delArrCells(t),e.cellFromHist(t,o),t===t.parent3d&&(t.parent3d.tuning.cm=p,t.parent3d.tuning.scale3d=h),t.parent3d.rebuild="paste3d",t.parent3d.forceUpdate(),setTimeout(function(){return t.setState({pont:"paste"})},1),void setTimeout(function(){return t.setState({pont:null})},500)}return t.floating?(o.tuning.insideOnly="",o.tuning.mmm||(o.tuning.m3key="m3brick",o.tuning.mmm="brick"),e.toHist(t,"ctrl-V_paste3d"),e.delArrCells(t),e.cellFromHist(t,o),t.tuning.cm=o.cm,t.tuning.scale3d=o.scale3d,t.rebuild="paste3d",t.forceUpdate(),setTimeout(function(){return t.setState({pont:"paste"})},1),void setTimeout(function(){return t.setState({pont:null})},500)):t.doc.msg.ok('\n3d-объект можно вставиить только в 3d-объект.\nСоздайте 3d-объект и повторите вставку кнопкой "Вставить 3d".',"Вставить блок в ячейку|Вставка невозможна.")}if(!o.type)return o.rect=t.rect,o.tuning.insideOnly="",e.toHist(t,"ctrl-V"),e.cellFromHist(t,o),setTimeout(function(){return t.setState({pont:"paste"})},1),void setTimeout(function(){return t.setState({pont:null})},500);var g=o.rect.width-t.rect.width,v=o.rect.height-t.rect.height;if(t.floating){var y=e.resizeFloat(t,g,v);if(y){e.toHist(t,"ctrl-V"),e.cellFromHist(t,o);for(var m in y)t.rect[m]=y[m];setTimeout(function(){return t.setState({pont:"paste"})},1),setTimeout(function(){return t.setState({pont:null})},500)}else t.doc.msg.ok("\nРазмер блока меньше допустимого.\nОтмените привязку к родительскому блоку и повторите вставку.","Вставить блок в ячейку|Вставка невозможна.")}else{if(g>0)return t.doc.msg.ok("\nРазмер ячеки меньше допустимого.\nРаздвиньте ячейку и повторите вставку.","Вставить блок в ячейку|Вставка невозможна.");var b=t;v>0&&(b=(0,l.recalcHeight)(t,o.rect.height)),e.toHist(t,"ctrl-V"),o.rect.top=t.rect.top,o.rect.left=t.rect.left,e.cellFromHist(t,o),b.pending=function(){return e.pasteItem2(t,g,v,b)},b.forceUpdate()}}},this.pasteItem2=function(t,n,r,o){var i=e.resizeFloat(t,-n,-Math.min(r,0));i&&(t.rect.width=i.width,t.rect.height=i.height),o.forceUpdate(),setTimeout(function(){return t.setState({pont:"paste"})},1),setTimeout(function(){return t.setState({pont:null})},500)},this.cmdUndo=function(){if(!e.cmdBusy&&e.peak){e.cmdBusy=!0,e.peak--,e.histArr[e.peak].typeHist.startsWith("new:")&&e.peak--;var t=e.fromHist();e.undoRedo(t)}},this.cmdRedo=function(){if(!(e.cmdBusy||e.peak>=e.histArr.length-1)){e.cmdBusy=!0,e.histArr[e.peak].typeHist.startsWith("old:")&&e.histArr[e.peak+1]&&e.histArr[e.peak+1].typeHist.startsWith("new:")&&e.peak++;var t=e.fromHist();e.undoRedo(t),e.peak++}},this.undoRedo=function(t){if(t){t.doc.showUndo=e.peak>0,t.doc.showRedo=e.peak<e.histArr.length-1,t.doc.toolbar.forceUpdate();var n=u.default.partition(e.histArr[e.peak].typeHist,":")[1],r=u.default.partition(n,"_")[1];r&&(t.rebuild=r),t.pending?setTimeout(function(){return e.cmdBusy=null},2e3):t.pending=function(){r&&(t.rebuild=r,t.forceUpdate()),setTimeout(function(){return e.cmdBusy=null},500)},t.setWrap()}},this.deleteItem=function(t,n){if(t.parent3T&&"m3t"===t.tuning.m3key&&!t.tuning.mmm){!n&&e.toHist(t.parent3T,"deleteItem_m3t"),e.delArrCells(t);for(var r in t.tuning)delete t.tuning[r];return t.tuning.m3key="m3empty",t.tuning.boxContent=0,void t.setWrap()}if(t.parent3M){var o=t.parentBox;!n&&e.toHist(o,"deleteItem_m3t"),e.delArrCells(t);var i=o.floatBoxes.indexOf(t);return delete o.boxes.splice(i,1)[0],delete o.floatBoxes.splice(i,1)[0],void o.setWrap()}(t.tuning.wall||"rooms"===t.tuning.mmm)&&(t=t.parentBox);var a=t.parentBox,s=a.parent3d?a.parent3T||a.parent3d:a;if(!n&&e.toHist(s,a.parent3d?"deleteItem_m3t":"deleteItem"),t.floating){var u=a.floatBoxes.indexOf(t);e.delArrCells(t),delete a.boxes.splice(u,1)[0],delete a.floatBoxes.splice(u,1)[0]}else{var c=a.cellsBoxes.indexOf(t);if(2===a.cells.length){var f=c?a.cellsBoxes[0]:a.cellsBoxes[1];if(f.parent3d){if(e.delArrCells(a),a===a.parent3d){a.parent3d=a.parent3T=null;for(var d in a.tuning)delete a.tuning[d]}}else{(0,l.recalcHeightInside)(f,a.rect.height),(0,l.recalcWidthInside)(f,a.rect.width);var p=JSON.stringify(e.copyBox(f,"ctrl-C"));e.delArrCells(a);var h=Object.assign({},a.rect);e.cellFromHist(a,JSON.parse(p));for(var g in h)a.rect[g]=h[g]}}else{var v=[t.rect.width,t.rect.height],y=v[0],m=v[1];e.delArrCells(t),delete a.cells.splice(c,1)[0],delete a.cellsBoxes.splice(c,1)[0],c&&c--,a.cellsBoxes[c].tempFlagForSetWH=1,(0,l.saveOldSize)(a),t.row?(0,l.getNewRect)(a,"row-"+c,0,m):(0,l.getNewRect)(a,"col-"+c,y,0)}}n||(s.parent3d&&(s.rebuild=1),s.setWrap())},this.doubleItem=function(t){var n=t.parentBox;e.toHist(n,"doubleItem",n.boxIndex);var r=JSON.stringify(e.copyBox(t,"ctrl-C")),o=Math.random();if(t.floating){var i={key:o,rect:{},tuning:{}};e.cellFromHist(i,JSON.parse(r)),i.rect.top+=10,i.rect.left+=10,n.boxes.push(i)}else{var a=n.cellsBoxes.indexOf(t),l={key:o,rect:Object.assign({},t.rect),
tuning:{}};e.cellFromHist(l,JSON.parse(r)),n.cells.splice(a+1,0,l),n.rect.height=n.cells.reduce(function(e,t){return t.rect.top=e,e+t.rect.height},0),n.recalcHeight=n.rect.height}n.boxKeyFocus=o,n.forceUpdate()},this.make3d=function(e){e.moveResize=null;var t=e.tuning;if(e.className="is3d",e.floating)return e.parent3d?t.is3dZ="cm"===e.parent3d.tuning.cm?50:500:(t.rotate3X=-30,t.rotate3Y=30,t.scale3d=t.scale2d||1,t.cm=t.cm2d||"cm",t.is3dZ="cm"===t.cm?50:500),delete t.scale2d,delete t.cm2d,t.wed=0,t.mmm="brick",t.bb3d=1,void(t.m3key="m3brick");t.m3key="m3t";var n=e.getFloat;if(e.parent3T!==n){n.className="m3table is3d";var r=n.tuning;r.mmm="m3table",r.bb3d=1,r.m3key="m3table",r.wed=0,e.parent3d?r.is3dZ="cm"===e.parent3d.tuning.cm?50:500:(r.scale3d=r.scale2d||1,r.cm=r.cm2d||"cm",r.is3dZ="cm"===r.cm?50:500,r.rotate3X=30,r.rotate3Y=30,delete r.scale2d,delete r.cm2d)}}};t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.renderLine=t.lineMouseDown=t.lineMouseMove=void 0;var o=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(1),a=r(i),l=(t.lineMouseMove=function(e,t,n,r){var i=e.tuning;if(!i.fixed){var a=o(e.xy,6),l=a[0],s=a[1],u=a[2],c=a[3],f=a[4],d=a[5],p=[e.parentBox.rect.width,e.parentBox.rect.height],h=p[0],g=p[1],v=function(e,t,n,r){e+=r,e<0?i[t]=0:e>n?i[t]=n:i[t]=e};switch(t.resizeID){case"line-c1":i.io?[0,2].includes(i.arrowType)?v(l,"x1",h,n):[1,3].includes(i.arrowType)?v(s,"y1",g,r):(v(l,"x1",h,n),v(s,"y1",g,r)):[0,2].includes(i.arrowType)?i.x1=l+n:[1,3].includes(i.arrowType)?i.y1=s+r:(i.x1=l+n,i.y1=s+r);break;case"line-c2":i.io?[0,2].includes(i.arrowType)?v(u,"x2",h,n):[1,3].includes(i.arrowType)?v(c,"y2",g,r):(v(u,"x2",h,n),v(c,"y2",g,r)):[0,2].includes(i.arrowType)?i.x2=u+n:[1,3].includes(i.arrowType)?i.y2=c+r:(i.x2=u+n,i.y2=c+r);break;case"line-c3":2===i.arrowType?(i.x3=f+n,f>l&&f+n<u+75&&(i.x3=l-75),f<l&&f+n>l-75&&(i.x3=u+75)):3===i.arrowType&&(i.y3=d+r,d>s&&d+r<s+75&&(i.y3=c-75),d<s&&d+r>c-75&&(i.y3=s+75));break;case"line-0":var y=[i.x1,i.y1,i.x2,i.y2],m=y[0],b=y[1],w=y[2],x=y[3];return i.io?(l+n<=0&&u>=l?(i.x2=u-l,i.x1=0):l+n>=h&&l>=u?(i.x2=h-l+u,i.x1=h):u+n<=0?(i.x1=l-u,i.x2=0):u+n>=h&&u>=l?(i.x1=h-u+l,i.x2=h):(i.x1=l+n,i.x2=u+n),s+r<=0&&c>=s?(i.y2=c-s,i.y1=0):s+r>=g&&s>=c?(i.y2=g-s+c,i.y1=g):c+r<=0?(i.y1=s-c,i.y2=0):c+r>=g&&c>=s?(i.y1=g-c+s,i.y2=g):(i.y1=s+r,i.y2=c+r)):(i.x1=l+n,i.x2=u+n,i.y1=s+r,i.y2=c+r),i.x3+=Math.max(i.x1-m,i.x2-w),void(i.y3+=Math.max(i.y1-b,i.y2-x))}["line-c1","line-c2"].includes(t.resizeID)&&(i.x3=f+n,i.y3=d+r,i.y3>i.y2&&i.y3-i.y1<70&&(i.y3=i.y1+70),i.y3<i.y1&&i.y2-i.y3<70&&(i.y3=i.y2-70),i.x3<i.x2&&i.x1-i.x3<70&&(i.x3=i.x1-70),i.x3>i.x1&&i.x3-i.x2<70&&(i.x3=i.x2+70))}},t.lineMouseDown=function(e,t,n,r){var o=e.tuning;switch(e.xy=[o.x1,o.y1,o.x2,o.y2,o.x3,o.y3],n){case"p1":e.mode="circ1";break;case"p2":e.mode="circ2";break;case"c1":e.mode="resize1",o.fixed||(t.mouseBox=e,t.client=[r.clientX,r.clientY],t.resizeID="line-c1");break;case"c2":e.mode="resize2",o.fixed||(t.mouseBox=e,t.client=[r.clientX,r.clientY],t.resizeID="line-c2");break;case"c3":e.mode="change3",o.fixed||(t.mouseBox=e,t.client=[r.clientX,r.clientY],t.resizeID="line-c3");break;case"text":e.mode="move",o.fixed||(t.mouseBox=e,t.client=[r.clientX,r.clientY],t.resizeID="line-0");break;default:return}e.setWrap()},function(e){var t=e.parentBox,n=[e.tuning,t.tuning],r=n[0],o=n[1],i=0,a=0;switch("borEQ"===o.border?i=a=o.borderWidth||0:"borNE"===o.border&&(i=o.borderLeftWidth||0,a=o.borderTopWidth||0),r.arrowType){case 4:r.x1=-i,r.x2=t.rect.width-i,r.y1=t.rect.height,r.y2=-a;break;case 0:case 2:r.x1=-i,r.x2=t.rect.width-i;break;case 1:case 3:r.y1=t.rect.height-a,r.y2=-a}r.y3>r.y2&&r.y3-r.y1<70&&(r.y3=r.y1+70),r.y3<r.y1&&r.y2-r.y3<70&&(r.y3=r.y2-70),r.x3<r.x2&&r.x1-r.x3<70&&(r.x3=r.x1-70),r.x3>r.x1&&r.x3-r.x2<70&&(r.x3=r.x2+70)});t.renderLine=function(e){var t=e.tuning;t.linked&&l(e);for(var n=(e.parent3d?e.parent3d.tuning.scale3d:e.parentBox.getFloat.tuning.scale2d)||1,r=["x1","y1","x2","y2","x3","y3"],i=0;i<r.length;i++){var s=r[i];t[s]=t[s]||0}var u=[t.x1,t.y1,t.x2,t.y2,t.x3,t.y3].map(function(e){return e*n}),c=o(u,6),f=c[0],d=c[1],p=c[2],h=c[3],g=c[4],v=c[5],y=void 0,m=void 0,b=void 0,w=void 0,x=void 0,_=void 0,S=t.len=Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1)),k=f<=p?Math.asin((t.y2-t.y1)/S):Math.acos((t.y2-t.y1)/S)+Math.PI/2,E=parseFloat(S).toFixed(1);E.endsWith(".0")&&(E=E.slice(0,-2)),S*=n;var C=9*E.length;e.wrap&&e.mode?(x="#00f",_="block"):(e.mode=null,x=t.stroke||"#000",_="none");var O=15,D="0,3      "+O+",0  "+O+",6",T=O+",3  0,0     0,6",N=void 0,M=void 0,I=void 0,B=void 0,P=void 0,A=void 0,R=void 0,F=void 0,L=void 0,j=void 0,z=void 0;if([0,1,4].includes(t.arrowType))L=f,j=d,P=S,I=N=0,B=M=S-O,A=-5,R=S-7,y=a.default.createElement("line",{x1:"2",y1:"0",x2:(S-C)/2,y2:"0",stroke:x,strokeWidth:"1"}),m=a.default.createElement("line",{x1:(S+C)/2,y1:"0",x2:S-2,y2:"0",stroke:x,strokeWidth:"1"}),z=a.default.createElement("div",{id:"line-text",className:"lineLength",style:{margin:"-10px auto 0",width:C,color:x}},E);else{var K=10,U=void 0,V=void 0;3===t.arrowType?(U=Math.max(O+K,v-d),V=Math.max(O+K,h-v),L=f,f=h,p=d,g=v,j=d+U):(U=Math.max(O+K,f-g),V=Math.max(O+K,g-p),L=f-U,j=d),P=S+U+V,B=N=P-V,I=M=U-O,A=U-6,R=B-5;var H=V>U?P-C-1-K:K,W=H+C;y=a.default.createElement("line",{x1:0,y1:"0",x2:H-1,y2:"0",stroke:x,strokeWidth:"1"}),m=a.default.createElement("line",{x1:W+1,y1:"0",x2:P,y2:"0",stroke:x,strokeWidth:"1"}),z=a.default.createElement("div",{id:"line-text",className:"lineLength",style:{marginLeft:H,width:C,color:x}},E),F=a.default.createElement("div",{id:"line-c3",className:"lineCirc3",style:{left:V>U?P-5:-5,display:_}})}return["circ1","resize1","move"].includes(e.mode)&&(b=a.default.createElement("div",{id:"line-c1",className:"lineLeftCirc",style:{left:A}})),["circ2","resize2","move"].includes(e.mode)&&(w=a.default.createElement("div",{id:"line-c2",className:"lineLeftCirc",style:{left:R}})),a.default.createElement("div",Object.assign({style:{zIndex:100,position:"absolute",left:L,top:j,width:P,height:1,transform:"rotate("+k+"rad)",transformOrigin:"top left"},key:e.boxIndex},e.mouse,{tabIndex:"1"}),a.default.createElement("svg",{style:{position:"absolute",width:P,height:1}},y,m),a.default.createElement("svg",{style:{position:"absolute",left:N,top:-3,width:O,height:6}},a.default.createElement("polygon",{points:D,fill:x})),a.default.createElement("div",{id:"line-p1",className:"polygon",style:{left:I,width:O}}),b,a.default.createElement("svg",{style:{position:"absolute",left:M,top:-3,width:O,height:6}},a.default.createElement("polygon",{points:T,fill:x})),a.default.createElement("div",{id:"line-p2",className:"polygon",style:{left:B,width:O}}),w,z,F)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),u=r(s),c=n(5),f=r(c),d=n(4),p=r(d),h=n(16),g=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.getValue=function(){return n.sel},n.getDom=function(){return n.dom.current},n.setValue=function(e){n.sel=parseInt(e||0,10),n.forceUpdate()},n.setFocus=function(e){return n.dom.current.focus()},n.changeDropList=function(e,t){n.items=[].concat(o(e)),n.sel=t||0,n.forceUpdate()},n.onclick=function(e,t){e.stopPropagation(),e.preventDefault(),n.sel=t,n.forceUpdate(),p.default.runCmd(n.props.doc,"recalcBand",t,n.props.xName),p.default.recalc(n,n.props.recalcText?n.items[t]:t)},n.render=function(){var e=void 0,t=n.props.itemStyle;if(n.props.rowLength){for(var r=[],o=n.props.rowLength,i=0,a=0;a<n.items.length/o;a++){r[a]=[];for(var l=function(e){var o=i;r[a][e]=!n.props.hideEmpty||n.items[o]?u.default.createElement("div",{className:i===n.sel?n.cnItem+" "+n.cnItem+"-sel":n.cnItem,style:Object.assign({},t),key:e,onClick:function(e){return n.onclick(e,o)}},n.items[o]):u.default.createElement("div",{key:e})},s=0;s<o&&i<n.items.length;s++,i++)l(s)}e=r.map(function(e,t){return u.default.createElement("div",{key:t,style:{display:"table-row"}},e)});var c=n.props.label?u.default.createElement("span",null,n.props.label):null;return u.default.createElement("div",Object.assign({tabIndex:"1",className:n.cn,ref:n.dom},p.default._on_(n.props),{style:Object.assign({},n.props.style)}),c,e)}return e=n.items.map(function(e,r){return u.default.createElement("div",{key:r,className:r===n.sel?n.cnItem+" "+n.cnItem+"-sel":n.cnItem,style:Object.assign({},t),onClick:function(e){return n.onclick(e,r)}},e)}),u.default.createElement("div",{className:n.cn,style:Object.assign({},n.props.style),ref:n.dom},e.length?e:null)},(0,f.default)(n);var r=void 0,l=!0,s=!1,c=void 0;try{for(var d,g=n.props.ls[Symbol.iterator]();!(l=(d=g.next()).done);l=!0){var v=d.value;"string"!=typeof v&&(r=!0)}}catch(e){s=!0,c=e}finally{try{!l&&g.return&&g.return()}finally{if(s)throw c}}return n.items=r?(0,h.boxing)(n.props.ls,n.props.doc,n.props.readOnly):n.props.ls,n.cn=n.props.className||"band",n.cnItem=n.cn+"Item",n.dom=u.default.createRef(),n.sel=parseInt(n.props.xValue||0,10),n}return l(t,e),t}(u.default.Component);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),u=r(s),c=n(5),f=r(c),d=n(4),p=r(d),h=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getDom=function(){return n.dom.current},n.setFocus=function(e){n.setState({focusOn:!0}),n.dom.current.focus()},n.setStyle=function(e){return n.newStyle=Object.assign({},e)},n.onclick=function(e){p.default.runCmd(n.props.doc,n.props.cmd,n.props.param,e.ctrlKey),e.stopPropagation(),e.preventDefault()},(0,f.default)(n),n.state={focusOn:!1},n.dom=u.default.createRef(),n}return a(t,e),l(t,[{key:"render",value:function(){var e=this,t=void 0;this.props.label.includes("\n")?(t=[],this.props.label.split("\n").forEach(function(n,r){r?"p"===e.props.br?t.push(u.default.createElement("span",{key:r},u.default.createElement("p",{style:{textIndent:20}},n))):t.push(u.default.createElement("span",{key:r},u.default.createElement("br",null),n)):t.push(e.props.s2?u.default.createElement("span",{key:r},u.default.createElement("b",null,n)):u.default.createElement("span",{key:r},n))})):t=this.props.s2?u.default.createElement("b",null,this.props.label,"l"):this.props.label,t=t.length?t:null;var n=Object.assign({},this.props.style,this.newStyle,{cursor:"pointer"});return u.default.createElement("div",{style:n,tabIndex:"1",className:this.props.className||"rsvTop",onClick:this.onclick,ref:this.dom,title:this.props.title},t,this.props.children)}}]),t}(u.default.Component);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),u=r(s),c=n(5),f=r(c),d=n(4),p=r(d),h=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));(0,f.default)(n);var r=parseInt(n.props.dayX,10)||29;return n.dayX=new Date(+new Date+864e5*r),n}return a(t,e),l(t,[{key:"getStrDate",value:function(e){return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)}},{key:"changeCurDate",value:function(e,t,n){this.props.cur.setFullYear(this.props.cur.getFullYear()+e,this.props.cur.getMonth()+t,this.props.cur.getDate()+n),this.forceUpdate()}},{key:"compareDates",value:function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}},{key:"keyHandler",value:function(e){if(!e.altKey&&!e.ctrlKey){if(13===e.keyCode)return this.props.setDate(this.getStrDate(this.props.cur),e);if(27===e.keyCode)return this.props.setDate(0,e);switch(e.keyCode){case 37:this.changeCurDate(0,0,-1);break;case 38:this.changeCurDate(0,0,-7);break;case 39:this.changeCurDate(0,0,1);break;case 40:this.changeCurDate(0,0,7);break;case 33:this.changeCurDate(0,-1,0);break;case 34:this.changeCurDate(0,1,0);break;case 36:this.props.cur.setFullYear(this.props.cur.getFullYear(),this.props.cur.getMonth(),1),this.forceUpdate();break;case 35:this.props.cur.setFullYear(this.props.cur.getFullYear(),this.props.cur.getMonth()+1,1),this.changeCurDate(0,0,-1);break;case 32:this.props.cur.setTime(+new Date),this.forceUpdate()}e.stopPropagation(),e.preventDefault()}}},{key:"render",value:function(){for(var e=this,t=new Date,n="Январь Февраль Март Апрель Май Июнь Июль Август Сентябрь Октябрь Ноябрь Декабрь".split(" "),r="пн вт ср чт пт сб вс".split(" ").map(function(e,t){return u.default.createElement("div",{className:t<5?"c_day_name":"c_day_name_wknd",key:e},e)}),o=[],i=[],a=[],l=0;l<3;l++){o[l]=new Date(this.props.cur.getFullYear(),this.props.cur.getMonth()+l-1,1),i[l]=o[l].getMonth(),a[l]=[];for(var s=0;s<6;s++){for(var c=[],f="mw"+l+"_"+s+"_",d=function(n){var r=0===o[l].getDay()?6:o[l].getDay()-1,a=new Date(o[l].getFullYear(),i[l],1-r+7*s+n);if(a.getMonth()===i[l]){var d=n>4?"c_day c_day_wknd":"c_day";e.compareDates(a,t)&&(d+=" c_today"),e.compareDates(a,e.props.cur)&&(d+=" c_cur"),e.compareDates(a,e.dayX)&&(d+=" c_dayx"),c[n]=u.default.createElement("div",{className:d,key:f+n,onClick:function(t){return e.props.setDate(e.getStrDate(a),t)}},""+a.getDate())}else c[n]=u.default.createElement("div",{className:"c_empty",key:f+n}," ")},h=0;h<7;h++)d(h);a[l][s]=u.default.createElement("div",{className:"week",key:f},c)}}return this.props.m1||p.default.anyMobile?u.default.createElement("div",{className:"glass"},u.default.createElement("div",{className:"calendar1m",style:this.props.leftTop,ref:function(e){return e&&e.focus()},tabIndex:"0",onKeyDown:this.keyHandler,onBlur:function(t){return e.props.setDate(0,t)}},u.default.createElement("div",{className:"month"},u.default.createElement("div",{className:"c_month"},n[i[1]]+" "+o[1].getFullYear()),u.default.createElement("div",{className:"week"},r),a[1]),u.default.createElement("div",{className:"c_arr c_left_arr",onClick:function(){e.changeCurDate(0,-1,0)}},"◄"),u.default.createElement("div",{className:"c_arr c_right_arr",onClick:function(){e.changeCurDate(0,1,0)}},"►"))):u.default.createElement("div",{className:"glass"},u.default.createElement("div",{className:"calendar",style:this.props.leftTop,ref:function(e){return e&&e.focus()},tabIndex:"0",onKeyDown:this.keyHandler,onBlur:function(t){return e.props.setDate(0,t)}},u.default.createElement("div",{className:"quarter"},u.default.createElement("div",{className:"month"},u.default.createElement("div",null,n[i[0]]+" "+o[0].getFullYear()),u.default.createElement("div",{className:"week"},r),a[0]),u.default.createElement("div",{className:"month"},u.default.createElement("div",{className:"c_month"},n[i[1]]+" "+o[1].getFullYear()),u.default.createElement("div",{className:"week"},r),a[1]),u.default.createElement("div",{className:"month"},u.default.createElement("div",{className:"c_month"},n[i[2]]+" "+o[2].getFullYear()),u.default.createElement("div",{className:"week"},r),a[2])),u.default.createElement("div",{className:"c_arr c_left_arr",onClick:function(){e.changeCurDate(0,-1,0)}},"◄"),u.default.createElement("div",{className:"c_arr c_right_arr",onClick:function(){e.changeCurDate(0,1,0)}},"►"),u.default.createElement("div",{className:"c_help"},"PgUp, PgDown - изменить месяц   Home, End - начало, конец месяца",u.default.createElement("br",null),"Пробел - найти сегодня   Enter - выбрать дату     "),u.default.createElement("div",{className:"c_arr c_down_arr",onClick:function(){e.changeCurDate(-1,0,0)}}," ◄ год "),u.default.createElement("div",{className:"c_arr c_up_arr",onClick:function(){e.changeCurDate(1,0,0)}}," год ► ")))}}]),t}(u.default.Component);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Checkbox3=t.Checkbox=void 0;var l=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),f=n(5),d=r(f),p=n(4),h=r(p);t.Checkbox=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.getDom=function(){return n.dom.current},n.getValue=function(){return n.isChecked?n.value:0},n.setValue=function(e){h.default.recalc(n,e?n.value:0,!0),n.isChecked=!!e,n.forceUpdate()},n.onchange=function(e){h.default.recalc(n,n.isChecked?0:n.value),n.isChecked=!n.isChecked,n.forceUpdate()},(0,d.default)(n),n.isChecked=!!n.props.xValue,n.dom=c.default.createRef(),n.cName=n.props.classic?"":"checkbox";var r=h.default.partition(n.props.ls[0]||"","|"),a=l(r,2);return n.label=a[0],n.value=a[1],n.value=n.value||1,n}return a(t,e),s(t,[{key:"render",value:function(){return this.props.char?c.default.createElement("span",{onClick:this.onchange,className:this.props.className,style:Object.assign({},this.props.style,{cursor:"pointer"}),title:this.props.title,ref:this.dom},this.isChecked?this.label:this.props.ls[1]||"-"):c.default.createElement("div",{className:this.props.className,style:Object.assign({margin:"5px 0",height:20},this.props.style),title:this.props.title,ref:this.dom},c.default.createElement("input",{className:this.cName,style:{cursor:"pointer"},type:"checkbox",id:this.props.xName,checked:this.isChecked,disabled:this.props.readOnly,onChange:this.onchange}),c.default.createElement("label",{onClick:this.onchange,style:{paddingTop:3,cursor:"pointer",font:"bold 12px Arial"}},this.label))}}]),t}(c.default.Component),t.Checkbox3=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.getValue=function(e){return n.value>0?n.valR:n.value?n.valL:""},n.setValue=function(e){var t=e===n.valL?-1:e===n.valR?1:0;n.value=t,h.default.recalc(n,t>0?n.valR:t||n.props.noEmpty?n.valL:"",!0),n.forceUpdate()},n.onclick=function(e,t){if(e.stopPropagation(),e.preventDefault(),!n.props.readOnly){var r=t===n.value?-t:t;h.default.recalc(n,r<0?n.valL:n.valR),n.value=r,n.forceUpdate()}},n.setEmpty=function(e){n.props.noEmpty||n.props.readOnly||(h.default.recalc(n,""),n.value=0,n.forceUpdate())},(0,d.default)(n);var r=h.default.partition(n.props.ls[0],"|",!0),a=l(r,2);n.labL=a[0],n.valL=a[1];var s=h.default.partition(n.props.ls[1],"|",!0),u=l(s,2);return n.labR=u[0],n.valR=u[1],n.valL=n.valL||n.labL,n.valR=n.valR||n.labR,n.props.xValue===n.valL?n.value=-1:n.props.xValue===n.valR?n.value=1:n.value=0,n}return a(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.value<0?"chb3a":"chb3b",n=this.value>0?"chb3a":"chb3b",r=this.value?"chb3bc":"chb3ac";return c.default.createElement("div",{className:this.props.className||"chb3",style:Object.assign({},this.props.style)},c.default.createElement("div",{onClick:function(t){return e.onclick(t,-1)},title:this.props.title1},c.default.createElement("div",{className:t,style:{textAlign:"right"}}," "+this.labL+" ",c.default.createElement("div",{style:{float:"right"}},"|"))),c.default.createElement("div",{style:{width:20},onClick:this.setEmpty},c.default.createElement("div",{className:r,style:this.props.noEmpty?{background:"#f4f4f4"}:{}}," ")),c.default.createElement("div",{onClick:function(t){return e.onclick(t,1)},title:this.props.title2},c.default.createElement("div",{className:n,style:{textAlign:"left"}},c.default.createElement("div",{style:{float:"left"}},"|")," "+this.labR+" ")))}}]),t}(c.default.Component)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),u=r(s),c=n(5),f=r(c),d=n(39),p=r(d),h=n(104),g=r(h),v=n(4),y=r(v),m=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getDom=function(){return n.dom.current},n.setValue=function(e,t){n.m1=t,n.iniDP(e),n.forceUpdate()},n.getValue=function(e){return e?n.dd?n.dd+"."+n.mm+"."+n.styy+n.yy:"":n.dd?n.styy+n.yy+"-"+n.mm+"-"+n.dd:""},n.setFocus=function(e){n.setState({focusOn:!0}),n.dde.focus()},(0,f.default)(n),n.state={focusOn:!1,calendar:!1},n.m1=n.props.m1,n.iniDP(n.props.xValue),n.dom=u.default.createRef(),n}return a(t,e),l(t,[{key:"iniDP",value:function(e){if(e)if("string"==typeof e)this.setDate(e);else{var t=e.getUTCFullYear()+"-",n=e.getUTCMonth()+1;t+=(n<10?"0"+n:n)+"-",n=e.getUTCDate(),t+=(n<10?"0"+n:n)+"-",this.setDate(t)}else this.dd="",this.mm="",this.yy="",this.styy="20";this.waitDigit=0,this.oneDigit=!1}},{key:"setDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t&&(t.stopPropagation(),t.preventDefault());var n=!1;if(e){var r=void 0,o=void 0,i=void 0,a=void 0;try{var l=e.trim();if("."===l.slice(2,3))r=l.slice(0,2),o=l.slice(3,5),i=l.slice(8,10),a=l.slice(6,8);else{if("-"!==l.slice(4,5))return this.state.calendar&&(this.setState({calendar:!1}),this.yye.focus()),!1;r=l.slice(8,10),o=l.slice(5,7),i=l.slice(2,4),a=l.slice(0,2)}var s=new Date(parseInt(a+i,10),parseInt(o,10)-1,parseInt(r,10));n=s.getMonth()===parseInt(o,10)-1&&s.getDate()===parseInt(r,10)&&s.getFullYear()===parseInt(a+i,10),n&&(this.dd=r,this.mm=o,this.yy=i,this.styy=a)}catch(e){}}else n=!0;return this.state.calendar&&(this.setState({calendar:!1}),this.yye.focus()),n}},{key:"checkDT",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!0;if(this.dd){var n=new Date;this.mm||(this.mm=("0"+(n.getMonth()+1).toString()).slice(-2)),this.yy||(this.yy=n.getFullYear().toString().slice(-2),this.styy="20");var r=new Date(this.styy+this.yy,parseInt(this.mm,10)-1,this.dd);t=r.getMonth()===parseInt(this.mm,10)-1&&r.getDate()===parseInt(this.dd,10)}else this.mm="",this.yy="";return t||this.audioTuk(),e&&(e.stopPropagation(),e.preventDefault()),this.forceUpdate(),t}},{key:"dtpFocus",value:function(e){e.stopPropagation(),e.preventDefault(),this.setState({focusOn:!0});var t=e.target;setTimeout(function(){t.selectionStart=0},10),setTimeout(function(){t.selectionEnd=0},10),this.waitDigit=0,this.oneDigit=!1}},{key:"dtpBlur",value:function(e){var t=this;if(this.setState({focusOn:!1}),!this.checkDT(e)&&!this.state.calendar){var n=e.target;setTimeout(function(){!t.state.focusOn&&n.focus()},50)}}},{key:"dtpPaste",value:function(e){try{this.setDate(e.clipboardData.getData("text/plain"))||this.audioTuk()}catch(e){this.audioTuk()}this.checkDT(e)}},{key:"audioTuk",value:function(){var e=this;this.oneDigit||(this.setState({red:!0}),setTimeout(function(){e.setState({red:!1})},500),this.props.doc.audiotuk&&(this.props.doc.audiotuk.pause(),this.props.doc.audiotuk.currentTime=0,this.props.doc.audiotuk.play()))}},{key:"toField",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t?e===this.dde?this.mme.focus():e===this.mme&&this.yye.focus():e===this.yye?this.mme.focus():e===this.mme&&this.dde.focus()}},{key:"dtpKeyDown",value:function(e){var t=e.keyCode;if(e.ctrlKey||e.altKey&&40!==t)return void(this.checkDT()||(e.stopPropagation(),e.preventDefault()));var n=y.default.upDown(e,this.props.doc,this.props.xName,!0);if("up"===n)return this.props.doc.setFocus(this.props.myRow-1);if("down"===n)return this.props.doc.setFocus(this.props.myRow+1);if(t>=96&&t<=105)return this.kbIsDigit(t-48,e);if(t>=48&&t<=57)return e.altKey?this.checkDT(e):this.kbIsDigit(t,e);if(this.waitDigit=0,40===t||13===t)return this.checkDT(e),this.setState({calendar:!0});switch(t){case 8:case 46:if(e.target===this.dde)return this.dd="",this.checkDT(e);break;case 229:case 32:if(e.target===this.dde)return this.dd=("0"+(new Date).getDate().toString()).slice(-2),this.mm="",this.yy="",this.checkDT(e);break;case 110:case 111:case 190:case 191:this.oneDigit&&this.toField(e.target);break;case 37:e.target!==this.dde&&this.toField(e.target,!1);break;case 39:e.target!==this.yye&&this.toField(e.target);break;case 9:if(this.checkDT())return;break;case 27:if(this.checkDT())return;break;case 86:if(e.ctrlKey)return;break;case 45:if(e.shiftKey)return}e.stopPropagation(),e.preventDefault()}},{key:"kbIsDigit",value:function(e,t){var n=this,r=t.target;if(!this.dd&&r!==this.dde)return this.checkDT(t);var o=String.fromCharCode(e);if(r===this.yye)return 0===this.waitDigit?(this.waitDigit=1,this.yy="0"+o,setTimeout(function(){1===n.waitDigit&&(n.waitDigit=0)},1e3)):1===this.waitDigit?(this.waitDigit=2,this.yy=this.yy[1]+o,setTimeout(function(){2===n.waitDigit&&(n.waitDigit=0,n.yy>"32"&&"20"===n.styy&&(n.styy="19",n.forceUpdate()))},1e3)):2===this.waitDigit?(this.waitDigit=3,this.styy=this.yy,this.yy="0"+o,setTimeout(function(){n.waitDigit=0},1e3)):3===this.waitDigit&&(this.yy=this.yy[1]+o,this.waitDigit=0),this.checkDT(t);var i=void 0,a=void 0,l=void 0,s=parseInt(o,10);if(r===this.dde?(i=3,a=31,l=this.dd):(i=1,a=12,l=this.mm),this.waitDigit){var u=10*parseInt(l,10)+s;0===u||u>a?this.audioTuk():(r===this.dde?this.dd=(u>9?"":"0")+u.toString():this.mm=(u>9?"":"0")+u.toString(),this.toField(r))}else this.oneDigit=!0,r===this.dde?this.dd="0"+o:this.mm="0"+o,s>i?this.toField(r):(this.waitDigit=11,setTimeout(function(){11===n.waitDigit&&(n.waitDigit=0)},1e3));this.checkDT(t)}},{key:"render",value:function(){var e=this,t={className:"dd",autoComplete:"off",type:"text",onFocus:this.dtpFocus,onBlur:this.dtpBlur,onPaste:this.dtpPaste,onKeyDown:this.dtpKeyDown,onChange:function(){}},n=this.state.red?"#FFA07A":this.state.calendar?"#A0FF7A":this.state.focusOn?"#f4fdff":"white",r=null;if(this.state.calendar){var o=this.calendarDiv.getBoundingClientRect(),i=Math.round(o.top),a=Math.round(o.left),l=window.innerHeight,s=window.innerWidth;i=l-i>255?i+23:Math.max(i-225,5),a=this.m1||y.default.anyMobile?a-40:a<280?10:s-a>345?a-225:Math.max(s-575,10),r=u.default.createElement(g.default,{dayX:this.props.dayX,m1:this.m1,leftTop:{marginLeft:a,marginTop:i},setDate:function(t,n){return e.setDate(t,n)},cur:this.dd&&this.mm&&this.yy?new Date(parseInt(this.styy+this.yy,10),parseInt(this.mm,10)-1,parseInt(this.dd,10)):new Date})}return this.props.readOnly?u.default.createElement(p.default,{xValue:this.getValue(!0),readOnly:!0,style:Object.assign({},this.props.style)}):u.default.createElement("div",{style:Object.assign({width:85},this.props.style,{background:n}),ref:this.dom,className:(this.props.className||"tta")+(this.state.focusOn?" on-focus":"")},u.default.createElement("div",{className:"datePicker",title:"Для вызова календаря нажмите 'стрелку-вниз' на клавиатуре или пиктограмму мышкой",ref:function(t){return e.calendarDiv=t}},u.default.createElement("input",Object.assign({tabIndex:"0"},t,{placeholder:"дд",value:this.dd,ref:function(t){return e.dde=t}})),u.default.createElement("span",{onClick:function(){return e.dde&&e.dde.focus()}},"."),u.default.createElement("input",Object.assign({tabIndex:-1},t,{placeholder:"мм",value:this.mm,ref:function(t){return e.mme=t}})),u.default.createElement("span",{onClick:function(){return e.mme&&e.mme.focus()}},"."),u.default.createElement("span",{onClick:function(){return e.yye&&e.yye.focus()},className:"styy",style:this.yy?{color:"black"}:{}},this.styy),u.default.createElement("input",Object.assign({tabIndex:-1},t,{placeholder:"гг",value:this.yy,ref:function(t){return e.yye=t}})),u.default.createElement("span",{onClick:function(){return e.yye&&e.yye.focus()}}," "),u.default.createElement("div",{className:"dtp",onClick:function(){return e.setState({calendar:!0})}},u.default.createElement("div",{className:"dtp1"}),u.default.createElement("div",{className:"dtp2"
},("0"+(new Date).getDate().toString()).slice(-2))),r))}}]),t}(u.default.Component);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),u=r(s),c=n(5),f=r(c),d=n(108),p=r(d),h=n(4),g=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.initialize=function(e){n.init(),n.forceUpdate()},n.inputFile=function(){return!n.props.readOnly&&n.btnFile.click()},(0,f.default)(n),n.labelBlank="поле для присоединенных файлов",n.nDescr=0,n.fileArr=[],n.filter=n.props.xName,n.init(),n.state={runUpload:!1},n}return a(t,e),l(t,[{key:"init",value:function(){for(var e=0;e<this.fileArr.length;e++)delete this.fileArr[e];this.fileArr=[];var t=[];for(var n in this.props.doc.fieldValues)if(n.startsWith(this.filter)){var r=this.props.doc.fieldValues[n].split("|");6===r.length?t.push(r[5].split("_")[0]+n+"|"+n):console.warn("FileShow.js: недействительная структура поля:",n,this.props.doc.fieldValues[n])}var o=!0,i=!1,a=void 0;try{for(var l,s=t.sort()[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var u=l.value,c=u.split("|")[1];this.fileArr.push({key:this.filter+this.nDescr++,xName:c,oldValue:this.props.doc.fieldValues[c],newValue:this.props.doc.fieldValues[c]})}}catch(e){i=!0,a=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw a}}}},{key:"addFiles",value:function(e){var t=e.dataTransfer?e.dataTransfer.files:e.target.files;if(t&&!this.props.readOnly){if(!t[0].size)return this.props.doc.msg.box("Нельзя присоединить файл нулевой длины");var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value,s=this.filter+this.nDescr++;this.fileArr.push({key:s,xName:s,fileObject:l})}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}this.forceUpdate()}}},{key:"delFile",value:function(e){if(!this.props.readOnly){var t=!0,n=!1,r=void 0;try{for(var o,i=this.fileArr[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e===a.xName&&(a.del=!0,a.fileObject&&(delete a.fileObject,a.fileObject=null))}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}this.forceUpdate()}}},{key:"getNewValues",value:function(e){var t="",n=!0,r=!1,o=void 0;try{for(var i,a=this.fileArr[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;l.del?l.oldValue&&(t+=h.Util.addJson(l.xName,l.oldValue,"")):!l.oldValue&&l.newValue?t+=h.Util.addJson(l.xName,"",l.newValue):l.fileObject&&!e&&(t+=h.Util.addJson(l.xName,"",'Файл "'+l.fileObject.name+'" не сохранен'))}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return t}},{key:"hasAtt",value:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var o,i=this.fileArr[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;a.del||(a.fileObject?e.push(a.fileObject.name):e.push(a.oldValue.split("|")[2]))}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}if(e.length)return e.join("\n")}},{key:"startUpload",value:function(){if(this.run=!1,this.uploadError=!1,!this.props.readOnly){if(this.state.runUpload)return void(this.run=!0);for(var e=0;e<this.fileArr.length;e++)this.fileArr[e].fileObject&&!this.fileArr[e].del&&(this.run=!0);this.run&&this.setState({runUpload:!0})}}},{key:"uploadDone",value:function(e,t,n,r){if(r)this.uploadError=!0,this.setState({runUpload:!1}),this.run=!1,this.props.uploadDone(),this.props.doc.msg.error("Ошибка при отправке файла на сервер:\n\n"+r);else{var o=!0,i=!1,a=void 0;try{for(var l,s=this.fileArr[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var u=l.value;e===u.xName&&(u.xName=t,u.newValue=n,delete u.fileObject,u.fileObject=null)}}catch(e){i=!0,a=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw a}}}var c=!1,f=!0,d=!1,p=void 0;try{for(var h,g=this.fileArr[Symbol.iterator]();!(f=(h=g.next()).done);f=!0){var v=h.value;v.fileObject&&!v.fileObject.filineErr&&(c=!0,this.forceUpdate())}}catch(e){d=!0,p=e}finally{try{!f&&g.return&&g.return()}finally{if(d)throw p}}c||(this.setState({runUpload:!1}),this.run=!1,this.props.uploadDone())}},{key:"render",value:function(){var e=this,t=this.fileArr.map(function(t){return t.del?null:u.default.createElement(p.default,{key:t.key,xName:t.xName,xValue:t.newValue,fileObject:t.fileObject,dbAlias:e.props.doc.dbAlias,unid:e.props.doc.unid,docRef:e.props.doc.getField("ref")||null,delFile:e.delFile,runUpload:e.state.runUpload,uploadDone:e.uploadDone,filter:e.filter,readOnly:e.props.readOnly,doc:e.props.doc})}).filter(function(e){return e}),n=this.props.ttaFileShow||"tta"+(this.props.readOnly?" read-only":"");return u.default.createElement("div",{className:this.props.className,style:Object.assign({},this.props.style)},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:this.props.readOnly?"label":"fileLabel",style:{minWidth:this.props.wl||0,width:this.props.wl||"auto",padding:"2px 3px 8px 0"}},u.default.createElement("input",{type:"file",multiple:!0,onChange:this.addFiles,style:{display:"none"},ref:function(t){return e.btnFile=t}}),u.default.createElement("span",{onClick:this.inputFile,style:{cursor:this.props.readOnly?"default":"pointer"}},this.props.label)),u.default.createElement("div",{className:n},t.length?t:u.default.createElement("div",{className:"filine-blank"},this.labelBlank))))}}]),t}(u.default.Component);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),f=n(5),d=r(f),p=n(36),h=r(p),g=n(4),v=r(g),y=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.delFile=function(e){return n.props.delFile(n.props.xName)},n.notLook=function(){return[".doc",".docx",".xls",".xlsx",".tiff",".zip",".7z"].some(function(e){return n.href.includes(e)})},n.onload=function(e){var t=n.props.doc.mainDoc.sovaPagesByName[n.pageName],r=t&&t.doc;r&&(r.iframe=n.iframe&&n.iframe.current,r.waitLoad&&(r.waitLoad=!1,r.setState({spinner:!1})))},n.onkeydown=function(e){return e.ctrlKey&&"ArrowRight"===e.key?n.setRate(n.rate+.1):e.ctrlKey&&"ArrowLeft"===e.key?n.setRate(n.rate-.1):void 0},n.setRate=function(e){n.rate=parseFloat(e.toFixed(1)),n.rate<.1&&(n.rate=.1),n.rate>3&&(n.rate=3),n.audio.playbackRate=n.rate,n.forceUpdate()},(0,d.default)(n),n.state={audio:!1,runUpload:!1},n.rate=1,n.progress=null,n.invalid=!1,n.iframe=(0,u.createRef)();try{if(!n.props.xName)return i(n);if(n.props.fileObject)n.f_name=n.props.fileObject.name,n.f_type=n.props.fileObject.type,n.f_size=n.props.fileObject.size,n.f_date_db="",n.f_date_crt=v.default.formatDateTime(new Date(n.props.fileObject.lastModified)),!n.f_type&&n.f_name.endsWith(".7z")&&(n.f_type="application/x-zip-compressed"),n.href="";else{var r=void 0,a=n.props.xValue.split("|"),s=l(a,6);n.f_store=s[0],n.f_zip=s[1],n.f_name=s[2],n.f_type=s[3],n.f_size=s[4],r=s[5],n.pageName=n.f_name;var c=v.default.partition(r,"_"),f=l(c,2);n.f_date_db=f[0],n.f_date_crt=f[1],n.f_date_crt=n.f_date_crt||n.f_date_db,n.makeHref()}}catch(e){console.warn("Filine.js:",e.message),n.invalid=!0}return n}return a(t,e),s(t,[{key:"openFile",value:function(e){var t=this;if(e.stopPropagation(),e.preventDefault(),this.notLook())return v.default.xopen(this.href);var n=v.default.getRect(this.props.doc,948,600),r={iframeUrl:this.href,resize:!0,max:!0,print:!0,pageName:this.pageName,title:"Просмотр вложения "+this.f_name,frameStyle:Object.assign({},n),fieldValues:{Q:"q"}};if([".jpg",".jpeg",".png",".gif"].some(function(e){return t.href.toLowerCase().includes(e)})){var o='<html><body style="margin:2px; text-align: center"><img src="'+this.href+'" width="100%" alt="alt"></body></html>';r.children=[{_teg:"iframe",attributes:{ref:this.iframe,onLoad:this.onload,srcDoc:o,width:"100%",style:{height:n.height-33}}}]}else r.children=[{_teg:"iframe",attributes:{ref:this.iframe,onLoad:this.onload,src:this.href+"&utf=1",width:"100%",style:{height:n.height-33}}}];v.default.addChildPage(this.props.doc.mainDoc,r)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){!e.runUpload&&this.progress&&(delete this.progress,this.progress=null),this.setState({audio:this.state.audio,runUpload:!!e.fileObject&&e.runUpload})}},{key:"UNSAFE_componentWillUpdate",value:function(e,t){if(!this.state.runUpload&&t.runUpload){var n=new FormData;n.append("attachment",this.props.fileObject);var r=["upload?dbAlias="+this.props.dbAlias,"size="+this.f_size,"date_crt="+this.f_date_crt,"unid="+(this.props.docRef||this.props.unid)].join("&");this.props.fileObject.filineErr=null,this.runXHR(r,n)}}},{key:"render",value:function(){var e=this;if(this.state.invalid)return c.default.createElement("div",{className:"filine-blank"},"invalid field: "+this.props.xName);var t=["9.5cm","1.7cm","4.5cm","0.85cm"],n=null,r=void 0,o=void 0;if(this.props.fileObject)r=this.f_name,o=this.state.runUpload?c.default.createElement("div",{style:{width:t[2]}},c.default.createElement("progress",{value:"0",max:"1",style:{width:t[2]},ref:function(t){return e.progress=t}})):c.default.createElement("div",{style:{width:t[2]},title:"Файл не сохранен в базе"},v.default.dtRus(this.f_date_crt));else{var i="Записано в базу "+v.default.dtRus(this.f_date_db);if(r=this.state.audio?c.default.createElement("audio",{controls:"controls",autoPlay:"autoplay",src:this.href,ref:function(t){return e.audio=t}}):c.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.href,title:"Открыть файл по ссылке. Для сохранения файла на диск нажмите правую кнопку мыши и выберите 'Сохранить как...'"},this.f_name),this.f_type.includes("audio"))n=this.state.audio?c.default.createElement("div",{style:{width:t[2],textAlign:"center"}},c.default.createElement("div",{style:{fontWeight:"bold",cursor:"pointer",marginBottom:5},onClick:function(){return e.setState({audio:!1})}},"остановить"),c.default.createElement("div",null,"скорость ",this.rate),c.default.createElement(h.default,{doc:this.props.doc,axis:"x",xmin:.1,xmax:3.1,xstep:.1,x:this.rate,onChange:function(t){var n=t.x;return e.setRate(n)}})):c.default.createElement("div",{style:{width:t[2],textAlign:"center",cursor:"pointer"},title:i,onClick:function(){return e.setState({audio:!0})}},"прослушать запись",c.default.createElement("br",null),v.default.dtRus(this.f_date_crt)),o=c.default.createElement("div",{onKeyDown:this.onkeydown,tabIndex:"1",style:{color:"green"}},n);else{var a=this.notLook()?["сохранить на диск","скачать"]:["Открыть для просмотра или печати","быстрый просмотр"];n=c.default.createElement("span",{style:{color:"blue",cursor:"pointer"},onClick:this.openFile,title:a[0]},a[1],c.default.createElement("br",null)),o=c.default.createElement("div",{style:{width:t[2],textAlign:"center"},title:i},n,v.default.dtRus(this.f_date_crt))}}return c.default.createElement("div",{className:"filine"},c.default.createElement("div",{style:{width:t[0]}},r),c.default.createElement("div",{style:{width:t[1]}},this.f_size),o,c.default.createElement("span",{onClick:this.delFile,style:{width:t[3],display:this.props.readOnly||this.state.runUpload||this.state.audio?"none":"table-cell"},title:"Удалить вложение"},"×"))}},{key:"runXHR",value:function(e,t){var n=this,r=new XMLHttpRequest;r.open("post",e,!0),r.withCredentials=!0,r.addEventListener("load",function(){200===r.status?n.uploadSuccess(r.responseText):n.uploadError(r.status+" "+r.responseText)}),r.addEventListener("error",function(e){return n.uploadError(e.message||e)}),r.upload.addEventListener("progress",function(e){n.progress&&(n.progress.value=e.loaded,n.progress.max=e.total)}),r.send(t)}},{key:"uploadSuccess",value:function(e){try{var t=e.split("&"),n=this.props.filter+t[0];this.f_store=t[1],this.f_date_db=t[2],this.f_zip=t[3]+(1===t[3].length&&this.props.docRef?"R":""),this.makeHref(t[0]),this.setState({runUpload:!1});var r=[this.f_store,this.f_zip,this.f_name,this.f_type,this.f_size,this.f_date_db].join("|");this.props.uploadDone(this.props.xName,n,r)}catch(e){console.log("Filine.js: invalid responseText of xhr",e.message),this.uploadError("uploadSuccess - exception after upload")}}},{key:"makeHref",value:function(e){this.href=["download/"+this.f_name+"?dbAlias="+this.props.dbAlias,"unid="+this.props.unid,"idbl="+(e||this.props.xName.split("_")[1]),"f_store="+this.f_store,"fzip="+this.f_zip,"mimetype="+this.f_type,"length="+this.f_size].join("&")}},{key:"uploadError",value:function(e){this.props.fileObject.filineErr=e||"error",this.setState({runUpload:!1}),this.props.uploadDone(this.props.xName,"","",e),console.log("uploadError:",e)}}]),t}(c.default.Component);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),u=r(s),c=n(4),f=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setValue=function(e){return n.setState({text:e||""})},n.getValue=function(e){return n.state.text},n.getDom=function(){return n.dom.current},n.state={text:n.props.xValue||""},n.dom=u.default.createRef(),n}return a(t,e),l(t,[{key:"render",value:function(){return u.default.createElement("span",Object.assign({title:this.props.title,style:Object.assign({},this.props.style),className:this.props.className,ref:this.dom},c.Util._on_(this.props)),c.Util.splitText(this.state.text,this.props))}}]),t}(u.default.Component);t.default=f},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(t.rgb2hsv=function(e,t,n){var r,o,i,a=Math.max(e,t,n),l=Math.min(e,t,n),s=a-l;return r=0===s?0:e===a?(t-n)/s%6:t===a?(n-e)/s+2:(e-t)/s+4,r=Math.round(60*r),r<0&&(r+=360),o=Math.round(100*(0===a?0:s/a)),i=Math.round(a/255*100),{h:r,s:o,v:i}},function(e){var t=e.toString(16);return 1===t.length?"0"+t:t}),r=t.rgb2hex=function(e,t,r){return"#"+[n(e),n(t),n(r)].join("")},o=(t.hex2rgb=function(e){return"#"===e[0]&&(e=e.substr(1)),3===e.length?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16)}:{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16)}},t.hsv2rgb=function(e,t,n){var r=n/100,o=[],i=r*t/100,a=e/60,l=i*(1-Math.abs(a%2-1)),s=r-i;switch(parseInt(a,10)){case 0:o=[i,l,0];break;case 1:o=[l,i,0];break;case 2:o=[0,i,l];break;case 3:o=[0,l,i];break;case 4:o=[l,0,i];break;case 5:o=[i,0,l];break;default:return{r:0,g:0,b:0}}return{r:Math.round(255*(o[0]+s)),g:Math.round(255*(o[1]+s)),b:Math.round(255*(o[2]+s))}});t.hsv2hex=function(e,t,n){var i=o(e,t,n);return r(i.r,i.g,i.b)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.parseColor=void 0;var l=n(1),s=r(l),u=n(5),c=r(u),f=n(38),d=r(f),p=n(110),h=n(4),g=r(h),v=n(36),y=r(v),m=t.parseColor=function(e){if("#"!==e[0])return"q";var t=4===e.length?"#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]:e.substr(0,7),n=(0,p.hex2rgb)(t),r=n.r,o=n.g,i=n.b,a=(0,p.rgb2hsv)(r,o,i),l=a.h,s=a.s,u=a.v,c=void 0,f=void 0;return e.length>7?(c=Math.round(100*parseInt(e.substr(7,2),16).toString(10)/255),f=e.substr(0,9)):(c=100,f=t+"ff"),{h:l,s:s,v:u,r:r,g:o,b:i,a:c,hex:t,hexa:f}},b=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.componentDidMount=function(e){return n.refs.cp.focus()},n.setFields=function(e){var t=e.join("\n");n.doc.mainDoc.setField(n.clf,t)},n.changeColor=function(e,t){e.hexa=e.hex+("0"+Math.round(255*e.a/100).toString(16)).slice(-2),n.setState({color:e}),n.props.onChange(Object.assign({},e),t)},n.changeHSV=function(e,t,r,o){var i=(0,p.hsv2rgb)(e,t,r),a=i.r,l=i.g,s=i.b,u=(0,p.rgb2hex)(a,l,s);n.changeColor({a:n.state.color.a,h:e,s:t,v:r,r:a,g:l,b:s,hex:u},o)},n.changeRGB=function(e,t,r,o){var i=(0,p.rgb2hex)(e,t,r),a=(0,p.rgb2hsv)(e,t,r),l=a.h,s=a.s,u=a.v;n.changeColor({a:n.state.color.a,r:e,g:t,b:r,h:l,s:s,v:u,hex:i},o)},n.changeAlpha=function(e,t){return n.changeColor(Object.assign({},n.state.color,{a:e}),t)},n.changeHex=function(e,t){var r=e.trim();if(7===r.length){var o=(0,p.hex2rgb)(r),i=o.r,a=o.g,l=o.b,s=(0,p.rgb2hsv)(i,a,l),u=s.h,c=s.s,f=s.v;n.changeColor({a:n.state.color.a,h:u,s:c,v:f,r:i,g:a,b:l,hex:r},t)}else n.changeColor(Object.assign({},n.state.color,{hex:r}),t)},n.toReinbow=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation();var t=Math.round(255*n.state.color.a/100).toString(16),r=n.state.color.hex+t;n.colorList.includes(r)||(n.colorList.push(r),n.setFields(n.colorList),n.forceUpdate())},n.colorItemDown=function(e,t){e.stopPropagation(),n.avatar.linkedRedraw=n.move_up.bind(n),n.changeColor(m(n.colorList[t]),!0),n.colorItem=t;var r=e.target.getBoundingClientRect();n.avatar.frameStyle={left:r.left,top:r.top-50,backgroundColor:e.target.style.backgroundColor};var o=[e.clientX,e.clientY];n.avatar.x1=o[0],n.avatar.y1=o[1],n.avatar.props.owner.dragStart=n.avatar.props.pageName,n.avatar.props.owner.forceUpdate()},n.move_up=function(e,t){var r=document.elementsFromPoint(e.clientX,e.clientY),o=n.colorList;if(t)return 0===r.filter(function(e){return"colorHist"===e.className}).length&&(o.splice(n.colorItem,1),n.setFields(o),n.forDel=-1,n.forceUpdate()),n.colorItem=null,n.avatar.frameStyle.display="none",void(n.avatar.linkedRedraw=0);var i=r.filter(function(e){return e.id.startsWith("colorItem_")});if(0===i.length)return n.forDel=r.filter(function(e){return"colorHist"===e.className}).length?-1:n.colorItem,n.forceUpdate();var a=parseInt(g.default.partition(i[0].id,"_")[1],10);if(n.colorItem===a)return void(n.forDel>=0&&(n.forDel=-1,n.forceUpdate()));if(!n.busy){n.busy=!0;var l=void 0,s=void 0;n.colorItem>a?(l=o.splice(n.colorItem,1)[0],s=o.splice(a,1)[0],o.splice(a,0,l,s)):(l=o.splice(a,1)[0],s=o.splice(n.colorItem,1)[0],o.splice(a-1,0,l,s)),n.ipont=n.colorItem,n.forDel=-1,n.colorItem=a,n.forceUpdate(),setTimeout(function(){n.busy=!1,n.ipont=null,n.forceUpdate(),n.setFields(o)},50)}},n.blu=function(e){return e.stopPropagation()},n.render=function(){var e=n.state.color,t=e.a,r=e.h,o=e.s,i=e.v,a=e.r,l=e.g,u=e.b,c=e.hex,f=e.hexa,h=n.colorList.length?n.colorList.map(function(e,t){var r=e===n.props.xValue?{boxShadow:"0 0 2px 2px #8af"}:{};return n.forDel!==t?t===n.ipont?r.opacity=0:(r.opacity=1,r.transition="opacity 1s ease",r.backgroundColor=e):r.borderRadius=0,s.default.createElement("div",{key:t,style:Object.assign({},r),onMouseDown:function(e){return n.colorItemDown(e,t)},id:"colorItem_"+t})}):s.default.createElement("span",null,"Запомнить цвет: ⊕",s.default.createElement("br",null)," ");return s.default.createElement("div",{className:"picker",onMouseUp:n.props.toHist,ref:"cp",tabIndex:"1",onBlur:n.props.hideCP,onFocus:n.props.foMain,onMouseDown:n.mDown,style:n.props.style},s.default.createElement("div",{className:"up-arrow",style:n.props.styleArrow}),s.default.createElement("div",{className:"selector",style:{backgroundColor:(0,p.hsv2hex)(r,100,100)}},s.default.createElement("div",{className:"gradientWhite"}),s.default.createElement("div",{className:"gradientDark"}),s.default.createElement(y.default,{axis:"xy",x:o,xmax:100,y:100-i,ymax:100,active:"noActive",thumb:"colorTumb",onChange:function(e,t){var o=e.x,i=e.y;return n.changeHSV(r,o,100-i,t)},style:{width:"100%",height:"100%",background:"none"},doc:n.doc})),s.default.createElement("div",{style:{width:"99%",marginTop:10,display:"flex"}},s.default.createElement("div",{style:{flex:1,margin:"0 14px"}},s.default.createElement(y.default,{axis:"x",x:r,xmax:359,active:"noActive",style:{borderRadius:0,background:"linear-gradient(to left, #FF0000 0%, #FF0099 10%, #CD00FF 20%, #3200FF 30%, #0066FF 40%, #00FFFD 50%, #00FF66 60%, #35FF00 70%, #CDFF00 80%, #FF9900 90%, #FF0000 100%)"},onChange:function(e,t){var r=e.x;return n.changeHSV(r,o,i,t)},doc:n.doc}),s.default.createElement("div",{style:{background:"#fff",marginTop:6,border:"1px solid silver"}},s.default.createElement(y.default,{axis:"x",x:t,xmax:100,active:"noActive",style:{margin:0,borderRadius:0,background:"linear-gradient(to right, "+c+"00, "+c+"ff)"},onChange:function(e,t){var r=e.x;return n.changeAlpha(r,t)},doc:n.doc}))),s.default.createElement("div",{className:"plus",style:{backgroundColor:f}},s.default.createElement("span",{title:"Добавить в список",onClick:n.toReinbow},"⊕"))),s.default.createElement("div",{className:"inputs"},s.default.createElement("div",{className:"input"},s.default.createElement("div",null,"Hex"),s.default.createElement("input",{tabIndex:"1",onMouseDown:n.props.fo,onBlur:n.blu,style:{width:75,textAlign:"left"},type:"text",value:c,onChange:function(e){return n.changeHex(e.target.value,!0)}})),s.default.createElement("div",{className:"input"},s.default.createElement("div",null,"R"),s.default.createElement(d.default,{doc:n.doc,onMouseDown:n.props.fo,onBlur:n.blu,dumb:!0,min:0,max:255,xValue:a,onChange:function(e){return n.changeRGB(e,l,u,!0)}})),s.default.createElement("div",{className:"input"},s.default.createElement("div",null,"G"),s.default.createElement(d.default,{doc:n.doc,onMouseDown:n.props.fo,onBlur:n.blu,dumb:!0,min:0,max:255,xValue:l,onChange:function(e){return n.changeRGB(a,e,u,!0)}})),s.default.createElement("div",{className:"input"},s.default.createElement("div",null,"B"),s.default.createElement(d.default,{doc:n.doc,dumb:!0,min:0,max:255,xValue:u,onChange:function(e){return n.changeRGB(a,l,e,!0)},onMouseDown:n.props.fo,onBlur:n.blu})),s.default.createElement("div",{className:"input"},s.default.createElement("div",null,"A"),s.default.createElement(d.default,{doc:n.doc,dumb:!0,min:0,max:100,xValue:t,onChange:function(e){return n.changeAlpha(e,!0)},onMouseDown:n.props.fo,onBlur:n.blu}))),s.default.createElement("div",{className:"colorHist"},h))},(0,c.default)(n),n.state={color:Object.assign({},n.props.color)},n.doc=n.props.doc,n.clf=n.props.colorListField;var r=n.doc.mainDoc.getField(n.clf);return n.colorList=r.split("\n").filter(function(e){return e}),n.avatar=n.doc.mainDoc.sovaPagesByName.avatar,n.forDel=-1,n}return a(t,e),t}(s.default.Component);t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),s=r(l),u=n(16),c=n(4),f=r(c),d=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getDom=function(){return n.dom.current},n.getValue=function(e){return n.textOrObj},n.setValue=function(e,t){n.textOrObj=e,n.kkey=t||0,n.readOnly=t?!["edit","admin","new"].includes(n.props.doc.rsMode):n.props.readOnly,n.forceUpdate()},n.render=function(e){var t=null;if(n.textOrObj)if("string"==typeof n.textOrObj)try{t=JSON.parse(n.textOrObj)}catch(e){t=[f.default._div({br:1,style:{color:"red"}},null,"Error in field JSON("+n.props.xName+")\n"+e.name+": "+e.message),f.default._div(null,null,n.textOrObj)]}else t=n.textOrObj;return s.default.createElement("div",{style:Object.assign({},n.props.style),className:n.props.className,ref:n.dom},(0,u.boxing)(Array.isArray(t)?t:[t],n.props.doc,n.readOnly,0,0,n.kkey))},n.textOrObj=n.props.xValue,n.kkey=0,n.readOnly=n.props.readOnly,n.dom=s.default.createRef(),n}return a(t,e),t}(s.default.Component);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),f=n(5),d=r(f),p=n(50),h=r(p),g=n(4),v=r(g),y=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.componentDidMount=function(e){return n.changeDropList()},n.getValue=function(e){return"undefined"==typeof n.items[n.state.sel]?n.props.xValue||"undefined":n.items[n.state.sel].label},n.setValue=function(e){n.setState({sel:e}),v.default.recalc(n,n.items[e].label,n.items[e].opt,e)},n.getDom=function(){return n.dom.current},n.onclick=function(e){n.setState({sel:e}),n.props.saveAlias&&n.props.doc.setField(n.props.xName+"_ALIAS",n.items[e].opt),v.default.recalc(n,n.items[e].label,n.items[e].opt,e)},(0,d.default)(n),n.items=[],n.dom=c.default.createRef(),n.state={sel:parseInt(n.props.default||0,10),focusOn:!1},n}return a(t,e),s(t,[{key:"changeDropList",value:function(e,t){var n=this,r=parseInt(t||this.props.default||0,10);if("string"==typeof this.props.ls){var o=this.props.ls;if(o=o.replace("param=","param="+this.props.doc.getField("_param_fd")),o.includes("|||")){var i=o.split("|||"),a=l(i,2),s=a[0],u=a[1];o=u.replace(/{FIELD}/g,e||this.props.doc.getField(s))}if(this.url===o){if(r!==-2)return;r=-1}this.url=o,v.default.jsonByUrl(this.props.doc,o).then(function(e){n.items=(e||[]).map(function(e){var t=v.default.partition(e,"|"),n=l(t,2),r=n[0],o=n[1];return{ref:null,label:r,opt:o}}),n.setState({sel:r}),n.items[r]?v.default.recalc(n,n.items[r].label,n.items[r].opt,r):v.default.recalc(n,"","","undefined")}).catch(function(e){var t="List.js: Util.jsonByUrl:"+e;n.items=[{ref:null,label:t,opt:""}],console.error(t),n.setState({sel:r})})}else this.items=(e||this.props.ls).map(function(e){var t=v.default.partition(e,"|"),n=l(t,2),r=n[0],o=n[1];return{ref:null,label:r,opt:o}}),this.setState({sel:r}),this.items[r]?v.default.recalc(this,this.items[r].label,this.items[r].opt,r):v.default.recalc(this,"","","undefined")}},{key:"render",value:function(){var e=this,t=this.items.map(function(t,n){return c.default.createElement(h.default,{key:Math.random(),listItemClassName:e.props.listItemClassName,index:n,iShow:n,items:e.items,evenColor:e.props.evenColor,onclick:function(t){return e.onclick(n)},ondoubleclick:function(e){},sel:e.state.sel===n,ref:function(t){t&&e.items[n]&&(e.items[n].ref=t)}})});return c.default.createElement("div",{className:this.props.className,style:Object.assign({},this.props.style),ref:this.dom},t.length?t:"")}}]),t}(c.default.Component);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;
if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=n(1),u=r(s),c=n(5),f=r(c),d=n(39),p=r(d),h=n(4),g=r(h),v=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setValue=function(e){n.inputEnable=!0,n.input="",n.setLabelAndValue(n.state.dropList,e||"")},n.getValue=function(){if(n.props.alias){var e=g.default.partition(n.value,n.sep),t=l(e,2),r=t[0],o=t[1];return o||r}return n.value},n.setFocus=function(){n.setState({focusOn:!0}),n.tta.focus()},n.getDropList=function(){return n.state.dropList},n.componentDidMount=function(){return n.changeDropList()},n.changeDropList=function(e){var t=n.props.ls;if(n.props.readOnly||(!t||!t.length)&&!e)return n.setState({dropList:[]});if("string"==typeof t){if(t.includes("|||")){var r=g.default.partition(t,"|||"),o=l(r,2),i=o[0],a=o[1];t=a.replace(/{FIELD}/g,e||n.doc.getField(i))}else e&&(t=e);if(n.url===t)return;n.url=t,g.default.jsonByUrl(n.doc,t).then(function(e){n.labels=(e||[]).map(function(e){return e.split(n.sep)[0].toLowerCase()}),n.values=n.props.alias&&(e||[]).map(function(e){return g.default.partition(e,n.sep)[1]}),n.setLabelAndValue(e||[])}).catch(function(e){return console.error("ListBoxSD.js: Util.jsonByUrl:"+t+"\n"+e)})}else{var s=e||t;n.labels=s.map(function(e){return e.split(n.sep)[0].toLowerCase()}),n.values=n.props.alias&&s.map(function(e){return g.default.partition(e,n.sep)[1]}),n.setLabelAndValue(s)}},n.setLabelAndValue=function(e,t){var r=t||n.value;if(r&&n.props.alias){var o=!0,i=!1,a=void 0;try{for(var l,s=e[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var u=l.value;g.default.partition(u,n.sep)[1]===r&&(r=u)}}catch(e){i=!0,a=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw a}}}n.value=r,n.setState({dropList:e})},n.onkeydown=function(e){var t=g.default.upDown(e,n.doc,n.props.xName,!0);if("up"===t)return n.doc.setFocus(n.props.myRow-1);if("down"===t)return n.doc.setFocus(n.props.myRow+1);var r=0;switch(e.keyCode){case 37:case 39:n.input="",n.inputEnable=!n.value,n.forceUpdate();break;case 13:return n.showListBox(e);case 40:return!e.altKey||n.showListBox(e);case 8:return n.delValue(e,-1);case 46:return n.delValue(e,0);case 32:if(n.props.saveAlias&&n.value.includes("\n"))break;var o=[];if(n.value){var i=n.value.split("\n");o=i.slice(0,-1),r=n.labels.indexOf(i.slice(-1)[0].split(n.sep)[0].toLowerCase()),r>=0&&r<n.labels.length-1?r+=1:(n.props.alias&&(r=n.values.indexOf(i.slice(-1)[0].split(n.sep)[0])),r>=0&&r<n.labels.length-1?r+=1:r=0)}o.push(n.state.dropList[r]),n.updateValue(o.join("\n"));break;default:return}e.stopPropagation(),e.preventDefault()},n.onkeypress=function(e){if(!e.ctrlKey){var t=e.key.toLowerCase();if(!n.inputEnable)return n.showListBox(e,t);e.stopPropagation();for(var r in n.labels)if(n.labels[r].startsWith(n.input+t))return n.input+=t,void n.updateValue(n.state.dropList[r],!1);var o="(«\"'-",i=!0,a=!1,l=void 0;try{for(var s,u=o[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value,f=c+n.input+t;for(var d in n.labels)if(n.labels[d].includes(f))return n.input+=t,void n.updateValue(n.state.dropList[d],!1)}}catch(e){a=!0,l=e}finally{try{!i&&u.return&&u.return()}finally{if(a)throw l}}}},n.onpaste=function(e){try{var t=e.clipboardData.getData("text/plain").toLowerCase();if(n.inputEnable){n.input="";var r=0,o=void 0;for(var i in t){for(var a=!1;r<n.labels.length;r++)if(n.labels[r].startsWith(n.input+t[i])){a=!0;break}if(!a)break;o=r,n.input+=t[i]}n.input&&n.updateValue(n.state.dropList[o],!1)}else n.showListBox(e,t)}catch(e){console.error("Ошибка при вставке текса:"+e.message)}e.stopPropagation(),e.preventDefault()},n.showListBox=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e.stopPropagation(),e.preventDefault(),n.state.dropList&&n.state.dropList.length){var r=n.state.dropList.map(function(e){return e.split(n.sep)[0]}),o=n.input||t||!n.value?0:n.value.split("\n").reduce(function(e,t){var o=t.split(n.sep)[0],i=r.indexOf(o);return i>=0?e.push(i):n.props.alias&&(i=n.values.indexOf(o),i>=0&&e.push(i)),e},[]);n.doc.msg.list(n.state.dropList,"Выберите значение",{multi:n.multi&&!t,checked:o,text:n.input||t,sep:n.sep},n.props.small,n.props.info).then(function(e){n.updateValue(e,!0,!!t&&n.multi),n.tta.focus()}).catch(function(e){return n.tta.focus()})}},n.findAlias=function(e){var t=[],r=[],o=!0,i=!1,a=void 0;try{for(var s,u=e.split("\n")[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value,f=g.default.partition(c,n.sep),d=l(f,2),p=d[0],h=d[1];n.props.alias?t.push(h||p):(t.push(p),r.push(h))}}catch(e){i=!0,a=e}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}return[t.join("\n"),r.join("\n")]},n.updateValue=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t&&(n.input=""),n.inputEnable=!(e&&t);var o=n.findAlias(e),i=l(o,2),a=i[0],s=i[1];if(n.value=(r&&n.value?n.value+"\n":"")+e,n.props.saveAlias){if(r){var u=n.doc.getField(n.props.xName+"_ALIAS");s=(u?u+"\n":"")+s}n.doc.setField(n.props.xName+"_ALIAS",s)}g.default.recalc(n,a,s),n.forceUpdate()},n.delValue=function(e,t){e.stopPropagation(),e.preventDefault();var r=n.value.split("\n");if(r.length){t<0&&(t=r.length-1);var o="";if(n.props.saveAlias){var i=n.doc.getField(n.props.xName+"_ALIAS").split("\n");r.length===i.length&&(o=i.filter(function(e,n){return n!==t}).join("\n"),n.doc.setField(n.props.xName+"_ALIAS",o))}var a=r.filter(function(e,n){return n!==t}).join("\n");n.input="",n.inputEnable=!a,n.value=a,n.forceUpdate(),g.default.recalc(n,a,o)}},n.render=function(){if(n.props.readOnly)return u.default.createElement(p.default,{className:n.props.className||"tta",doc:n.doc,xValue:n.props.xValue||"",readOnly:!0,style:Object.assign({},n.props.style)});var e=n.state.focusOn&&!n.input?u.default.createElement("span",{className:"lbCursor"},"|"):null,t=n.value.split("\n").map(function(t,r,o){if(!t){var i=n.state.focusOn?" ":n.props.placeholder||n.placeholder;return u.default.createElement("div",{key:r,style:{border:"1px solid transparent"}},u.default.createElement("span",{className:"placeholder"},i),e)}var a=t.split(n.sep)[0],l=null;return n.input&&0===a.toLowerCase().indexOf(n.input)&&(l=u.default.createElement("b",{style:{color:"#f08"}},a.slice(0,n.input.length)),a=a.slice(n.input.length)),u.default.createElement("div",{key:r,style:{border:"1px solid #eee"}},u.default.createElement("span",{className:"delBtn",title:"Удалить",onClick:function(e){return n.delValue(e,r)}},"×"),l,a,r<o.length-1?null:e)});return u.default.createElement("div",Object.assign({},g.default._on_(n.props),{className:(n.props.className||"tta")+(n.state.focusOn?" on-focus":""),style:Object.assign({padding:"2px 0 0px 2px"},n.props.style),tabIndex:"0",onFocus:function(e){n.inputEnable=!n.value,n.setState({focusOn:!0})},onBlur:function(e){n.inputEnable=!1,n.input="",n.setState({focusOn:!1})},onKeyDown:n.onkeydown,onKeyPress:n.onkeypress,onPaste:n.onpaste,ref:function(e){return n.tta=e}}),u.default.createElement("div",{className:"btn-lb-list"},t),u.default.createElement("div",{className:"btn-lb-zone",onClick:function(e){return n.showListBox(e)}},u.default.createElement("div",{className:"btn-lbsd"})))},(0,f.default)(n),n.multi="lbmd"===n.props.type,n.placeholder="Выберите значение из списка",n.inputEnable=!0,n.input="",n.sep=n.props.sep||"|",n.doc=n.props.doc,n.value=n.props.xValue||"",n.state={focusOn:!1},n}return a(t,e),t}(u.default.Component);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),s=r(l),u=n(5),c=r(u),f=n(35),d=(r(f),n(4)),p=r(d),h=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.setValue=function(e){return n.url=e},n.onClick=function(e){e.stopPropagation(),p.default.recalc(n,"click")},n.render=function(){return s.default.createElement("div",{className:n.props.className,style:Object.assign({},n.props.style),onClick:n.onClick})},(0,c.default)(n),n.url=n.props.url;var r={left:130,top:130,width:1e3,height:1e3},a=Object.assign({rsMode:"preview",frameStyle:Object.assign({},r)},p.default.urlKeys(n.url));return console.log(a),n}return a(t,e),t}(s.default.Component);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),s=r(l),u=n(5),c=r(u),f=n(231),d=r(f),p=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setFocus=function(){return n.refs.input.getInputDOMNode().focus()},n.onChange=function(e){return n.setState({value:e.target.value})},n.setValue=function(e){return n.setState({value:e})},n.getValue=function(){return n.state.value},n.render=function(){return s.default.createElement(d.default,{ref:"input",value:n.state.value,onChange:n.onChange,style:Object.assign({},n.props.style),readOnly:n.props.readOnly,className:n.props.className||"phone",mask:"+7(999) 999-99-99",maskChar:"_",alwaysShowMask:!0})},(0,c.default)(n),n.state={value:n.props.xValue||""},n}return a(t,e),t}(s.default.Component);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),u=r(s),c=n(5),f=r(c),d=n(16),p=n(97),h=r(p),g=n(4),v=r(g),y=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getDom=function(){return n.dom.current},n.setValue=function(e){n.items.length&&n.ptrs[n.sel].setState({sel:!1}),n.ptrs=[],n.unids=[],n.sel=0,n.items=(e||[]).map(function(e,t){return n.unids[t]=e[0],u.default.createElement(h.default,{key:e[0],ref:function(e){return n.ptrs[t]=e},sel:t===n.sel,index:t,row:(0,d.boxing)(e.slice(2),n.props.doc),toggle:n.toggle,evenColor:n.props.evenColor})}),n.forceUpdate(),n.items.length&&setTimeout(function(e){return n.ptrs[0].setState({sel:!0})},100)},n.onkeydown=function(e){if(!e.ctrlKey)switch(e.keyCode){case 38:return n.toggle(n.sel-1,e);case 40:return n.toggle(n.sel+1,e);case 33:return n.toggle(n.sel-12,e);case 34:return n.toggle(n.sel+12,e);case 36:return n.toggle(0,e);case 35:return n.toggle(n.items.length-1,e);case 13:return e.stopPropagation(),e.preventDefault(),n.unids[n.sel]&&v.default.runCmd(n.props.doc,"showAsk",n.unids[n.sel]);case 9:n.props.doc.setFocus(0),e.stopPropagation(),e.preventDefault();break;default:return}},n.setFocus=function(e){n.setState({focusOn:!0}),n.dom.current.focus()},(0,f.default)(n),n.items=[],n.ptrs=[],n.unids=[],n.sel=0,n.areaStyle={width:"100%",display:"table",tableLayout:"fixed"},n.state={},n.dom=u.default.createRef(),n}return a(t,e),l(t,[{key:"toggle",value:function(e,t){e!==this.sel&&(e>=this.items.length&&(e=this.items.length-1),e<0&&(e=0),this.ptrs[this.sel].setState({sel:!1}),this.sel=e,this.ptrs[this.sel].setState({sel:!0}),this.ptrs[this.sel].getDom().focus()),t.stopPropagation(),t.preventDefault()}},{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:this.props.className,style:Object.assign({},this.props.style,{border:this.state.focusOn?"1px solid #00f":"1px solid #fff"}),ref:this.dom,onFocus:function(t){return e.setState({focusOn:!0})},onBlur:function(t){return e.setState({focusOn:!1})},tabIndex:"0",onKeyDown:this.onkeydown},u.default.createElement("div",{style:{background:this.items.length?"#fff":"transparent"}},this.items))}}]),t}(u.default.Component);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),s=r(l),u=n(5),c=r(u),f=n(36),d=r(f),p=n(38),h=r(p),g=n(16),v=n(4),y=r(v),m=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(n.setValue=function(e){var t=isNaN(e)?n.rate:Number(e);n.slFirst&&(n.slFirst=null,n.sl=t),n.setRate(t,!1)},n.getValue=function(){return n.rate||0},n.setRate=function(e,t){var r="q";return isNaN(e)||""===e||(r=parseFloat(n.digits?e.toFixed(n.digits):e)),isNaN(r)||r>n.XMAX||r<n.XMIN?(n.badValue=!0,void setTimeout(function(){n.badValue&&(r>n.XMAX?n.rate=n.XMAX:r<n.XMIN&&(n.rate=n.XMIN),n.badValue=null,n.reset=!0,2===t?y.default.recalc(n,n.rate,!1):y.default.recalc(n,n.rate,!1,!0,n.sl),n.forceUpdate(),setTimeout(function(){return n.reset=null},1))},3e3)):(n.badValue=null,n.rate=r,2===t?y.default.recalc(n,n.rate,!1):y.default.recalc(n,r,!t,t,n.sl),t&&(n.sl=r),n.refs.smartNumber.value=n.rate,void n.forceUpdate())},n.setRate2=function(e){return n.setRate(Number(e),2)},n.render=function(){return n.props.ls[3]||n.metric?s.default.createElement("div",{style:Object.assign({},n.props.style)},s.default.createElement("div",{style:{display:"table",margin:"5px auto",borderSpacing:"5px 0"}},s.default.createElement("div",{className:n.props.className||"label",style:{display:"table-cell"}},n.props.ls[3]),s.default.createElement("div",{className:"input"},s.default.createElement(h.default,{reset:n.reset,digits:n.props.digits,delay:n.props.delay,doc:n.doc,width:60,xValue:n.rate,onChange:n.setRate2,ref:"smartNumber"})),n.metric),s.default.createElement(d.default,{axis:"x",xmin:n.xmin,xmax:n.xmax,xstep:n.props.ls[2],x:n.rate,onChange:function(e,t){var r=e.x;e.y;return n.setRate(r,t)},style:{width:"90%"},doc:n.doc})):s.default.createElement("div",{className:n.props.className,style:Object.assign({},n.props.style)},s.default.createElement(h.default,{doc:n.doc,min:n.xmin,width:"90%",xValue:n.rate,onChange:n.setRate2,ref:"smartNumber"}),s.default.createElement(d.default,{axis:"x",xmin:n.xmin,xmax:n.xmax,xstep:n.props.ls[2],x:n.rate,onChange:function(e,t){var r=e.x;e.y;return n.setRate(r,t)},style:{margin:10},doc:n.doc}))},(0,c.default)(n),n.doc=n.props.doc,n.xName_=n.props.xName+"_1",n.digits=parseInt(n.props.digits||"0",10),n.xmin=Number(n.props.ls[0]),n.xmax=Number(n.props.ls[1]),n.rate=isNaN(n.props.xValue)?0:Number(n.props.xValue),n.sl=n.rate,n.slFirst=!0,n.XMAX=isNaN(n.props.ls[4])?n.xmax:Number(n.props.ls[4]),n.XMIN=isNaN(n.props.ls[5])?n.xmin:Number(n.props.ls[5]),n.props.metric){var r=n.props.xName+"Metric",a=y.default.partition(n.props.metric,"|");n.metric=(0,g.makeControl)(r,{field:[r,"chb",a],attributes:{title:"переключить",char:1,className:"metric"}},n.doc)}return n}return a(t,e),t}(s.default.Component);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),f=n(5),d=r(f),p=n(4),h=r(p),g=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setValue=function(e){return n.setState({cells:e.split("\n")})},n.getValue=function(e){return n.state.cells.join("\n")},n.onclick=function(e,t){return h.default.runCmd(n.props.doc,"docPreview",t+"|offset:min:max:-",e)},(0,d.default)(n),n.state={cells:n.props.xValue.split("\n")},n}return a(t,e),s(t,[{key:"delValue",value:function(e,t){e.stopPropagation(),this.setState({cells:this.state.cells.filter(function(e,n){return t!==n})}),h.default.recalc(this,null,t)}},{key:"render",value:function(){var e=this,t=void 0,n=this.state.cells;if(n.length&&n[0]){t=[];for(var r=this.props.btn[0],o=0,i=this.props.btn[1],a=0;a<Math.floor(n.length/r)+1;a++){for(var s=[],u=function(t){var r=o,a=e.props.readOnly?c.default.createElement("span",{className:"delBtnR"}," "):c.default.createElement("span",{className:"delBtn",title:"Удалить",onClick:function(t){return e.delValue(t,r)}},"×");if("gr"===e.props.type){var u=h.default.partition(n[o],"|"),f=l(u,2),d=f[0],p=f[1];s[t]=c.default.createElement("div",{key:o,className:"ground",style:{minWidth:i,maxWidth:i},onClick:function(t){return e.onclick(t,p)}},a,d)}else s[t]=c.default.createElement("div",{key:o,className:"ask",style:{minWidth:i,maxWidth:i}},a,n[o])},f=0;f<r&&o<n.length;f++,o++)u(f);t[a]=c.default.createElement("div",{key:a,className:"grTable"},s)}}else t=c.default.createElement("div",{className:"grTable",style:{paddingTop:4}}," ");return c.default.createElement("div",{style:Object.assign({},this.props.style)},c.default.createElement("div",{tabIndex:"1",className:"tta",style:Object.assign({padding:"1px 0 1px 1px"},this.props.ttaStyle)},t))}}]),t}(c.default.Component);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),f=n(5),d=r(f),p=n(4),h=r(p),g=n(16),v=n(51),y=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.UNSAFE_componentWillReceivePropsи=function(e){return e.expand&&n.setState({expand:e.expand})},n.setExpand=function(e){e.stopPropagation(),n.setState({expand:!n.state.expand})},(0,d.default)(n),n.state={expand:n.props.expand},n}return a(t,e),s(t,[{key:"render",value:function(){var e=this,t=(0,g.boxing)(this.props.mainDoc,this.props.doc);if(t=t.slice(1),this.props.refs){var n=" ",r={display:"table-cell",cursor:"default",width:20,textAlign:"center"};this.props.refsDocs&&(n=this.state.expand?"▼":"►",r.cursor="pointer");var o=c.default.createElement("div",{key:9998,style:r,className:"expClass",onClick:function(t){return e.props.refsDocs?e.setExpand(t):0}},n);t.unshift(o)}var i="mRow";this.props.selectedDoc===this.props.mainDoc[0]&&(i+="-sel"),i+=" "+this.props.className;var a=c.default.createElement("div",{key:this.props.mainDoc[0],className:i,style:Object.assign({},this.props.style),onClick:function(t){return e.props.rowClick(e.props.mainDoc[0])}},t);if(!this.props.refsDocs||!this.state.expand)return a;var l=this.props.refsDocs.map(function(n,r){return t=(0,g.boxing)(n,e.props.doc),t=t.slice(1),t.unshift(c.default.createElement("div",{key:9998,style:{width:16,display:"table-cell"}})),i="rRow",e.props.selectedDoc===n[0]&&(i+="-sel"),i+=" "+e.props.className,c.default.createElement("div",{key:n[0],className:i,onClick:function(t){return e.props.rowClick(n[0])},style:Object.assign({},e.props.style)},t)});return c.default.createElement("div",{style:{display:"table-row-group"}},a,l)}}]),t}(c.default.Component),m=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getDom=function(){return n.dom.current},n.componentDidMount=function(){return!n.props.withoutNavigator&&n.loadView()},n.setValue=function(e){n.cat=e.cat||"",n.subCat=e.subCat||"",n.filtered=e.filtered||"",n.offset=e.offset||"0",n.limit=e.limit||"50",n.loadView()},n.getValue=function(){return n.dbAlias+"&"+n.selectedDoc},n.loadView=function(e){var t=["dbAlias","fieldName","offset","limit","filtered","cat","subCat","viewKey"].map(function(e){return e+"="+(n[e]||"")}),r="api.get/paging?"+t.join("&");n.cat===n.catDir[0]&&(r+="&dir_="+n.catDir[1]),(n.url!==r||e)&&(n.url=r,n.waitLoad=!0,setTimeout(function(e){return n.waitLoad?n.setState({spinner:!0}):0},1e3),n.forceUpdate(),window.owlDebug&&console.log("Debug View.js:",r),h.default.jsonByUrl(n.props.doc,r).then(function(e){n.mainDocs=e.mainDocs||[],n.refsDocs=e.refsDocs||[],n.waitLoad=!1,n.selectedDoc=n.mainDocs.length&&n.mainDocs[0][0],n.setState({i:0,spinner:!1});var t=n.selectedDoc?n.dbAlias+"&"+n.selectedDoc:"";if(h.default.runCmd(n.props.doc,"viewLoaded",n.props.xName+"|"+t),e.setField){var r=h.default.partition(e.setField,"|"),o=l(r,2),i=o[0],a=o[1];n.props.doc.setField(i,a)}}).catch(function(e){alert("loadView-error:"+e),console.log("loadView-error:",r,e),n.waitLoad=!1,n.setState({i:0,spinner:!1})}))},n.rowClick=function(e){n.selectedDoc=e,n.forceUpdate()},n.render=function(){if(n.waitLoad&&n.state.spinner)return c.default.createElement("div",{style:{height:"90%",position:"relative"}},(0,v.spinner)(!1,!1,"preloaderColor"));var e=n.mainDocs.map(function(e){var t="";return e[0].endsWith("+")&&(e[0]=e[0].slice(0,-1),t=n.props.addClassName),c.default.createElement(y,{key:e[0],mainDoc:e,refsDocs:n.refsDocs&&n.refsDocs[e[0]],expand:n.selectedDoc===e[0],doc:n.props.doc,dbAlias:n.props.doc.dbAlias,rowClick:n.rowClick,selectedDoc:n.selectedDoc,className:t,refs:n.props.refs})});return c.default.createElement("div",{style:Object.assign({},n.props.style,{overflow:"hidden"}),ref:n.dom},c.default.createElement("div",{style:{overflow:"auto",height:"inherit"}},c.default.createElement("div",{style:{width:"100%",display:"table",tableLayout:"fixed"}},e)))},(0,d.default)(n),n.mainDocs=[],n.refsDocs=[],n.filtered=n.props.filtered||"",n.viewKey=n.props.viewKey||"",n.offset=n.props.offset||"0",n.limit=n.props.limit||"50",n.dbAlias=n.props.dbAlias||n.props.doc.dbAlias,n.fieldName=n.props.xName,n.dom=c.default.createRef(),n.cat=n.subCat="",n.catDir=h.default.partition(n.props.catDir,"|"),n.state={spinner:!1},n}return a(t,e),t}(c.default.Component);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=n(1),s=r(l),u=n(230),c=n(35),f=r(c),d=function(e){function t(){var e,n,r,a;o(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.closeDoc=function(e,t){var n=e.getField("autoOrder");if(n&&!t){var r=n.split(">this")[0];return void(window.location.href=["/newdoc?"+e.dbAlias,encodeURIComponent(r),e.dbAlias,e.unid].join("&"))}if(e.viewRefresh){var o=window.opener&&!window.opener.closed&&window.opener.top&&!window.opener.top.closed?window.opener.top:null,i=o&&o.view&&(o.view.nocats||o.view);i&&i.viewRefresh&&i.viewRefresh(e.unid)}window.close()},r.render=function(){var e=window.jsDoc||"";return console.log((e&&e.version)+" React/"+s.default.version),e?s.default.createElement(f.default,Object.assign({closeDoc:r.closeDoc},e)):s.default.createElement("h2",null,"Документ недоступен")},a=n,i(r,a)}return a(t,e),t}(s.default.Component),p=document.getElementById("root"),h=(0,u.createRoot)(p);h.render(s.default.createElement(d,null))},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(21),a=n(10),l=n(17),s=n(11),u=n(7),c=n(6),f=n(12),d=n(14),p=n(2),h=n(190),g=d("draft_tree_data_support"),v=g?s:l,y=p.List,m=p.Repeat,b={insertAtomicBlock:function(e,t,n){var o=e.getCurrentContent(),l=e.getSelection(),s=u.removeRange(o,l,"backward"),d=s.getSelectionAfter(),p=u.splitBlock(s,d),h=p.getSelectionAfter(),b=u.setBlockType(p,h,"atomic"),w=a.create({entity:t}),x={key:f(),type:"atomic",text:n,characterList:y(m(w,n.length))},_={key:f(),type:"unstyled"};g&&(x=r({},x,{nextSibling:_.key}),_=r({},_,{prevSibling:x.key}));var S=[new v(x),new v(_)],k=i.createFromArray(S),E=u.replaceWithFragment(b,h,k),C=E.merge({selectionBefore:l,selectionAfter:E.getSelectionAfter().set("hasFocus",!0)});return c.push(e,C,"insert-fragment")},moveAtomicBlock:function(e,t,n,r){var o,i=e.getCurrentContent(),a=e.getSelection();if("before"===r||"after"===r){var l=i.getBlockForKey("before"===r?n.getStartKey():n.getEndKey());o=h(i,t,l,r)}else{var s=u.removeRange(i,n,"backward"),f=s.getSelectionAfter(),d=s.getBlockForKey(f.getFocusKey());if(0===f.getStartOffset())o=h(s,t,d,"before");else if(f.getEndOffset()===d.getLength())o=h(s,t,d,"after");else{var p=u.splitBlock(s,f),g=p.getSelectionAfter(),v=p.getBlockForKey(g.getFocusKey());o=h(p,t,v,"before")}}var y=o.merge({selectionBefore:a,selectionAfter:o.getSelectionAfter().set("hasFocus",!0)});return c.push(e,y,"move-block")}};e.exports=b},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function a(e,t){var n=[],r=e.map(function(e){return e.getStyle()}).toList();return s(r,l,h,function(e,r){n.push(new v({start:e+t,end:r+t}))}),f(n)}function l(e,t){return e===t}var s=n(22),u=n(72),c=n(2),f=c.List,d=c.Repeat,p=c.Record,h=function(){return!0},g={start:null,end:null},v=p(g),y={start:null,end:null,decoratorKey:null,leaves:null},m=p(y),b={generate:function(e,t,n){var r=t.getLength();if(!r)return f.of(new m({start:0,end:0,decoratorKey:null,leaves:f.of(new v({start:0,end:0}))}));var o=[],i=n?n.getDecorations(t,e):f(d(null,r)),u=t.getCharacterList();return s(i,l,h,function(e,t){o.push(new m({start:e,end:t,decoratorKey:i.get(e),leaves:a(u.slice(e,t).toList(),e)}))}),f(o)},fromJS:function(e){var t=e.leaves,n=i(e,["leaves"]);return new m(r({},n,{leaves:null!=t?f(Array.isArray(t)?t:u(t)).map(function(e){return v(e)}):null}))}};e.exports=b},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t,n){for(var r=t;r<n;r++)if(null!=e[r])return!1;return!0}function i(e,t,n,r){for(var o=t;o<n;o++)e[o]=r}var a=n(2),l=a.List,s=".",u=function(){function e(e){r(this,"_decorators",void 0),this._decorators=e.slice()}var t=e.prototype;return t.getDecorations=function(e,t){var n=Array(e.getText().length).fill(null);return this._decorators.forEach(function(r,a){var l=0,u=r.strategy,c=function(e,t){o(n,e,t)&&(i(n,e,t,a+s+l),l++)};u(e,c,t)}),l(n)},t.getComponentForKey=function(e){var t=parseInt(e.split(s)[0],10);return this._decorators[t].component},t.getPropsForKey=function(e){var t=parseInt(e.split(s)[0],10);return this._decorators[t].props},e}();e.exports=u},function(e,t,n){"use strict";function r(e,t,n,r){var i=e.getBlockMap(),l=t.getStartKey(),s=t.getStartOffset(),u=t.getEndKey(),c=t.getEndOffset(),f=i.skipUntil(function(e,t){return t===l}).takeUntil(function(e,t){return t===u}).concat(a([[u,i.get(u)]])).map(function(e,t){var i,a;l===u?(i=s,
a=c):(i=t===l?s:0,a=t===u?c:e.getLength());for(var f,d=e.getCharacterList();i<a;)f=d.get(i),d=d.set(i,r?o.applyStyle(f,n):o.removeStyle(f,n)),i++;return e.set("characterList",d)});return e.merge({blockMap:i.merge(f),selectionBefore:t,selectionAfter:t})}var o=n(10),i=n(2),a=i.Map,l={add:function(e,t,n){return r(e,t,n,!0)},remove:function(e,t,n){return r(e,t,n,!1)}};e.exports=l},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(8),i=n(27),a=n(78),l=n(2),s=n(3),u=n(9),c=l.Map,f={subtree:!0,characterData:!0,childList:!0,characterDataOldValue:!1,attributes:!1},d=o.isBrowser("IE <= 11"),p=function(){function e(e){var t=this;r(this,"observer",void 0),r(this,"container",void 0),r(this,"mutations",void 0),r(this,"onCharData",void 0),this.container=e,this.mutations=c();var n=a(e);n.MutationObserver&&!d?this.observer=new n.MutationObserver(function(e){return t.registerMutations(e)}):this.onCharData=function(e){e.target instanceof Node?void 0:s(!1),t.registerMutation({type:"characterData",target:e.target})}}var t=e.prototype;return t.start=function(){this.observer?this.observer.observe(this.container,f):this.container.addEventListener("DOMCharacterDataModified",this.onCharData)},t.stopAndFlushMutations=function(){var e=this.observer;e?(this.registerMutations(e.takeRecords()),e.disconnect()):this.container.removeEventListener("DOMCharacterDataModified",this.onCharData);var t=this.mutations;return this.mutations=c(),t},t.registerMutations=function(e){for(var t=0;t<e.length;t++)this.registerMutation(e[t])},t.getMutationTextContent=function(e){var t=e.type,n=e.target,r=e.removedNodes;if("characterData"===t){if(""!==n.textContent)return d?n.textContent.replace("\n",""):n.textContent}else if("childList"===t){if(r&&r.length)return"";if(""!==n.textContent)return n.textContent}return null},t.registerMutation=function(e){var t=this.getMutationTextContent(e);if(null!=t){var n=u(i(e.target));this.mutations=this.mutations.set(n,t)}},e}();e.exports=p},function(e,t,n){"use strict";var r=n(122),o=n(21),i=n(10),a=n(124),l=n(17),s=n(40),u=n(41),c=n(54),f=n(128),d=n(55),p=n(25),h=n(7),g=n(58),v=n(6),y=n(42),m=n(146),b=n(62),w=n(26),x=n(151),_=n(152),S=n(12),k=n(67),E=n(173),C=n(63),O={Editor:f,EditorBlock:d,EditorState:v,CompositeDecorator:a,Entity:p,EntityInstance:g,BlockMapBuilder:o,CharacterMetadata:i,ContentBlock:l,ContentState:s,RawDraftContentState:m,SelectionState:w,AtomicBlockUtils:r,KeyBindingUtil:y,Modifier:h,RichUtils:b,DefaultDraftBlockRenderMap:u,DefaultDraftInlineStyle:c,convertFromHTML:C,convertFromRaw:_,convertToRaw:x,genKey:S,getDefaultKeyBinding:k,getVisibleSelectionRect:E};e.exports=O},function(e,t,n){(function(t){"use strict";function r(){return r=s||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var s=n(15),u=n(41),c=n(54),f=n(130),d=n(132),p=n(135),h=n(136),g=n(137),v=n(139),y=n(57),m=n(6),b=n(1),w=n(45),x=n(32),_=n(8),S=n(20),k=n(12),E=n(67),C=n(34),O=n(14),D=n(3),T=n(23),N=n(9),M=_.isBrowser("IE"),I=!M,B={edit:h,composite:f,drag:p,cut:null,render:null},P=!1,A=function(e){function t(){return e.apply(this,arguments)||this}l(t,e);var n=t.prototype;return n.render=function(){return null},n.componentDidMount=function(){this._update()},n.componentDidUpdate=function(){this._update()},n._update=function(){var e=this.props.editor;e._latestEditorState=this.props.editorState,e._blockSelectEvents=!0},t}(b.Component),R=function(e){function n(t){var n;return n=e.call(this,t)||this,a(i(n),"_blockSelectEvents",void 0),a(i(n),"_clipboard",void 0),a(i(n),"_handler",void 0),a(i(n),"_dragCount",void 0),a(i(n),"_internalDrag",void 0),a(i(n),"_editorKey",void 0),a(i(n),"_placeholderAccessibilityID",void 0),a(i(n),"_latestEditorState",void 0),a(i(n),"_latestCommittedEditorState",void 0),a(i(n),"_pendingStateFromBeforeInput",void 0),a(i(n),"_onBeforeInput",void 0),a(i(n),"_onBlur",void 0),a(i(n),"_onCharacterData",void 0),a(i(n),"_onCompositionEnd",void 0),a(i(n),"_onCompositionStart",void 0),a(i(n),"_onCopy",void 0),a(i(n),"_onCut",void 0),a(i(n),"_onDragEnd",void 0),a(i(n),"_onDragOver",void 0),a(i(n),"_onDragStart",void 0),a(i(n),"_onDrop",void 0),a(i(n),"_onInput",void 0),a(i(n),"_onFocus",void 0),a(i(n),"_onKeyDown",void 0),a(i(n),"_onKeyPress",void 0),a(i(n),"_onKeyUp",void 0),a(i(n),"_onMouseDown",void 0),a(i(n),"_onMouseUp",void 0),a(i(n),"_onPaste",void 0),a(i(n),"_onSelect",void 0),a(i(n),"editor",void 0),a(i(n),"editorContainer",void 0),a(i(n),"focus",void 0),a(i(n),"blur",void 0),a(i(n),"setMode",void 0),a(i(n),"exitCurrentMode",void 0),a(i(n),"restoreEditorDOM",void 0),a(i(n),"setClipboard",void 0),a(i(n),"getClipboard",void 0),a(i(n),"getEditorKey",void 0),a(i(n),"update",void 0),a(i(n),"onDragEnter",void 0),a(i(n),"onDragLeave",void 0),a(i(n),"_handleEditorContainerRef",function(e){n.editorContainer=e,n.editor=null!==e?e.firstChild:null}),a(i(n),"focus",function(e){var t=n.props.editorState,r=t.getSelection().getHasFocus(),o=n.editor;if(o){var i=x.getScrollParent(o),a=e||C(i),l=a.x,s=a.y;T(o)?void 0:D(!1),o.focus(),i===window?window.scrollTo(l,s):w.setTop(i,s),r||n.update(m.forceSelection(t,t.getSelection()))}}),a(i(n),"blur",function(){var e=n.editor;e&&(T(e)?void 0:D(!1),e.blur())}),a(i(n),"setMode",function(e){var t=n.props,r=t.onPaste,i=t.onCut,a=t.onCopy,l=o({},B.edit);r&&(l.onPaste=r),i&&(l.onCut=i),a&&(l.onCopy=a);var s=o({},B,{edit:l});n._handler=s[e]}),a(i(n),"exitCurrentMode",function(){n.setMode("edit")}),a(i(n),"restoreEditorDOM",function(e){n.setState({contentsKey:n.state.contentsKey+1},function(){n.focus(e)})}),a(i(n),"setClipboard",function(e){n._clipboard=e}),a(i(n),"getClipboard",function(){return n._clipboard}),a(i(n),"update",function(e){n._latestEditorState=e,n.props.onChange(e)}),a(i(n),"onDragEnter",function(){n._dragCount++}),a(i(n),"onDragLeave",function(){n._dragCount--,0===n._dragCount&&n.exitCurrentMode()}),n._blockSelectEvents=!1,n._clipboard=null,n._handler=null,n._dragCount=0,n._editorKey=t.editorKey||k(),n._placeholderAccessibilityID="placeholder-"+n._editorKey,n._latestEditorState=t.editorState,n._latestCommittedEditorState=t.editorState,n._onBeforeInput=n._buildHandler("onBeforeInput"),n._onBlur=n._buildHandler("onBlur"),n._onCharacterData=n._buildHandler("onCharacterData"),n._onCompositionEnd=n._buildHandler("onCompositionEnd"),n._onCompositionStart=n._buildHandler("onCompositionStart"),n._onCopy=n._buildHandler("onCopy"),n._onCut=n._buildHandler("onCut"),n._onDragEnd=n._buildHandler("onDragEnd"),n._onDragOver=n._buildHandler("onDragOver"),n._onDragStart=n._buildHandler("onDragStart"),n._onDrop=n._buildHandler("onDrop"),n._onInput=n._buildHandler("onInput"),n._onFocus=n._buildHandler("onFocus"),n._onKeyDown=n._buildHandler("onKeyDown"),n._onKeyPress=n._buildHandler("onKeyPress"),n._onKeyUp=n._buildHandler("onKeyUp"),n._onMouseDown=n._buildHandler("onMouseDown"),n._onMouseUp=n._buildHandler("onMouseUp"),n._onPaste=n._buildHandler("onPaste"),n._onSelect=n._buildHandler("onSelect"),n.getEditorKey=function(){return n._editorKey},n.state={contentsKey:0},n}l(n,e);var s=n.prototype;return s._buildHandler=function(e){var t=this;return function(n){if(!t.props.readOnly){var r=t._handler&&t._handler[e];r&&(g?g(function(){return r(t,n)}):r(t,n))}}},s._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},s._renderPlaceholder=function(){if(this._showPlaceholder()){var e={text:N(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return b.createElement(v,e)}return null},s._renderARIADescribedBy=function(){var e=this.props.ariaDescribedBy||"",t=this._showPlaceholder()?this._placeholderAccessibilityID:"";return e.replace("{{editor_id_placeholder}}",t)||void 0},s.render=function(){var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,i=e.blockStyleFn,a=e.customStyleFn,l=e.customStyleMap,s=e.editorState,u=e.preventScroll,f=e.readOnly,p=e.textAlignment,h=e.textDirectionality,g=S({"DraftEditor/root":!0,"DraftEditor/alignLeft":"left"===p,"DraftEditor/alignRight":"right"===p,"DraftEditor/alignCenter":"center"===p}),v={outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},y=this.props.role||"textbox",m="combobox"===y?!!this.props.ariaExpanded:null,w={blockRenderMap:t,blockRendererFn:n,blockStyleFn:i,customStyleMap:o({},c,l),customStyleFn:a,editorKey:this._editorKey,editorState:s,preventScroll:u,textDirectionality:h};return b.createElement("div",{className:g},this._renderPlaceholder(),b.createElement("div",{className:S("DraftEditor/editorContainer"),ref:this._handleEditorContainerRef},b.createElement("div",{"aria-activedescendant":f?null:this.props.ariaActiveDescendantID,"aria-autocomplete":f?null:this.props.ariaAutoComplete,"aria-controls":f?null:this.props.ariaControls,"aria-describedby":this._renderARIADescribedBy(),"aria-expanded":f?null:m,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,"aria-owns":f?null:this.props.ariaOwneeID,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:S({notranslate:!f,"public/DraftEditor/content":!0}),contentEditable:!f,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:this.props.editorRef,role:f?null:y,spellCheck:I&&this.props.spellCheck,style:v,suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},b.createElement(A,{editor:this,editorState:s}),b.createElement(d,r({},w,{key:"contents"+this.state.contentsKey})))))},s.componentDidMount=function(){this._blockSelectEvents=!1,!P&&O("draft_ods_enabled")&&(P=!0,y.initODS()),this.setMode("edit"),M&&(this.editor?this.editor.ownerDocument.execCommand("AutoUrlDetect",!1,!1):t.execCommand("AutoUrlDetect",!1,!1))},s.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestEditorState=this.props.editorState,this._latestCommittedEditorState=this.props.editorState},n}(b.Component);a(R,"defaultProps",{ariaDescribedBy:"{{editor_id_placeholder}}",blockRenderMap:u,blockRendererFn:function(){return null},blockStyleFn:function(){return""},keyBindingFn:E,readOnly:!1,spellCheck:!1,stripPastedStyles:!1}),e.exports=R}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(){return r=s||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){l(e,t,n[t])})}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(15),u=n(138),c=n(13),f=n(1),d=n(45),p=n(32),h=n(90),g=n(34),v=n(91),y=n(2),m=n(3),b=n(23),w=10,x=(y.List,function(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t}),_=function(e,t){var n=e.getNextSiblingKey();return!!n&&t.getBlockForKey(n).getType()===e.getType()},S=function(e,t,n){var r=[],o=!0,i=!1,a=void 0;try{for(var l,s=n.reverse()[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var u=l.value;if(u.type!==t)break;r.push(u)}}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}n.splice(n.indexOf(r[0]),r.length+1);var d=r.reverse(),p=d[0].key;return n.push(f.cloneElement(e,{key:"".concat(p,"-wrap"),"data-offset-key":c.encode(p,0,0)},d)),n},k=function(e,t){var n=t.get(e.getType())||t.get("unstyled"),r=n.wrapper,o=n.element||t.get("unstyled").element;return{Element:o,wrapperTemplate:r}},E=function(e,t){var n=t(e);if(!n)return{};var r=n.component,o=n.props,i=n.editable;return{CustomComponent:r,customProps:o,customEditable:i}},C=function(e,t,n,r,o,i){var l={"data-block":!0,"data-editor":t,"data-offset-key":n,key:e.getKey(),ref:i},s=r(e);return s&&(l.className=s),void 0!==o.customEditable&&(l=a({},l,{contentEditable:o.customEditable,suppressContentEditableWarning:!0})),l},O=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,l(o(t),"wrapperRef",f.createRef()),t}i(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e){var t=this.props,n=t.block,r=t.direction,o=t.tree,i=!n.getChildKeys().isEmpty(),a=n!==e.block||o!==e.tree||r!==e.direction||x(e.selection,e.block.getKey())&&e.forceSelection;return i||a},n.componentDidMount=function(){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var n=this.wrapperRef.current;if(n){var r,o=p.getScrollParent(n),i=g(o);if(o===window){var a=h(n),l=a.y+a.height,s=v().height;r=l-s,r>0&&window.scrollTo(i.x,i.y+r+w)}else{b(n)?void 0:m(!1);var u=n,c=u.offsetHeight+u.offsetTop,f=o.offsetHeight+i.y;r=c-f,r>0&&d.setTop(o,d.getTop(o)+r+w)}}}},n.render=function(){var e=this,n=this.props,o=n.block,i=n.blockRenderMap,l=n.blockRendererFn,s=n.blockStyleFn,d=n.contentState,p=n.decorator,h=n.editorKey,g=n.editorState,v=n.customStyleFn,y=n.customStyleMap,m=n.direction,b=n.forceSelection,w=n.selection,O=n.tree,D=null;o.children.size&&(D=o.children.reduce(function(n,r){var o=c.encode(r,0,0),u=d.getBlockForKey(r),p=E(u,l),v=p.CustomComponent||t,y=k(u,i),m=y.Element,b=y.wrapperTemplate,w=C(u,h,o,s,p,null),x=a({},e.props,{tree:g.getBlockTree(r),blockProps:p.customProps,offsetKey:o,block:u});return n.push(f.createElement(m,w,f.createElement(v,x))),!b||_(u,d)?n:(S(b,m,n),n)},[]));var T=o.getKey(),N=c.encode(T,0,0),M=E(o,l),I=M.CustomComponent,B=null!=I?f.createElement(I,r({},this.props,{tree:g.getBlockTree(T),blockProps:M.customProps,offsetKey:N,block:o})):f.createElement(u,{block:o,children:D,contentState:d,customStyleFn:v,customStyleMap:y,decorator:p,direction:m,forceSelection:b,hasSelection:x(w,T),selection:w,tree:O});if(o.getParentKey())return B;var P=k(o,i),A=P.Element,R=C(o,h,N,s,M,this.wrapperRef);return f.createElement(A,R,B)},t}(f.Component);e.exports=O},function(e,t,n){"use strict";function r(e){b||(b=new o(f(e)),b.start())}var o=n(126),i=n(7),a=n(13),l=n(6),s=n(31),u=n(8),c=n(65),f=n(66),d=n(68),p=n(43),h=n(9),g=u.isBrowser("IE"),v=20,y=!1,m=!1,b=null,w={onCompositionStart:function(e){m=!0,r(e)},onCompositionEnd:function(e){y=!1,m=!1,setTimeout(function(){y||w.resolveComposition(e)},v)},onSelect:c,onKeyDown:function(e,t){return m?void(t.which!==s.RIGHT&&t.which!==s.LEFT||t.preventDefault()):(w.resolveComposition(e),void e._onKeyDown(t))},onKeyPress:function(e,t){t.which===s.RETURN&&t.preventDefault()},resolveComposition:function(e){if(!m){var t=h(b).stopAndFlushMutations();b=null,y=!0;var n=l.set(e._latestEditorState,{inCompositionMode:!1});if(e.exitCurrentMode(),!t.size)return void e.update(n);var r=n.getCurrentContent();t.forEach(function(e,t){var o=a.decode(t),s=o.blockKey,u=o.decoratorKey,c=o.leafKey,f=n.getBlockTree(s).getIn([u,"leaves",c]),d=f.start,h=f.end,g=n.getSelection().merge({anchorKey:s,focusKey:s,anchorOffset:d,focusOffset:h,isBackward:!1}),v=p(r,g),y=r.getBlockForKey(s).getInlineStyleAt(d);r=i.replaceText(r,g,e,y,v),n=l.set(n,{currentContent:r})});var o=d(n,f(e)),s=o.selectionState;e.restoreEditorDOM();var u=g?l.forceSelection(n,s):l.acceptSelection(n,s);e.update(l.push(u,r,"insert-characters"))}}};e.exports=w},function(e,t,n){"use strict";function r(){return r=l||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var l=n(15),s=n(55),u=n(13),c=n(1),f=n(20),d=n(221),p=n(9),h=function(e,t,n,r){return f({"public/DraftStyleDefault/unorderedListItem":"unordered-list-item"===e,"public/DraftStyleDefault/orderedListItem":"ordered-list-item"===e,"public/DraftStyleDefault/reset":n,"public/DraftStyleDefault/depth0":0===t,"public/DraftStyleDefault/depth1":1===t,"public/DraftStyleDefault/depth2":2===t,"public/DraftStyleDefault/depth3":3===t,"public/DraftStyleDefault/depth4":t>=4,"public/DraftStyleDefault/listLTR":"LTR"===r,"public/DraftStyleDefault/listRTL":"RTL"===r})},g=function(e){function t(){return e.apply(this,arguments)||this}a(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e){var t=this.props.editorState,n=e.editorState,r=t.getDirectionMap(),o=n.getDirectionMap();if(r!==o)return!0;var i=t.getSelection().getHasFocus(),a=n.getSelection().getHasFocus();if(i!==a)return!0;var l=n.getNativelyRenderedContent(),s=t.isInCompositionMode(),u=n.isInCompositionMode();if(t===n||null!==l&&n.getCurrentContent()===l||s&&u)return!1;var c=t.getCurrentContent(),f=n.getCurrentContent(),d=t.getDecorator(),p=n.getDecorator();return s!==u||c!==f||d!==p||n.mustForceSelection()},n.render=function(){for(var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,i=e.blockStyleFn,a=e.customStyleMap,l=e.customStyleFn,f=e.editorState,g=e.editorKey,v=e.preventScroll,y=e.textDirectionality,m=f.getCurrentContent(),b=f.getSelection(),w=f.mustForceSelection(),x=f.getDecorator(),_=p(f.getDirectionMap()),S=m.getBlocksAsArray(),k=[],E=null,C=null,O=0;O<S.length;O++){var D=S[O],T=D.getKey(),N=D.getType(),M=n(D),I=void 0,B=void 0,P=void 0;M&&(I=M.component,B=M.props,P=M.editable);var A=y?y:_.get(T),R=u.encode(T,0,0),F={contentState:m,block:D,blockProps:B,blockStyleFn:i,customStyleMap:a,customStyleFn:l,decorator:x,direction:A,forceSelection:w,offsetKey:R,preventScroll:v,selection:b,tree:f.getBlockTree(T)},L=t.get(N)||t.get("unstyled"),j=L.wrapper,z=L.element||t.get("unstyled").element,K=D.getDepth(),U="";if(i&&(U=i(D)),"li"===z){var V=C!==j||null===E||K>E;U=d(U,h(N,K,V,A))}var H=I||s,W={className:U,"data-block":!0,"data-editor":g,"data-offset-key":R,key:T};void 0!==P&&(W=o({},W,{contentEditable:P,suppressContentEditableWarning:!0}));var q=c.createElement(z,W,c.createElement(H,r({},F,{key:T})));k.push({block:q,wrapperTemplate:j,key:T,offsetKey:R}),E=j?D.getDepth():null,C=j}for(var Y=[],X=0;X<k.length;){var $=k[X];if($.wrapperTemplate){var J=[];do J.push(k[X].block),X++;while(X<k.length&&k[X].wrapperTemplate===$.wrapperTemplate);var G=c.cloneElement($.wrapperTemplate,{key:$.key+"-wrap","data-offset-key":$.offsetKey},J);Y.push(G)}else Y.push($.block),X++}return c.createElement("div",{"data-contents":"true"},Y)},t}(c.Component);e.exports=g},function(e,t,n){"use strict";var r=n(14),o=r("draft_tree_data_support");e.exports=n(o?133:131)},function(e,t,n){"use strict";function r(){return r=i||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var i=n(15),a=n(129),l=n(13),s=n(1),u=n(9),c=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e){var t=this.props.editorState,n=e.editorState,r=t.getDirectionMap(),o=n.getDirectionMap();if(r!==o)return!0;var i=t.getSelection().getHasFocus(),a=n.getSelection().getHasFocus();if(i!==a)return!0;var l=n.getNativelyRenderedContent(),s=t.isInCompositionMode(),u=n.isInCompositionMode();if(t===n||null!==l&&n.getCurrentContent()===l||s&&u)return!1;var c=t.getCurrentContent(),f=n.getCurrentContent(),d=t.getDecorator(),p=n.getDecorator();return s!==u||c!==f||d!==p||n.mustForceSelection()},n.render=function(){for(var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,o=e.blockStyleFn,i=e.customStyleMap,c=e.customStyleFn,f=e.editorState,d=e.editorKey,p=e.textDirectionality,h=f.getCurrentContent(),g=f.getSelection(),v=f.mustForceSelection(),y=f.getDecorator(),m=u(f.getDirectionMap()),b=h.getBlocksAsArray(),w=b[0],x=[],_=w;_;){var S=_.getKey(),k={blockRenderMap:t,blockRendererFn:n,blockStyleFn:o,contentState:h,customStyleFn:c,customStyleMap:i,decorator:y,editorKey:d,editorState:f,forceSelection:v,selection:g,block:_,direction:p?p:m.get(S),tree:f.getBlockTree(S)},E=t.get(_.getType())||t.get("unstyled"),C=E.wrapper;x.push({block:s.createElement(a,r({key:S},k)),wrapperTemplate:C,key:S,offsetKey:l.encode(S,0,0)});var O=_.getNextSiblingKey();_=O?h.getBlockForKey(O):null}for(var D=[],T=0;T<x.length;){var N=x[T];if(N.wrapperTemplate){var M=[];do M.push(x[T].block),T++;while(T<x.length&&x[T].wrapperTemplate===N.wrapperTemplate);var I=s.cloneElement(N.wrapperTemplate,{key:N.key+"-wrap","data-offset-key":N.offsetKey},M);D.push(I)}else D.push(N.block),T++}return s.createElement("div",{"data-contents":"true"},D)},t}(s.Component);e.exports=c},function(e,t,n){"use strict";function r(){return r=i||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var i=n(15),a=n(13),l=n(1),s=n(46),u=n(33),c=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.block,n=e.children,o=e.contentState,i=e.decorator,c=e.decoratorKey,f=e.direction,d=e.leafSet,p=e.text,h=t.getKey(),g=d.get("leaves"),v=i.getComponentForKey(c),y=i.getPropsForKey(c),m=a.encode(h,parseInt(c,10),0),b=p.slice(g.first().get("start"),g.last().get("end")),w=u.getHTMLDirIfDifferent(s.getDirection(b),f);return l.createElement(v,r({},y,{contentState:o,decoratedText:b,dir:w,key:m,entityKey:t.getEntityAt(d.get("start")),offsetKey:m}),n)},t}(l.Component);e.exports=c},function(e,t,n){"use strict";function r(e,t){var n=null,r=null,o=f(e.currentTarget);if("function"==typeof o.caretRangeFromPoint){var i=o.caretRangeFromPoint(e.x,e.y);n=i.startContainer,r=i.startOffset}else{if(!e.rangeParent)return null;n=e.rangeParent,r=e.rangeOffset}n=v(n),r=v(r);var a=v(c(n));return p(t,a,r,a,r)}function o(e){e._internalDrag=!1;var t=e.editorContainer;if(t){var n=new MouseEvent("mouseup",{view:h(t),bubbles:!0,cancelable:!0});t.dispatchEvent(n)}}function i(e,t){var n=s.moveText(e.getCurrentContent(),e.getSelection(),t);return u.push(e,n,"insert-fragment")}function a(e,t,n){var r=s.insertText(e.getCurrentContent(),t,n,e.getCurrentInlineStyle());return u.push(e,r,"insert-fragment")}var l=n(87),s=n(7),u=n(6),c=n(27),f=n(29),d=n(76),p=n(77),h=n(78),g=n(30),v=n(9),y={onDragEnd:function(e){e.exitCurrentMode(),o(e)},onDrop:function(e,t){var n=new l(t.nativeEvent.dataTransfer),s=e._latestEditorState,u=r(t.nativeEvent,s);if(t.preventDefault(),e._dragCount=0,e.exitCurrentMode(),null!=u){var c=n.getFiles();if(c.length>0){if(e.props.handleDroppedFiles&&g(e.props.handleDroppedFiles(u,c)))return;return void d(c,function(t){t&&e.update(a(s,u,t))})}var f=e._internalDrag?"internal":"external";e.props.handleDrop&&g(e.props.handleDrop(u,n,f))||(e._internalDrag?e.update(i(s,u)):e.update(a(s,u,n.getText()))),o(e)}}};e.exports=y},function(e,t,n){"use strict";var r=n(8),o=n(156),i=n(157),a=n(158),l=n(159),s=n(160),u=n(161),c=n(162),f=n(163),d=n(164),p=n(165),h=n(166),g=n(65),v=r.isBrowser("Chrome"),y=r.isBrowser("Firefox"),m=v||y?g:function(e){},b={onBeforeInput:o,onBlur:i,onCompositionStart:a,onCopy:l,onCut:s,onDragOver:u,onDragStart:c,onFocus:f,onInput:d,onKeyDown:p,onPaste:h,onSelect:g,onMouseUp:m,onKeyUp:m};e.exports=b},function(e,t,n){"use strict";var r=n(49),o=r.unstable_flushControlled;e.exports=o},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var o=n(134),i=n(56),a=n(13),l=n(2),s=n(1),u=n(20),c=(l.List,function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.block,n=e.contentState,r=e.customStyleFn,l=e.customStyleMap,c=e.decorator,f=e.direction,d=e.forceSelection,p=e.hasSelection,h=e.selection,g=e.tree,v=t.getKey(),y=t.getText(),m=g.size-1,b=this.props.children||g.map(function(e,u){var g=e.get("decoratorKey"),b=e.get("leaves"),w=b.size-1,x=b.map(function(e,n){var o=a.encode(v,u,n),c=e.get("start"),f=e.get("end");return s.createElement(i,{key:o,offsetKey:o,block:t,start:c,selection:p?h:null,forceSelection:d,text:y.slice(c,f),styleSet:t.getInlineStyleAt(c),customStyleMap:l,customStyleFn:r,isLast:g===m&&n===w})}).toArray();return g&&c?s.createElement(o,{block:t,children:x,contentState:n,decorator:c,decoratorKey:g,direction:f,leafSet:e,text:y,key:u}):x}).toArray();return s.createElement("div",{"data-offset-key":a.encode(v,0,0),className:u({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===f,"public/DraftStyleDefault/rtl":"RTL"===f})},b)},t}(s.Component));e.exports=c},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var o=n(1),i=n(20),a=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e){return this.props.text!==e.text||this.props.editorState.getSelection().getHasFocus()!==e.editorState.getSelection().getHasFocus()},n.render=function(){var e=this.props.editorState.getSelection().getHasFocus(),t=i({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":e}),n={whiteSpace:"pre-wrap"};return o.createElement("div",{className:t},o.createElement("div",{className:i("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID,style:n},this.props.text))},t}(o.Component);e.exports=a},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return f?"\n"===e.textContent:"BR"===e.tagName}var l=n(1),s=n(8),u=n(3),c=n(18),f=s.isBrowser("IE <= 11"),d=function(e){return f?l.createElement("span",{key:"A","data-text":"true",ref:e},"\n"):l.createElement("br",{key:"A","data-text":"true",ref:e})},p=function(e){return f?l.createElement("span",{key:"B","data-text":"true",ref:e},"\n"):l.createElement("br",{key:"B","data-text":"true",ref:e})},h=function(e){function t(t){var n;return n=e.call(this,t)||this,i(r(n),"_forceFlag",void 0),i(r(n),"_node",void 0),n._forceFlag=!1,n}o(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e){var t=this._node,n=""===e.children;c(t)?void 0:u(!1);var r=t;return n?!a(r):r.textContent!==e.children},n.componentDidMount=function(){this._forceFlag=!this._forceFlag},n.componentDidUpdate=function(){this._forceFlag=!this._forceFlag},n.render=function(){var e=this;return""===this.props.children?this._forceFlag?d(function(t){return e._node=t}):p(function(t){return e._node=t}):l.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true",ref:function(t){return e._node=t}},this.props.children)},t}(l.Component);e.exports=h},function(e,t){"use strict";var n={getRemovalRange:function(e,t,n,r,o){var i=n.split(" ");i=i.map(function(e,t){if("forward"===o){if(t>0)return" "+e}else if(t<i.length-1)return e+" ";return e});for(var a,l,s=r,u=null,c=null,f=0;f<i.length;f++){if(l=i[f],a=s+l.length,e<a&&s<t)null!==u?c=a:(u=s,c=a);else if(null!==u)break;s=a}var d=r+n.length,p=u===r,h=c===d;return(!p&&h||p&&!h)&&("forward"===o?c!==d&&c++:u!==r&&u--),{start:u,end:c}}};e.exports=n},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(17),a=n(11),l=n(63),s=n(12),u=n(74),c=n(14),f=n(2),d=n(86),p=f.List,h=f.Repeat,g=c("draft_tree_data_support"),v=g?a:i,y={processHTML:function(e,t){return l(e,u,t)},processText:function(e,t,n){return e.reduce(function(e,o,i){o=d(o);var a=s(),l={key:a,type:n,text:o,characterList:p(h(t,o.length))};if(g&&0!==i){var u=i-1,c=e[u]=e[u].merge({nextSibling:a});l=r({},l,{prevSibling:c.getKey()})}return e.push(new v(l)),e},[])}};e.exports=y},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(12),a=n(3),l=function(e,t){for(var n=[].concat(e).reverse();n.length;){var r=n.pop();t(r);var o=r.children;Array.isArray(o)?void 0:a(!1),n=n.concat([].concat(o.reverse()))}},s=function(e){if(!e||!e.type)return!1;var t=e.type;return"unordered-list-item"===t||"ordered-list-item"===t},u=function(e){Array.isArray(e.children)&&(e.children=e.children.map(function(t){return t.type===e.type?r({},t,{depth:(e.depth||0)+1}):t}))},c={fromRawTreeStateToRawState:function(e){var t=e.blocks,n=[];return Array.isArray(t)?void 0:a(!1),Array.isArray(t)&&t.length?(l(t,function(e){var t=r({},e);s(e)&&(t.depth=t.depth||0,u(e),null!=e.children&&e.children.length>0)||(delete t.children,n.push(t))}),e.blocks=n,r({},e,{blocks:n})):e},fromRawStateToRawTreeState:function(e){var t=[],n=[];return e.blocks.forEach(function(e){var o=s(e),a=e.depth||0,l=r({},e,{children:[]});if(!o)return void t.push(l);var u=n[0];
if(null==u&&0===a)t.push(l);else if(null==u||u.depth<a-1){var c={key:i(),text:"",depth:a-1,type:e.type,children:[],entityRanges:[],inlineStyleRanges:[]};n.unshift(c),1===a?t.push(c):null!=u&&u.children.push(c),c.children.push(l)}else if(u.depth===a-1)u.children.push(l);else{for(;null!=u&&u.depth>=a;)n.shift(),u=n[0];a>0?u.children.push(l):t.push(l)}}),r({},e,{blocks:t})}};e.exports=c},function(e,t,n){"use strict";var r=(n(48),{isValidBlock:function(e,t){var n=e.getKey(),r=e.getParentKey();if(null!=r){var o=t.get(r);if(!o.getChildKeys().includes(n))return!1}var i=e.getChildKeys().map(function(e){return t.get(e)});if(!i.every(function(e){return e.getParentKey()===n}))return!1;var a=e.getPrevSiblingKey();if(null!=a){var l=t.get(a);if(l.getNextSiblingKey()!==n)return!1}var s=e.getNextSiblingKey();if(null!=s){var u=t.get(s);if(u.getPrevSiblingKey()!==n)return!1}return(null===s||null===a||a!==s)&&!(""!=e.text&&e.getChildKeys().size>0)},isConnectedTree:function(e){var t=e.toArray().filter(function(e){return null==e.getParentKey()&&null==e.getPrevSiblingKey()});if(1!==t.length)return!1;for(var n=t.shift(),r=0,o=n.getKey(),i=[];null!=o;){var a=e.get(o),l=a.getChildKeys(),s=a.getNextSiblingKey();if(l.size>0){null!=s&&i.unshift(s);var u=l.map(function(t){return e.get(t)}),c=u.find(function(e){return null==e.getPrevSiblingKey()});if(null==c)return!1;o=c.getKey()}else o=null!=a.getNextSiblingKey()?a.getNextSiblingKey():i.shift();r++}return r===e.size},isValidTree:function(e){var t=this,n=e.toArray();return!!n.every(function(n){return t.isValidBlock(n,e)})&&this.isConnectedTree(e)}});e.exports=r},function(e,t,n){"use strict";var r,o=n(209),i=n(2),a=n(9),l=i.OrderedMap,s={getDirectionMap:function(e,t){r?r.reset():r=new o;var n=e.getBlockMap(),s=n.valueSeq().map(function(e){return a(r).getDirection(e.getText())}),u=l(n.keySeq().zip(s));return null!=t&&i.is(t,u)?t:u}};e.exports=s},function(e,t){"use strict"},function(e,t,n){"use strict";var r=n(7),o=n(6),i=n(28),a=n(9),l=null,s={cut:function(e){var t=e.getCurrentContent(),n=e.getSelection(),s=null;if(n.isCollapsed()){var u=n.getAnchorKey(),c=t.getBlockForKey(u).getLength();if(c===n.getAnchorOffset()){var f=t.getKeyAfter(u);if(null==f)return e;s=n.set("focusKey",f).set("focusOffset",0)}else s=n.set("focusOffset",c)}else s=n;s=a(s),l=i(t,s);var d=r.removeRange(t,s,"forward");return d===t?e:o.push(e,d,"remove-range")},paste:function(e){if(!l)return e;var t=r.replaceWithFragment(e.getCurrentContent(),e.getSelection(),l);return o.push(e,t,"insert-fragment")}};e.exports=s},function(e,t){"use strict";function n(e,t,n,r){var o=t.getStartKey(),i=t.getEndKey(),a=e.getBlockMap(),l=a.toSeq().skipUntil(function(e,t){return t===o}).takeUntil(function(e,t){return t===i}).concat([[i,a.get(i)]]).map(function(e){var t=e.getDepth()+n;return t=Math.max(0,Math.min(t,r)),e.set("depth",t)});return a=a.merge(l),e.merge({blockMap:a,selectionBefore:t,selectionAfter:t})}e.exports=n},function(e,t,n){"use strict";function r(e,t,n,r){for(var i=t,a=e.getCharacterList();i<n;)a=a.set(i,o.applyEntity(a.get(i),r)),i++;return e.set("characterList",a)}var o=n(10);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r=e.getBlockMap(),a=t.getStartKey(),l=t.getStartOffset(),s=t.getEndKey(),u=t.getEndOffset(),c=r.skipUntil(function(e,t){return t===a}).takeUntil(function(e,t){return t===s}).toOrderedMap().merge(i.OrderedMap([[s,r.get(s)]])).map(function(e,t){var r=t===a?l:0,i=t===s?u:e.getLength();return o(e,r,i,n)});return e.merge({blockMap:r.merge(c),selectionBefore:t,selectionAfter:t})}var o=n(149),i=n(2);e.exports=r},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(17),a=n(11),l=n(61),s=n(167),u=n(168),c=n(3),f=function(e,t){return{key:e.getKey(),text:e.getText(),type:e.getType(),depth:e.getDepth(),inlineStyleRanges:u(e),entityRanges:s(e,t),data:e.getData().toObject()}},d=function(e,t,n,o){if(e instanceof i)return void n.push(f(e,t));e instanceof a?void 0:c(!1);var l=e.getParentKey(),s=o[e.getKey()]=r({},f(e,t),{children:[]});return l?void o[l].children.push(s):void n.push(s)},p=function(e,t){var n=t.entityMap,r=[],o={},i={},a=0;return e.getBlockMap().forEach(function(e){e.findEntityRanges(function(e){return null!==e.getEntity()},function(t){var r=e.getEntityAt(t),o=l.stringify(r);i[o]||(i[o]=r,n[o]="".concat(a),a++)}),d(e,n,r,o)}),{blocks:r,entityMap:n}},h=function(e,t){var n=t.blocks,r=t.entityMap,o={};return Object.keys(r).forEach(function(t,n){var r=e.getEntity(l.unstringify(t));o[n]={type:r.getType(),mutability:r.getMutability(),data:r.getData()}}),{blocks:n,entityMap:o}},g=function(e){var t={entityMap:{},blocks:[]};return t=p(e,t),t=h(e,t)};e.exports=g},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(17),a=n(11),l=n(40),s=n(25),u=n(143),c=(n(144),n(26)),f=n(153),d=n(154),p=n(155),h=n(12),g=n(14),v=n(2),y=n(3),m=g("draft_tree_data_support"),b=v.List,w=v.Map,x=v.OrderedMap,_=function(e,t){var n=e.key,r=e.type,o=e.data,i=e.text,a=e.depth,l={text:i,depth:a||0,type:r||"unstyled",key:n||h(),data:w(o),characterList:S(e,t)};return l},S=function(e,t){var n=e.text,o=e.entityRanges,i=e.inlineStyleRanges,a=o||[],l=i||[];return f(p(n,l),d(n,a.filter(function(e){return t.hasOwnProperty(e.key)}).map(function(e){return r({},e,{key:t[e.key]})})))},k=function(e){return r({},e,{key:e.key||h()})},E=function(e,t,n){var o=t.map(function(e){return r({},e,{parentRef:n})});return e.concat(o.reverse())},C=function(e,t){return e.map(k).reduce(function(n,o,i){Array.isArray(o.children)?void 0:y(!1);var l=o.children.map(k),s=new a(r({},_(o,t),{prevSibling:0===i?null:e[i-1].key,nextSibling:i===e.length-1?null:e[i+1].key,children:b(l.map(function(e){return e.key}))}));n=n.set(s.getKey(),s);for(var u=E([],l,s);u.length>0;){var c=u.pop(),f=c.parentRef,d=f.getChildKeys(),p=d.indexOf(c.key),h=Array.isArray(c.children);if(!h){h?void 0:y(!1);break}var g=c.children.map(k),v=new a(r({},_(c,t),{parent:f.getKey(),children:b(g.map(function(e){return e.key})),prevSibling:0===p?null:d.get(p-1),nextSibling:p===d.size-1?null:d.get(p+1)}));n=n.set(v.getKey(),v),u=E(u,g,v)}return n},x())},O=function(e,t){return x(e.map(function(e){var n=new i(_(e,t));return[n.getKey(),n]}))},D=function(e,t){var n=e.blocks.find(function(e){return Array.isArray(e.children)&&e.children.length>0}),r=m&&!n?u.fromRawStateToRawTreeState(e).blocks:e.blocks;if(!m)return O(n?u.fromRawTreeStateToRawState(e).blocks:r,t);var o=C(r,t);return o},T=function(e){var t=e.entityMap,n={};return Object.keys(t).forEach(function(e){var r=t[e],o=r.type,i=r.mutability,a=r.data;n[e]=s.__create(o,i,a||{})}),n},N=function(e){Array.isArray(e.blocks)?void 0:y(!1);var t=T(e),n=D(e,t),r=n.isEmpty()?new c:c.createEmpty(n.first().getKey());return new l({blockMap:n,entityMap:t,selectionBefore:r,selectionAfter:r})};e.exports=N},function(e,t,n){"use strict";function r(e,t){var n=e.map(function(e,n){var r=t[n];return o.create({style:e,entity:r})});return a(n)}var o=n(10),i=n(2),a=i.List;e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=Array(e.length).fill(null);return t&&t.forEach(function(t){for(var r=i(e,0,t.offset).length,o=r+i(e,t.offset,t.length).length,a=r;a<o;a++)n[a]=t.key}),n}var o=n(19),i=o.substr;e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=Array(e.length).fill(s);return t&&t.forEach(function(t){for(var r=l(e,0,t.offset).length,o=r+l(e,t.offset,t.length).length;r<o;)n[r]=n[r].add(t.style),r++}),n}var o=n(19),i=n(2),a=i.OrderedSet,l=o.substr,s=a();e.exports=r},function(e,t,n){"use strict";function r(e){return v&&(e==h||e==g)}function o(e,t,n,r,o){var i=a.replaceText(e.getCurrentContent(),e.getSelection(),t,n,r);return l.push(e,i,"insert-characters",o)}function i(e,t){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var n=e._latestEditorState,i=t.data;if(i){if(e.props.handleBeforeInput&&c(e.props.handleBeforeInput(i,n,t.timeStamp)))return void t.preventDefault();var a=n.getSelection(),s=a.getStartOffset(),h=a.getAnchorKey();if(!a.isCollapsed())return t.preventDefault(),void e.update(o(n,i,n.getCurrentInlineStyle(),u(n.getCurrentContent(),n.getSelection()),!0));var g=o(n,i,n.getCurrentInlineStyle(),u(n.getCurrentContent(),n.getSelection()),!1),v=!1;if(v||(v=f(e._latestCommittedEditorState)),!v){var y=n.getBlockTree(h),m=g.getBlockTree(h);v=y.size!==m.size||y.zip(m).some(function(e){var t=e[0],n=e[1],r=t.get("start"),o=r+(r>=s?i.length:0),a=t.get("end"),l=a+(a>=s?i.length:0),u=n.get("start"),c=n.get("end"),f=n.get("decoratorKey");return t.get("decoratorKey")!==f||t.get("leaves").size!==n.get("leaves").size||o!==u||l!==c||null!=f&&c-u!==a-r})}if(v||(v=r(i)),v||(v=d(g.getDirectionMap()).get(h)!==d(n.getDirectionMap()).get(h)),v)return t.preventDefault(),g=l.set(g,{forceSelection:!0}),void e.update(g);g=l.set(g,{nativelyRenderedContent:g.getCurrentContent()}),e._pendingStateFromBeforeInput=g,p(function(){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0)})}}var a=n(7),l=n(6),s=n(8),u=n(43),c=n(30),f=n(179),d=n(9),p=n(224),h="'",g="/",v=s.isBrowser("Firefox");e.exports=i},function(e,t,n){"use strict";function r(e,t){var n=t.currentTarget.ownerDocument;if(!Boolean(e.props.preserveSelectionOnBlur)&&a(n)===n.body){var r=n.defaultView.getSelection(),l=e.editor;1===r.rangeCount&&i(l,r.anchorNode)&&i(l,r.focusNode)&&r.removeAllRanges()}var s=e._latestEditorState,u=s.getSelection();if(u.getHasFocus()){var c=u.set("hasFocus",!1);e.props.onBlur&&e.props.onBlur(t),e.update(o.acceptSelection(s,c))}}var o=n(6),i=n(47),a=n(89);e.exports=r},function(e,t,n){"use strict";function r(e,t){e.setMode("composite"),e.update(o.set(e._latestEditorState,{inCompositionMode:!0})),e._onCompositionStart(t)}var o=n(6);e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=e._latestEditorState,r=n.getSelection();return r.isCollapsed()?void t.preventDefault():void e.setClipboard(o(e._latestEditorState))}var o=n(70);e.exports=r},function(e,t,n){"use strict";function r(e,t){var n,r=e._latestEditorState,i=r.getSelection(),a=t.target;if(i.isCollapsed())return void t.preventDefault();if(c(a)){var f=a;n=u(l.getScrollParent(f))}var d=s(r);e.setClipboard(d),e.setMode("cut"),setTimeout(function(){e.restoreEditorDOM(n),e.exitCurrentMode(),e.update(o(r))},0)}function o(e){var t=i.removeRange(e.getCurrentContent(),e.getSelection(),"forward");return a.push(e,t,"remove-range")}var i=n(7),a=n(6),l=n(32),s=n(70),u=n(34),c=n(178);e.exports=r},function(e,t){"use strict";function n(e,t){e.setMode("drag"),t.preventDefault()}e.exports=n},function(e,t){"use strict";function n(e){e._internalDrag=!0,e.setMode("drag")}e.exports=n},function(e,t,n){"use strict";function r(e,t){var n=e._latestEditorState,r=n.getSelection();if(!r.getHasFocus()){var a=r.set("hasFocus",!0);e.props.onFocus&&e.props.onFocus(t),i.isBrowser("Chrome < 60.0.3081.0")?e.update(o.forceSelection(n,a)):e.update(o.acceptSelection(n,a))}}var o=n(6),i=n(8);e.exports=r},function(e,t,n){"use strict";function r(e,t){switch(e){case"deleteContentBackward":return d(t)}return t}function o(e,t){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var n=e.editor,o=n.ownerDocument.defaultView.getSelection(),s=o.anchorNode,u=o.isCollapsed,d=(null===s||void 0===s?void 0:s.nodeType)!==Node.TEXT_NODE&&(null===s||void 0===s?void 0:s.nodeType)!==Node.ELEMENT_NODE;if(null!=s&&!d){if(s.nodeType===Node.TEXT_NODE&&(null!==s.previousSibling||null!==s.nextSibling)){var v=s.parentNode;if(null==v)return;s.nodeValue=v.textContent;for(var y=v.firstChild;null!=y;y=y.nextSibling)y!==s&&v.removeChild(y)}var m=s.textContent,b=e._latestEditorState,w=p(f(s)),x=a.decode(w),_=x.blockKey,S=x.decoratorKey,k=x.leafKey,E=b.getBlockTree(_).getIn([S,"leaves",k]),C=E.start,O=E.end,D=b.getCurrentContent(),T=D.getBlockForKey(_),N=T.getText().slice(C,O);if(m.endsWith(g)&&(m=m.slice(0,-1)),m!==N){var M,I,B,P,A=b.getSelection(),R=A.merge({anchorOffset:C,focusOffset:O,isBackward:!1}),F=T.getEntityAt(C),L=c(F)?D.getEntity(F):null,j=null!=L?L.getMutability():null,z="MUTABLE"===j,K=z?"spellcheck-change":"apply-entity",U=i.replaceText(D,R,m,T.getInlineStyleAt(C),z?T.getEntityAt(C):null);if(h)M=o.anchorOffset,I=o.focusOffset,B=C+Math.min(M,I),P=B+Math.abs(M-I),M=B,I=P;else{var V=m.length-N.length;B=A.getStartOffset(),P=A.getEndOffset(),M=u?P+V:B,I=P+V}var H=U.merge({selectionBefore:D.getSelectionAfter(),selectionAfter:A.merge({anchorOffset:M,focusOffset:I})});e.update(l.push(b,H,K))}else{var W=t.nativeEvent.inputType;if(W){var q=r(W,b);if(q!==b)return e.restoreEditorDOM(),void e.update(q)}}}}var i=n(7),a=n(13),l=n(6),s=n(8),u=n(64),c=u.notEmptyKey,f=n(27),d=n(81),p=n(9),h=s.isEngine("Gecko"),g="\n\n";e.exports=o},function(e,t,n){"use strict";function r(e,t,n){switch(e){case"redo":return a.redo(t);case"delete":return b(t);case"delete-word":return h(t);case"backspace":return m(t);case"backspace-word":return p(t);case"backspace-to-start-of-line":return d(t,n);case"split-block":return g(t);case"transpose-characters":return w(t);case"move-selection-to-start-of-block":return y(t);case"move-selection-to-end-of-block":return v(t);case"secondary-cut":return u.cut(t);case"secondary-paste":return u.paste(t);default:return t}}function o(e,t){function n(n){var r=e.props[n];return!!r&&(r(t),!0)}var o=t.which,l=e._latestEditorState;switch(o){case s.RETURN:if(t.preventDefault(),e.props.handleReturn&&f(e.props.handleReturn(t,l)))return;break;case s.ESC:if(t.preventDefault(),n("onEscape"))return;break;case s.TAB:if(n("onTab"))return;break;case s.UP:if(n("onUpArrow"))return;break;case s.RIGHT:if(n("onRightArrow"))return;break;case s.DOWN:if(n("onDownArrow"))return;break;case s.LEFT:if(n("onLeftArrow"))return;break;case s.SPACE:S&&_(t)&&t.preventDefault()}var u=e.props.keyBindingFn(t);if(null!=u&&""!==u){if("undo"===u)return void x(t,l,e.update);if(t.preventDefault(),!e.props.handleKeyCommand||!f(e.props.handleKeyCommand(u,l,t.timeStamp))){var c=r(u,l,t);c!==l&&e.update(c)}}else if(o===s.SPACE&&S&&_(t)){var d=i.replaceText(l.getCurrentContent(),l.getSelection()," ");e.update(a.push(l,d,"insert-characters"))}}var i=n(7),a=n(6),l=n(42),s=n(31),u=n(147),c=n(8),f=n(30),d=n(181),p=n(182),h=n(183),g=n(184),v=n(185),y=n(186),m=n(81),b=n(187),w=n(188),x=n(189),_=l.isOptionKeyCommand,S=c.isBrowser("Chrome");e.exports=o},function(e,t,n){"use strict";function r(e,t){t.preventDefault();var n=new s(t.clipboardData);if(!n.isRichText()){var r=n.getFiles(),y=n.getText();if(r.length>0){if(e.props.handlePastedFiles&&g(e.props.handlePastedFiles(r)))return;return void h(r,function(t){if(t=t||y){var n=e._latestEditorState,r=v(t),o=l.create({style:n.getCurrentInlineStyle(),entity:p(n.getCurrentContent(),n.getSelection())}),i=d.getCurrentBlockType(n),s=c.processText(r,o,i),h=a.createFromArray(s),g=u.replaceWithFragment(n.getCurrentContent(),n.getSelection(),h);e.update(f.push(n,g,"insert-fragment"))}})}}var m=[],b=n.getText(),w=n.getHTML(),x=e._latestEditorState;if(e.props.formatPastedText){var _=e.props.formatPastedText(b,w),S=_.text,k=_.html;b=S,w=k}if(!e.props.handlePastedText||!g(e.props.handlePastedText(b,w,x))){if(b&&(m=v(b)),!e.props.stripPastedStyles){var E=e.getClipboard();if(!e.props.formatPastedText&&n.isRichText()&&E){var C;if((null===(C=w)||void 0===C?void 0:C.indexOf(e.getEditorKey()))!==-1||1===m.length&&1===E.size&&E.first().getText()===b)return void e.update(o(e._latestEditorState,E))}else if(E&&n.types.includes("com.apple.webarchive")&&!n.types.includes("text/html")&&i(m,E))return void e.update(o(e._latestEditorState,E));if(w){var O=c.processHTML(w,e.props.blockRenderMap);if(O){var D=O.contentBlocks,T=O.entityMap;if(D){var N=a.createFromArray(D);return void e.update(o(e._latestEditorState,N,T))}}}e.setClipboard(null)}if(m.length){var M=l.create({style:x.getCurrentInlineStyle(),entity:p(x.getCurrentContent(),x.getSelection())}),I=d.getCurrentBlockType(x),B=c.processText(m,M,I),P=a.createFromArray(B);e.update(o(e._latestEditorState,P))}}}function o(e,t,n){var r=u.replaceWithFragment(e.getCurrentContent(),e.getSelection(),t);return f.push(e,r.set("entityMap",n),"insert-fragment")}function i(e,t){return e.length===t.size&&t.valueSeq().every(function(t,n){return t.getText()===e[n]})}var a=n(21),l=n(10),s=n(87),u=n(7),c=n(142),f=n(6),d=n(62),p=n(43),h=n(76),g=n(30),v=n(194);e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=[];return e.findEntityRanges(function(e){return!!e.getEntity()},function(r,i){var l=e.getText(),s=e.getEntityAt(r);n.push({offset:a(l.slice(0,r)),length:a(l.slice(r,i)),key:Number(t[o.stringify(s)])})}),n}var o=n(61),i=n(19),a=i.strlen;e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r=[],o=t.map(function(e){return e.has(n)}).toList();return a(o,l,s,function(t,o){var a=e.getText();r.push({offset:i.strlen(a.slice(0,t)),length:i.strlen(a.slice(t,o)),style:n})}),r}function o(e){var t=e.getCharacterList().map(function(e){return e.getStyle()}).toList(),n=t.flatten().toSet().map(function(n){return r(e,t,n)});return Array.prototype.concat.apply(u,n.toJS())}var i=n(19),a=n(22),l=function(e,t){return e===t},s=function(e){return!!e},u=[];e.exports=o},function(e,t,n){"use strict";function r(e){var t=getComputedStyle(e),n=s(e),r=n.createElement("div");r.style.fontFamily=t.fontFamily,r.style.fontSize=t.fontSize,r.style.fontStyle=t.fontStyle,r.style.fontWeight=t.fontWeight,r.style.lineHeight=t.lineHeight,r.style.position="absolute",r.textContent="M";var o=n.body;o?void 0:c(!1),o.appendChild(r);var i=r.getBoundingClientRect();return o.removeChild(r),i.height}function o(e,t){for(var n=1/0,r=1/0,o=-(1/0),i=-(1/0),a=0;a<e.length;a++){var l=e[a];0!==l.width&&1!==l.width&&(n=Math.min(n,l.top),r=Math.min(r,l.bottom),o=Math.max(o,l.top),i=Math.max(i,l.bottom))}return o<=r&&o-n<t&&i-r<t}function i(e){switch(e.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return e.length;default:return e.childNodes.length}}function a(e){e.collapsed?void 0:c(!1),e=e.cloneRange();var t=e.startContainer;1!==t.nodeType&&(t=t.parentNode);var n=r(t),a=e.endContainer,s=e.endOffset;for(e.setStart(e.startContainer,0);o(u(e),n)&&(a=e.startContainer,s=e.startOffset,a.parentNode?void 0:c(!1),e.setStartBefore(a),1!==a.nodeType||"inline"===getComputedStyle(a).display););for(var f=a,d=s-1;;){for(var p=f.nodeValue,h=d;h>=0;h--)if(!(null!=p&&h>0&&l.isSurrogatePair(p,h-1))){if(e.setStart(f,h),!o(u(e),n))break;a=f,s=h}if(h===-1||0===f.childNodes.length)break;f=f.childNodes[h],d=i(f)}return e.setStart(a,s),e}var l=n(19),s=n(29),u=n(73),c=n(3);e.exports=a},function(e,t,n){"use strict";function r(e,t,n,r,i){var a=r.getStartOffset(),l=r.getEndOffset(),s=t.getEntityAt(a),u=n.getEntityAt(l-1);if(!s&&!u)return r;var c=r;if(s&&s===u)c=o(e,t,c,i,s,!0,!0);else if(s&&u){var f=o(e,t,c,i,s,!1,!0),d=o(e,n,c,i,u,!1,!1);c=c.merge({anchorOffset:f.getAnchorOffset(),focusOffset:d.getFocusOffset(),isBackward:!1})}else if(s){var p=o(e,t,c,i,s,!1,!0);c=c.merge({anchorOffset:p.getStartOffset(),isBackward:!1})}else if(u){var h=o(e,n,c,i,u,!1,!1);c=c.merge({focusOffset:h.getEndOffset(),isBackward:!1})}return c}function o(e,t,n,r,o,s,u){var c=n.getStartOffset(),f=n.getEndOffset(),d=e.__get(o),p=d.getMutability(),h=u?c:f;if("MUTABLE"===p)return n;var g=a(t,o).filter(function(e){return h<=e.end&&h>=e.start});1!=g.length?l(!1):void 0;var v=g[0];if("IMMUTABLE"===p)return n.merge({anchorOffset:v.start,focusOffset:v.end,isBackward:!1});s||(u?f=v.end:c=v.start);var y=i.getRemovalRange(c,f,t.getText().slice(v.start,v.end),v.start,r);return n.merge({anchorOffset:y.start,focusOffset:y.end,isBackward:!1})}var i=n(141),a=n(172),l=n(3);e.exports=r},function(e,t,n){"use strict";function r(e){var t=o(e),n=0,r=0,i=0,a=0;if(t.length){if(t.length>1&&0===t[0].width){var l=t[1];n=l.top,r=l.right,i=l.bottom,a=l.left}else{var s=t[0];n=s.top,r=s.right,i=s.bottom,a=s.left}for(var u=1;u<t.length;u++){var c=t[u];0!==c.height&&0!==c.width&&(n=Math.min(n,c.top),r=Math.max(r,c.right),i=Math.max(i,c.bottom),a=Math.min(a,c.left))}}return{top:n,right:r,bottom:i,left:a,width:r-a,height:i-n}}var o=n(73);e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=[];return e.findEntityRanges(function(e){return e.getEntity()===t},function(e,t){n.push({start:e,end:t})}),n.length?void 0:o(!1),n}var o=n(3);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.getSelection();if(!t.rangeCount)return null;var n=t.getRangeAt(0),r=o(n),i=r.top,a=r.right,l=r.bottom,s=r.left;return 0===i&&0===a&&0===l&&0===s?null:r}var o=n(171);e.exports=r},function(e,t,n){"use strict";var r=n(21),o=n(11),i=n(2),a=n(79),l=n(3),s=n(84),u=i.List,c=function(e,t,n,r,o,i){var l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"REPLACE_WITH_NEW_DATA",s=n.get(o),u=s.getText(),c=s.getCharacterList(),f=o,d=i+r.getText().length,p=null;switch(l){case"MERGE_OLD_DATA_TO_NEW_DATA":p=r.getData().merge(s.getData());break;case"REPLACE_WITH_NEW_DATA":p=r.getData()}var h=s.getType();u&&"unstyled"===h&&(h=r.getType());var g=s.merge({text:u.slice(0,i)+r.getText()+u.slice(i),characterList:a(c,r.getCharacterList(),i),type:h,data:p});return e.merge({blockMap:n.set(o,g),selectionBefore:t,selectionAfter:t.merge({anchorKey:f,anchorOffset:d,focusKey:f,focusOffset:d,isBackward:!1})})},f=function(e,t,n){var r=e.getText(),o=e.getCharacterList(),i=r.slice(0,t),a=o.slice(0,t),l=n.first();return e.merge({text:i+l.getText(),characterList:a.concat(l.getCharacterList()),type:i?e.getType():l.getType(),data:l.getData()})},d=function(e,t,n){var r=e.getText(),o=e.getCharacterList(),i=r.length,a=r.slice(t,i),l=o.slice(t,i),s=n.last();return s.merge({text:s.getText()+a,characterList:s.getCharacterList().concat(l),data:s.getData()})},p=function(e,t){var n=e.getKey(),r=e,o=[];for(t.get(n)&&o.push(n);r&&r.getNextSiblingKey();){var i=r.getNextSiblingKey();if(!i)break;o.push(i),r=t.get(i)}return o},h=function(e,t,n,r){return e.withMutations(function(t){var o=n.getKey(),i=r.getKey(),a=n.getNextSiblingKey(),l=n.getParentKey(),s=p(r,e),c=s[s.length-1];if(t.get(i)?(t.setIn([o,"nextSibling"],i),t.setIn([i,"prevSibling"],o)):(t.setIn([o,"nextSibling"],r.getNextSiblingKey()),t.setIn([r.getNextSiblingKey(),"prevSibling"],o)),t.setIn([c,"nextSibling"],a),a&&t.setIn([a,"prevSibling"],c),s.forEach(function(e){return t.setIn([e,"parent"],l)}),l){var f=e.get(l),d=f.getChildKeys(),h=d.indexOf(o),g=h+1,v=d.toArray();v.splice.apply(v,[g,0].concat(s)),t.setIn([l,"children"],u(v))}})},g=function(e,t,n,i,a,l){var s=n.first()instanceof o,u=[],c=i.size,p=n.get(a),g=i.first(),v=i.last(),y=v.getLength(),m=v.getKey(),b=s&&(!p.getChildKeys().isEmpty()||!g.getChildKeys().isEmpty());n.forEach(function(e,t){return t!==a?void u.push(e):(b?u.push(e):u.push(f(e,l,i)),i.slice(b?0:1,c-1).forEach(function(e){return u.push(e)}),void u.push(d(e,l,i)))});var w=r.createFromArray(u);return s&&(w=h(w,n,p,g)),e.merge({blockMap:w,selectionBefore:t,selectionAfter:t.merge({anchorKey:m,anchorOffset:y,focusKey:m,focusOffset:y,isBackward:!1})})},v=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA";t.isCollapsed()?void 0:l(!1);var i=e.getBlockMap(),a=s(n),u=t.getStartKey(),f=t.getStartOffset(),d=i.get(u);return d instanceof o&&(d.getChildKeys().isEmpty()?void 0:l(!1)),1===a.size?c(e,t,i,a.first(),u,f,r):g(e,t,i,a,u,f)};e.exports=v},function(e,t,n){"use strict";function r(e,t,n,r){t.isCollapsed()?void 0:a(!1);var o=null;if(null!=n&&(o=n.length),null==o||0===o)return e;var s=e.getBlockMap(),u=t.getStartKey(),c=t.getStartOffset(),f=s.get(u),d=f.getText(),p=f.merge({text:d.slice(0,c)+n+d.slice(c,f.getLength()),characterList:i(f.getCharacterList(),l(r,o).toList(),c)}),h=c+o;return e.merge({blockMap:s.set(u,p),selectionAfter:t.merge({anchorOffset:h,focusOffset:h})})}var o=n(2),i=n(79),a=n(3),l=o.Repeat;e.exports=r},function(e,t,n){"use strict";function r(e){return!(!e||!e.ownerDocument)&&(o(e)&&"A"===e.nodeName)}var o=n(18);e.exports=r},function(e,t,n){"use strict";function r(e){return!(!e||!e.ownerDocument)&&(o(e)&&"IMG"===e.nodeName)}var o=n(18);e.exports=r},function(e,t){"use strict";function n(e){if(!(e&&"ownerDocument"in e))return!1;if("ownerDocument"in e){var t=e;if(!t.ownerDocument.defaultView)return t instanceof Node;if(t instanceof t.ownerDocument.defaultView.Node)return!0}return!1}e.exports=n},function(e,t){"use strict";function n(e){var t=e.getSelection(),n=t.getAnchorKey(),r=e.getBlockTree(n),o=t.getStartOffset(),i=!1;return r.some(function(e){return o===e.get("start")?(i=!0,!0):o<e.get("end")&&e.get("leaves").some(function(e){var t=e.get("start");return o===t&&(i=!0,!0)})}),i}e.exports=n},function(e,t,n){"use strict";function r(e){return e.which===o.RETURN&&(e.getModifierState("Shift")||e.getModifierState("Alt")||e.getModifierState("Control"))}var o=n(31);e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=s(e,function(e){var n=e.getSelection();if(n.isCollapsed()&&0===n.getAnchorOffset())return l(e,1);var r=t.currentTarget.ownerDocument,o=r.defaultView.getSelection(),s=o.getRangeAt(0);return s=i(s),a(e,null,s.endContainer,s.endOffset,s.startContainer,s.startOffset).selectionState},"backward");return n===e.getCurrentContent()?e:o.push(e,n,"remove-range")}var o=n(6),i=n(169),a=n(69),l=n(44),s=n(24);e.exports=r},function(e,t,n){"use strict";function r(e){var t=l(e,function(e){var t=e.getSelection(),n=t.getStartOffset();if(0===n)return a(e,1);var r=t.getStartKey(),i=e.getCurrentContent(),l=i.getBlockForKey(r).getText().slice(0,n),s=o.getBackward(l);return a(e,s.length||1)},"backward");return t===e.getCurrentContent()?e:i.push(e,t,"remove-range")}var o=n(60),i=n(6),a=n(44),l=n(24);e.exports=r},function(e,t,n){"use strict";function r(e){var t=l(e,function(e){var t=e.getSelection(),n=t.getStartOffset(),r=t.getStartKey(),i=e.getCurrentContent(),l=i.getBlockForKey(r).getText().slice(n),s=o.getForward(l);return a(e,s.length||1)},"forward");return t===e.getCurrentContent()?e:i.push(e,t,"remove-range")}var o=n(60),i=n(6),a=n(83),l=n(24);e.exports=r},function(e,t,n){"use strict";function r(e){var t=o.splitBlock(e.getCurrentContent(),e.getSelection());return i.push(e,t,"split-block")}var o=n(7),i=n(6);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.getSelection(),n=t.getEndKey(),r=e.getCurrentContent(),i=r.getBlockForKey(n).getLength();return o.set(e,{selection:t.merge({anchorKey:n,anchorOffset:i,focusKey:n,focusOffset:i,isBackward:!1}),forceSelection:!0})}var o=n(6);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.getSelection(),n=t.getStartKey();return o.set(e,{selection:t.merge({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:0,isBackward:!1}),forceSelection:!0})}var o=n(6);e.exports=r},function(e,t,n){"use strict";function r(e){var t=l(e,function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),o=t.getAnchorOffset(),l=n.getBlockForKey(r).getText()[o];return a(e,l?i.getUTF16Length(l,0):1)},"forward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return o.push(e,t.set("selectionBefore",n),n.isCollapsed()?"delete-character":"remove-range")}var o=n(6),i=n(19),a=n(83),l=n(24);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.getSelection();if(!t.isCollapsed())return e;var n=t.getAnchorOffset();if(0===n)return e;var r=t.getAnchorKey(),l=e.getCurrentContent(),s=l.getBlockForKey(r),u=s.getLength();if(u<=1)return e;var c,f;n===u?(c=t.set("anchorOffset",n-1),f=t):(c=t.set("focusOffset",n+1),f=c.set("anchorOffset",n+1));var d=a(l,c),p=o.removeRange(l,c,"backward"),h=p.getSelectionAfter(),g=h.getAnchorOffset()-1,v=h.merge({anchorOffset:g,focusOffset:g}),y=o.replaceWithFragment(p,v,d),m=i.push(e,y,"insert-fragment");return i.acceptSelection(m,f)}var o=n(7),i=n(6),a=n(28);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r=o.undo(t);if("spellcheck-change"===t.getLastChangeType()){var i=r.getCurrentContent();return void n(o.set(r,{nativelyRenderedContent:i}))}return e.preventDefault(),t.getNativelyRenderedContent()?(n(o.set(t,{nativelyRenderedContent:null})),void setTimeout(function(){n(r)},0)):void n(r)}var o=n(6);e.exports=r},function(e,t,n){"use strict";var r=n(11),o=n(71),i=n(2),a=n(3),l=i.OrderedMap,s=i.List,u=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},c=function(e,t,n,r,o){if(!o)return e;var i="after"===r,a=t.getKey(),l=n.getKey(),c=t.getParentKey(),f=t.getNextSiblingKey(),d=t.getPrevSiblingKey(),p=n.getParentKey(),h=i?n.getNextSiblingKey():l,g=i?l:n.getPrevSiblingKey();return e.withMutations(function(e){u(c,e,function(e){var t=e.getChildKeys();return e.merge({children:t.delete(t.indexOf(a))})}),u(d,e,function(e){return e.merge({nextSibling:f})}),u(f,e,function(e){return e.merge({prevSibling:d})}),u(h,e,function(e){return e.merge({prevSibling:a})}),u(g,e,function(e){return e.merge({nextSibling:a})}),u(p,e,function(e){var t=e.getChildKeys(),n=t.indexOf(l),r=i?n+1:0!==n?n-1:0,o=t.toArray();return o.splice(r,0,a),e.merge({children:s(o)})}),u(a,e,function(e){return e.merge({nextSibling:h,prevSibling:g,parent:p})})})},f=function(e,t,n,i){"replace"===i?a(!1):void 0;var s=n.getKey(),u=t.getKey();u===s?a(!1):void 0;var f=e.getBlockMap(),d=t instanceof r,p=[t],h=f.delete(u);d&&(p=[],h=f.withMutations(function(e){var n=t.getNextSiblingKey(),r=o(t,e);e.toSeq().skipUntil(function(e){return e.getKey()===u}).takeWhile(function(e){var t=e.getKey(),o=t===u,i=n&&t!==n,a=!n&&e.getParentKey()&&(!r||t!==r);return!!(o||i||a)}).forEach(function(t){p.push(t),e.delete(t.getKey())})}));var g=h.toSeq().takeUntil(function(e){return e===n}),v=h.toSeq().skipUntil(function(e){return e===n}).skip(1),y=p.map(function(e){return[e.getKey(),e]}),m=l();if("before"===i){var b=e.getBlockBefore(s);b&&b.getKey()===t.getKey()?a(!1):void 0,m=g.concat([].concat(y,[[s,n]]),v).toOrderedMap()}else if("after"===i){var w=e.getBlockAfter(s);w&&w.getKey()===u?a(!1):void 0,m=g.concat([[s,n]].concat(y),v).toOrderedMap()}return e.merge({blockMap:c(m,t,n,i,d),selectionBefore:e.getSelectionAfter(),selectionAfter:e.getSelectionAfter().merge({anchorKey:u,focusKey:u})})};e.exports=f},function(e,t,n){"use strict";var r=n(11),o=n(71),i=n(2),a=(i.List,i.Map),l=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},s=function(e,t){var n=[];if(!e)return n;for(var r=t.get(e);r&&r.getParentKey();){var o=r.getParentKey();o&&n.push(o),r=o?t.get(o):null}return n},u=function(e,t){var n=[];if(!e)return n;for(var r=o(e,t);r&&t.get(r);){var i=t.get(r);n.push(r),r=i.getParentKey()?o(i,t):null}return n},c=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getNextSiblingKey();r&&!t.get(r);)r=n.get(r).getNextSiblingKey()||null;return r},f=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getPrevSiblingKey();r&&!t.get(r);)r=n.get(r).getPrevSiblingKey()||null;return r},d=function(e,t,n,r){return e.withMutations(function(o){if(l(t.getKey(),o,function(e){return e.merge({nextSibling:c(e,o,r),prevSibling:f(e,o,r)})}),l(n.getKey(),o,function(e){return e.merge({nextSibling:c(e,o,r),prevSibling:f(e,o,r)})}),s(t.getKey(),r).forEach(function(e){
return l(e,o,function(e){return e.merge({children:e.getChildKeys().filter(function(e){return o.get(e)}),nextSibling:c(e,o,r),prevSibling:f(e,o,r)})})}),l(t.getNextSiblingKey(),o,function(e){return e.merge({prevSibling:t.getPrevSiblingKey()})}),l(t.getPrevSiblingKey(),o,function(e){return e.merge({nextSibling:c(e,o,r)})}),l(n.getNextSiblingKey(),o,function(e){return e.merge({prevSibling:f(e,o,r)})}),l(n.getPrevSiblingKey(),o,function(e){return e.merge({nextSibling:n.getNextSiblingKey()})}),s(n.getKey(),r).forEach(function(e){l(e,o,function(e){return e.merge({children:e.getChildKeys().filter(function(e){return o.get(e)}),nextSibling:c(e,o,r),prevSibling:f(e,o,r)})})}),u(n,r).forEach(function(e){return l(e,o,function(e){return e.merge({nextSibling:c(e,o,r),prevSibling:f(e,o,r)})})}),null==e.get(t.getKey())&&null!=e.get(n.getKey())&&n.getParentKey()===t.getKey()&&null==n.getPrevSiblingKey()){var i=t.getPrevSiblingKey();l(n.getKey(),o,function(e){return e.merge({prevSibling:i})}),l(i,o,function(e){return e.merge({nextSibling:n.getKey()})});var a=i?e.get(i):null,d=a?a.getParentKey():null;if(t.getChildKeys().forEach(function(e){l(e,o,function(e){return e.merge({parent:d})})}),null!=d){var p=e.get(d);l(d,o,function(e){return e.merge({children:p.getChildKeys().concat(t.getChildKeys())})})}l(t.getChildKeys().find(function(t){var n=e.get(t);return null===n.getNextSiblingKey()}),o,function(e){return e.merge({nextSibling:t.getNextSiblingKey()})})}})},p=function(e,t){if(t.isCollapsed())return e;var n=e.getBlockMap(),i=t.getStartKey(),l=t.getStartOffset(),u=t.getEndKey(),c=t.getEndOffset(),f=n.get(i),p=n.get(u),g=f instanceof r,v=[];if(g){var y=p.getChildKeys(),m=s(u,n);p.getNextSiblingKey()&&(v=v.concat(m)),y.isEmpty()||(v=v.concat(m.concat([u]))),v=v.concat(s(o(p,n),n))}var b;b=f===p?h(f.getCharacterList(),l,c):f.getCharacterList().slice(0,l).concat(p.getCharacterList().slice(c));var w=f.merge({text:f.getText().slice(0,l)+p.getText().slice(c),characterList:b}),x=g&&0===l&&0===c&&p.getParentKey()===i&&null==p.getPrevSiblingKey(),_=x?a([[i,null]]):n.toSeq().skipUntil(function(e,t){return t===i}).takeUntil(function(e,t){return t===u}).filter(function(e,t){return v.indexOf(t)===-1}).concat(a([[u,null]])).map(function(e,t){return t===i?w:null}),S=n.merge(_).filter(function(e){return!!e});return g&&f!==p&&(S=d(S,f,p,n)),e.merge({blockMap:S,selectionBefore:t,selectionAfter:t.merge({anchorKey:i,anchorOffset:l,focusKey:i,focusOffset:l,isBackward:!1})})},h=function(e,t,n){if(0===t)for(;t<n;)e=e.shift(),t++;else if(n===e.count())for(;n>t;)e=e.pop(),n--;else{var r=e.slice(0,t),o=e.slice(n);e=r.concat(o).toList()}return e};e.exports=p},function(e,t,n){"use strict";function r(e,t){if(!e)return"[empty]";var n=o(e,t);if(n.nodeType===Node.TEXT_NODE)return n.textContent;y(n)?void 0:v(!1);var r=n;return r.outerHTML}function o(e,t){var n=void 0!==t?t(e):[];if(e.nodeType===Node.TEXT_NODE){var r=e.textContent.length;return g(e).createTextNode("[text "+r+(n.length?" | "+n.join(", "):"")+"]")}var i=e.cloneNode();1===i.nodeType&&n.length&&i.setAttribute("data-labels",n.join(", "));for(var a=e.childNodes,l=0;l<a.length;l++)i.appendChild(o(a[l],t));return i}function i(e,t){for(var n=e,o=n;n;){if(y(n)&&o.hasAttribute("contenteditable"))return r(n,t);n=n.parentNode,o=n}return"Could not find contentEditable parent of node"}function a(e){return null===e.nodeValue?e.childNodes.length:e.nodeValue.length}function l(e,t,n,r,o){var i=g(t);if(p(i.documentElement,t)){var a=i.defaultView.getSelection(),l=e.getAnchorKey(),c=e.getAnchorOffset(),f=e.getFocusKey(),d=e.getFocusOffset(),h=e.getIsBackward();if(!a.extend&&h){var v=l,y=c;l=f,c=d,f=v,d=y,h=!1}var m=l===n&&r<=c&&o>=c,b=f===n&&r<=d&&o>=d;if(m&&b)return a.removeAllRanges(),u(a,t,c-r,e),void s(a,t,d-r,e);if(h){if(b&&(a.removeAllRanges(),u(a,t,d-r,e)),m){var w=a.focusNode,x=a.focusOffset;a.removeAllRanges(),u(a,t,c-r,e),s(a,w,x,e)}}else m&&(a.removeAllRanges(),u(a,t,c-r,e)),b&&s(a,t,d-r,e)}}function s(e,t,n,r){var o=h(),l=e.extend;if(l&&null!=t&&p(o,t)){n>a(t)&&f.logSelectionStateFailure({anonymizedDom:i(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(r.toJS())});var s=t===e.focusNode;try{e.rangeCount>0&&e.extend&&e.extend(t,n)}catch(a){throw f.logSelectionStateFailure({anonymizedDom:i(t,function(t){var n=[];return t===o&&n.push("active element"),t===e.anchorNode&&n.push("selection anchor node"),t===e.focusNode&&n.push("selection focus node"),n}),extraParams:JSON.stringify({activeElementName:o?o.nodeName:null,nodeIsFocus:t===e.focusNode,nodeWasFocus:s,selectionRangeCount:e.rangeCount,selectionAnchorNodeName:e.anchorNode?e.anchorNode.nodeName:null,selectionAnchorOffset:e.anchorOffset,selectionFocusNodeName:e.focusNode?e.focusNode.nodeName:null,selectionFocusOffset:e.focusOffset,message:a?""+a:null,offset:n},null,2),selectionState:JSON.stringify(r.toJS(),null,2)}),a}}else if(t&&e.rangeCount>0){var u=e.getRangeAt(0);u.setEnd(t,n),e.addRange(u.cloneRange())}}function u(e,t,n,r){var o=g(t).createRange();if(n>a(t)&&(f.logSelectionStateFailure({anonymizedDom:i(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(r.toJS())}),c.handleExtensionCausedError()),o.setStart(t,n),m)try{e.addRange(o)}catch(e){}else e.addRange(o)}var c=n(57),f=n(59),d=n(8),p=n(47),h=n(89),g=n(29),v=n(3),y=n(18),m=d.isBrowser("IE");e.exports={setDraftEditorSelection:l,addFocusToSelection:s}},function(e,t,n){"use strict";var r=n(11),o=n(12),i=n(2),a=n(3),l=n(82),s=i.List,u=i.Map,c=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},f=function(e,t,n){return e.withMutations(function(e){var r=t.getKey(),o=n.getKey();c(t.getParentKey(),e,function(e){var t=e.getChildKeys(),n=t.indexOf(r)+1,i=t.toArray();return i.splice(n,0,o),e.merge({children:s(i)})}),c(t.getNextSiblingKey(),e,function(e){return e.merge({prevSibling:o})}),c(r,e,function(e){return e.merge({nextSibling:o})}),c(o,e,function(e){return e.merge({prevSibling:r})})})},d=function(e,t){t.isCollapsed()?void 0:a(!1);var n=t.getAnchorKey(),i=e.getBlockMap(),s=i.get(n),c=s.getText();if(!c){var d=s.getType();if("unordered-list-item"===d||"ordered-list-item"===d)return l(e,t,function(e){return e.merge({type:"unstyled",depth:0})})}var p=t.getAnchorOffset(),h=s.getCharacterList(),g=o(),v=s instanceof r,y=s.merge({text:c.slice(0,p),characterList:h.slice(0,p)}),m=y.merge({key:g,text:c.slice(p),characterList:h.slice(p),data:u()}),b=i.toSeq().takeUntil(function(e){return e===s}),w=i.toSeq().skipUntil(function(e){return e===s}).rest(),x=b.concat([[n,y],[g,m]],w).toOrderedMap();return v&&(s.getChildKeys().isEmpty()?void 0:a(!1),x=f(x,y,m)),e.merge({blockMap:x,selectionBefore:t,selectionAfter:t.merge({anchorKey:g,anchorOffset:0,focusKey:g,focusOffset:0,isBackward:!1})})};e.exports=d},function(e,t){"use strict";function n(e){return e.split(r)}var r=/\r\n?|\n/g;e.exports=n},function(e,t){"use strict";function n(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})}e.exports=n},function(e,t,n){!function(t,n){e.exports=n()}(this,function(){"use strict";function e(e,t){if(e)for(var n in e)({}).hasOwnProperty.call(e,n)&&t(n,e[n])}function t(e){return void 0===e||null===e||0===e.length||0===e.trim().length}function n(e){return e&&E[e]}function r(t){var n="";return e(t,function(e,t){t&&(n+="".concat(e,":").concat(t,";"))}),n}function o(e,t){var n=[];if(t)for(var r=0,o=0,i=e,a=t.trigger||"#",l=t.separator||" ";i.length>0&&o>=0;)if(i[0]===a?(o=0,r=0,i=i.substr(a.length)):(o=i.indexOf(l+a),o>=0&&(i=i.substr(o+(l+a).length),r+=o+l.length)),o>=0){var s=i.indexOf(l)>=0?i.indexOf(l):i.length,u=i.substr(0,s);u&&u.length>0&&n.push({offset:r,length:u.length+a.length,type:"HASHTAG"}),r+=a.length}return n}function i(e,t){var n=[],r=0,i=e.entityRanges.map(function(e){var t=e.offset,n=e.length,r=e.key;return{offset:t,length:n,key:r,type:"ENTITY"}});return i=i.concat(o(e.text,t)),i=i.sort(function(e,t){return e.offset-t.offset}),i.forEach(function(e){e.offset>r&&n.push({start:r,end:e.offset}),n.push({start:e.offset,end:e.offset+e.length,entityKey:e.key,type:e.type}),r=e.offset+e.length}),r<e.text.length&&n.push({start:r,end:e.text.length}),n}function a(e){return!(!(e.entityRanges.length>0)||!t(e.text)&&"atomic"!==e.type)}function l(e){var t=e.text,n=e.inlineStyleRanges,r={BOLD:new Array(t.length),ITALIC:new Array(t.length),UNDERLINE:new Array(t.length),STRIKETHROUGH:new Array(t.length),CODE:new Array(t.length),SUPERSCRIPT:new Array(t.length),SUBSCRIPT:new Array(t.length),COLOR:new Array(t.length),BGCOLOR:new Array(t.length),FONTSIZE:new Array(t.length),FONTFAMILY:new Array(t.length),length:t.length};return n&&n.length>0&&n.forEach(function(e){for(var t=e.offset,n=t+e.length,o=t;o<n;o+=1)0===e.style.indexOf("color-")?r.COLOR[o]=e.style.substring(6):0===e.style.indexOf("bgcolor-")?r.BGCOLOR[o]=e.style.substring(8):0===e.style.indexOf("fontsize-")?r.FONTSIZE[o]=e.style.substring(9):0===e.style.indexOf("fontfamily-")?r.FONTFAMILY[o]=e.style.substring(11):r[e.style]&&(r[e.style][o]=!0)}),r}function s(e,t){var n={};return e.COLOR[t]&&(n.COLOR=e.COLOR[t]),e.BGCOLOR[t]&&(n.BGCOLOR=e.BGCOLOR[t]),e.FONTSIZE[t]&&(n.FONTSIZE=e.FONTSIZE[t]),e.FONTFAMILY[t]&&(n.FONTFAMILY=e.FONTFAMILY[t]),e.UNDERLINE[t]&&(n.UNDERLINE=!0),e.ITALIC[t]&&(n.ITALIC=!0),e.BOLD[t]&&(n.BOLD=!0),e.STRIKETHROUGH[t]&&(n.STRIKETHROUGH=!0),e.CODE[t]&&(n.CODE=!0),e.SUBSCRIPT[t]&&(n.SUBSCRIPT=!0),e.SUPERSCRIPT[t]&&(n.SUPERSCRIPT=!0),n}function u(e,t,n){var r=!0;return n>0&&n<e.length?t.forEach(function(t){r=r&&e[t][n]===e[t][n-1]}):r=!1,r}function c(e,t){return"BOLD"===e?"<strong>".concat(t,"</strong>"):"ITALIC"===e?"<em>".concat(t,"</em>"):"UNDERLINE"===e?"<ins>".concat(t,"</ins>"):"STRIKETHROUGH"===e?"<del>".concat(t,"</del>"):"CODE"===e?"<code>".concat(t,"</code>"):"SUPERSCRIPT"===e?"<sup>".concat(t,"</sup>"):"SUBSCRIPT"===e?"<sub>".concat(t,"</sub>"):t}function f(e){if(e&&e.length>0){var t=e.map(function(e){switch(e){case"\n":return"<br>";case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";default:return e}});return t.join("")}return""}function d(e,t){if(e&&(e.COLOR||e.BGCOLOR||e.FONTSIZE||e.FONTFAMILY)){var n='style="';return e.COLOR&&(n+="color: ".concat(e.COLOR,";")),e.BGCOLOR&&(n+="background-color: ".concat(e.BGCOLOR,";")),e.FONTSIZE&&(n+="font-size: ".concat(e.FONTSIZE).concat(/^\d+$/.test(e.FONTSIZE)?"px":"",";")),e.FONTFAMILY&&(n+="font-family: ".concat(e.FONTFAMILY,";")),n+='"',"<span ".concat(n,">").concat(t,"</span>")}return t}function p(e,t,n,r){var o=e[t];if("function"==typeof r){var i=r(o,n);if(i)return i}if("MENTION"===o.type)return'<a href="'.concat(o.data.url,'" class="wysiwyg-mention" data-mention data-value="').concat(o.data.value,'">').concat(n,"</a>");if("LINK"===o.type){var a=o.data.targetOption||"_self";return'<a href="'.concat(o.data.url,'" target="').concat(a,'">').concat(n,"</a>")}if("IMAGE"===o.type){var l=o.data.alignment;return l&&l.length?'<div style="text-align:'.concat(l,';"><img src="').concat(o.data.src,'" alt="').concat(o.data.alt,'" style="height: ').concat(o.data.height,";width: ").concat(o.data.width,'"/></div>'):'<img src="'.concat(o.data.src,'" alt="').concat(o.data.alt,'" style="height: ').concat(o.data.height,";width: ").concat(o.data.width,'"/>')}return"EMBEDDED_LINK"===o.type?'<iframe width="'.concat(o.data.width,'" height="').concat(o.data.height,'" src="').concat(o.data.src,'" frameBorder="0"></iframe>'):n}function h(e,t,n,r){var o=[],i=Array.from(e.text);if(i.length>0)for(var a,c=l(e),f=n;f<r;f+=1)f!==n&&u(c,t,f)?(a.text.push(i[f]),a.end=f+1):(a={styles:s(c,f),text:[i[f]],start:f,end:f+1},o.push(a));return o}function g(e){if(e){for(var t=e,n=0;n<t.length&&" "===e[n];n+=1)t=t.replace(" ","&nbsp;");return t}return e}function v(e){if(e){for(var t=e,n=t.length-1;n>=0&&" "===t[n];n-=1)t="".concat(t.substring(0,n),"&nbsp;").concat(t.substring(n+1));return t}return e}function y(t){var n=t.styles,r=t.text,o=f(r);return e(n,function(e,t){o=c(e,o)}),o}function m(e,t){var n=h(e,["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","SUPERSCRIPT","SUBSCRIPT"],t.start,t.end),r="";return n.forEach(function(e){r+=y(e)}),r=d(t.styles,r)}function b(e,t,n,r){var o=[],i=h(e,["COLOR","BGCOLOR","FONTSIZE","FONTFAMILY"],n.start,n.end);i.forEach(function(t){o.push(m(e,t))});var a=o.join("");return"ENTITY"===n.type?void 0!==n.entityKey&&null!==n.entityKey&&(a=p(t,n.entityKey,a,r)):"HASHTAG"===n.type&&(a='<a href="'.concat(a,'" class="wysiwyg-hashtag">').concat(a,"</a>")),a}function w(e,t,n,r){var o=[],a=i(e,n);return a.forEach(function(n,i){var l=b(e,t,n,r);0===i&&(l=g(l)),i===a.length-1&&(l=v(l)),o.push(l)}),o.join("")}function x(e,t,o,i,l){var s=[];if(a(e))s.push(p(t,e.entityRanges[0].key,void 0,l));else{var u=n(e.type);if(u){s.push("<".concat(u));var c=r(e.data);c&&s.push(' style="'.concat(c,'"')),i&&s.push(' dir = "auto"'),s.push(">"),s.push(w(e,t,o,l)),s.push("</".concat(u,">"))}}return s.push("\n"),s.join("")}function _(e){return"unordered-list-item"===e||"ordered-list-item"===e}function S(e,t,o,i,a){var l,s=[],u=[];return e.forEach(function(e){var c=!1;if(l?l.type!==e.type?(s.push("</".concat(n(l.type),">\n")),s.push("<".concat(n(e.type),">\n"))):l.depth===e.depth?u&&u.length>0&&(s.push(S(u,t,o,i,a)),u=[]):(c=!0,u.push(e)):s.push("<".concat(n(e.type),">\n")),!c){s.push("<li");var f=r(e.data);f&&s.push(' style="'.concat(f,'"')),i&&s.push(' dir = "auto"'),s.push(">"),s.push(w(e,t,o,a)),s.push("</li>\n"),l=e}}),u&&u.length>0&&s.push(S(u,t,o,i,a)),s.push("</".concat(n(l.type),">\n")),s.join("")}function k(e,t,n,r){var o=[];if(e){var i=e.blocks,a=e.entityMap;if(i&&i.length>0){var l=[];if(i.forEach(function(e){if(_(e.type))l.push(e);else{if(l.length>0){var i=S(l,a,t,r);o.push(i),l=[]}var s=x(e,a,t,n,r);o.push(s)}}),l.length>0){var s=S(l,a,t,n,r);o.push(s),l=[]}}}return o.join("")}var E={unstyled:"p","header-one":"h1","header-two":"h2","header-three":"h3","header-four":"h4","header-five":"h5","header-six":"h6","unordered-list-item":"ul","ordered-list-item":"ol",blockquote:"blockquote",code:"pre"};return k})},function(e,t){},197,197,197,197,197,197,197,197,function(e,t){"use strict";function n(e){return e.split("/")}var r={isImage:function(e){return"image"===n(e)[0]},isJpeg:function(e){var t=n(e);return r.isImage(e)&&("jpeg"===t[1]||"pjpeg"===t[1])}};e.exports=r},function(e,t){"use strict";var n="[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;・、。〈-】〔-〟：-？！-／［-｀｛-･⸮؟٪-٬؛،؍﴾﴿᠁।၊။‐-‧‰-⁞¡-±´-¸º»¿]";e.exports={getPunctuation:function(){return n}}},function(e,t){"use strict";function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=function(){function e(e){n(this,"_uri",void 0),this._uri=e}var t=e.prototype;return t.toString=function(){return this._uri},e}();e.exports=r},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(46),i=n(33),a=n(3),l=function(){function e(e){r(this,"_defaultDir",void 0),r(this,"_lastDir",void 0),e?i.isStrong(e)?void 0:a(!1):e=i.getGlobalDir(),this._defaultDir=e,this.reset()}var t=e.prototype;return t.reset=function(){this._lastDir=this._defaultDir},t.getDirection=function(e){return this._lastDir=o.getDirection(e,this._lastDir),this._lastDir},e}();e.exports=l},function(e,t,n){"use strict";function r(e){return l[e]||e}function o(e){if(!e)return{major:"",minor:""};var t=e.split(".");return{major:t[0],minor:t[1]}}var i=n(238),a="Unknown",l={"Mac OS":"Mac OS X"},s=new i,u=s.getResult(),c=o(u.browser.version),f={browserArchitecture:u.cpu.architecture||a,browserFullVersion:u.browser.version||a,browserMinorVersion:c.minor||a,browserName:u.browser.name||a,browserVersion:u.browser.major||a,deviceName:u.device.model||a,engineName:u.engine.name||a,engineVersion:u.engine.version||a,platformArchitecture:u.cpu.architecture||a,platformName:r(u.os.name)||a,platformVersion:u.os.version||a,platformFullVersion:u.os.version||a};e.exports=f},function(e,t,n){"use strict";function r(e,t){var n=e.split(_);return n.length>1?n.some(function(e){return C.contains(e,t)}):(e=n[0].trim(),o(e,t))}function o(e,t){var n=e.split(S);if(n.length>0&&n.length<=2?void 0:w(!1),1===n.length)return i(n[0],t);var r=n[0],o=n[1];return h(r)&&h(o)?void 0:w(!1),i(">="+r,t)&&i("<="+o,t)}function i(e,t){if(e=e.trim(),""===e)return!0;var n=t.split(x),r=d(e),o=r.modifier,i=r.rangeComponents;switch(o){case"<":return a(n,i);case"<=":return l(n,i);case">=":return u(n,i);case">":return c(n,i);case"~":case"~>":return f(n,i);default:return s(n,i)}}function a(e,t){return b(e,t)===-1}function l(e,t){var n=b(e,t);return n===-1||0===n}function s(e,t){return 0===b(e,t)}function u(e,t){var n=b(e,t);return 1===n||0===n}function c(e,t){return 1===b(e,t)}function f(e,t){var n=t.slice(),r=t.slice();r.length>1&&r.pop();var o=r.length-1,i=parseInt(r[o],10);return p(i)&&(r[o]=i+1+""),u(e,n)&&a(e,r)}function d(e){var t=e.split(x),n=t[0].match(k);return n?void 0:w(!1),{modifier:n[1],rangeComponents:[n[2]].concat(t.slice(1))}}function p(e){return!isNaN(e)&&isFinite(e)}function h(e){return!d(e).modifier}function g(e,t){for(var n=e.length;n<t;n++)e[n]="0"}function v(e,t){e=e.slice(),t=t.slice(),g(e,t.length);for(var n=0;n<t.length;n++){var r=t[n].match(/^[x*]$/i);if(r&&(t[n]=e[n]="0","*"===r[0]&&n===t.length-1))for(var o=n;o<e.length;o++)e[o]="0"}return g(t,e.length),[e,t]}function y(e,t){var n=e.match(E)[1],r=t.match(E)[1],o=parseInt(n,10),i=parseInt(r,10);return p(o)&&p(i)&&o!==i?m(o,i):m(e,t)}function m(e,t){return typeof e!=typeof t?w(!1):void 0,e>t?1:e<t?-1:0}function b(e,t){for(var n=v(e,t),r=n[0],o=n[1],i=0;i<o.length;i++){var a=y(r[i],o[i]);if(a)return a}return 0}var w=n(3),x=/\./,_=/\|\|/,S=/\s+\-\s+/,k=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,E=/^(\d*)(.*)/,C={contains:function(e,t){return r(e.trim(),t.trim())}};e.exports=C},function(e,t){"use strict";function n(e){return e.replace(r,function(e,t){return t.toUpperCase()})}var r=/-(.)/g;e.exports=n},function(e,t,n){"use strict";function r(e){var t=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?a(!1):void 0,"number"!=typeof t?a(!1):void 0,0===t||t-1 in e?void 0:a(!1),"function"==typeof e.callee?a(!1):void 0,e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}function o(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function i(e){return o(e)?Array.isArray(e)?e.slice():r(e):[e]}var a=n(3);e.exports=i},function(e,t){"use strict";function n(e){return e=e||document,e.scrollingElement?e.scrollingElement:r||"CSS1Compat"!==e.compatMode?e.body:e.documentElement}var r="undefined"!=typeof navigator&&navigator.userAgent.indexOf("AppleWebKit")>-1;e.exports=n},function(e,t,n){"use strict";function r(e){var t=e.ownerDocument.documentElement;if(!("getBoundingClientRect"in e&&o(t,e)))return{left:0,right:0,top:0,bottom:0};var n=e.getBoundingClientRect();return{left:Math.round(n.left)-t.clientLeft,right:Math.round(n.right)-t.clientLeft,top:Math.round(n.top)-t.clientTop,bottom:Math.round(n.bottom)-t.clientTop}}var o=n(47);e.exports=r},function(e,t,n){"use strict";function r(e){return null==e?e:String(e)}function o(e,t){var n;if(window.getComputedStyle&&(n=window.getComputedStyle(e,null)))return r(n.getPropertyValue(a(t)));if(document.defaultView&&document.defaultView.getComputedStyle){if(n=document.defaultView.getComputedStyle(e,null))return r(n.getPropertyValue(a(t)));if("display"===t)return"none"}return r(e.currentStyle?"float"===t?e.currentStyle.cssFloat||e.currentStyle.styleFloat:e.currentStyle[i(t)]:e.style&&e.style[i(t)])}var i=n(212),a=n(218);e.exports=o},function(e,t){"use strict";function n(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}e.exports=n},function(e,t){"use strict";function n(e){return e.replace(r,"-$1").toLowerCase()}var r=/([A-Z])/g;e.exports=n},function(e,t){"use strict";function n(e){var t=e?e.ownerDocument||e:document,n=t.defaultView||window;return!(!e||!("function"==typeof n.Node?e instanceof n.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=n},function(e,t,n){"use strict";function r(e){return o(e)&&3==e.nodeType}var o=n(219);e.exports=r},function(e,t){"use strict";function n(e){var t=e||"",n=arguments.length;if(n>1)for(var r=1;r<n;r++){var o=arguments[r];o&&(t=(t?t+" ":"")+o)}return t}e.exports=n},function(e,t){"use strict";function n(e,t,n){if(!e)return null;var o={};for(var i in e)r.call(e,i)&&(o[i]=t.call(n,e[i],i,e));return o}var r=Object.prototype.hasOwnProperty;e.exports=n},function(e,t){"use strict";function n(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}e.exports=n},function(e,t,n){(function(t){"use strict";n(237),e.exports=t.setImmediate}).call(t,function(){return this}())},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){g&&p&&(g=!1,p.length?h=p.concat(h):v=-1,h.length&&l())}function l(){if(!g){var e=o(a);g=!0;for(var t=h.length;t;){for(p=h,h=[];++v<t;)p&&p[v].run();v=-1,t=h.length}p=null,g=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function u(){}var c,f,d=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var p,h=[],g=!1,v=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new s(e,t)),1!==h.length||g||o(l)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.prependListener=u,d.prependOnceListener=u,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){"use strict";function r(e){var t=new o(o._61);return t._81=1,t._65=e,t}var o=n(92);e.exports=o;var i=r(!0),a=r(!1),l=r(null),s=r(void 0),u=r(0),c=r("");o.resolve=function(e){if(e instanceof o)return e;if(null===e)return l;if(void 0===e)return s;if(e===!0)return i;if(e===!1)return a;if(0===e)return u;if(""===e)return c;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new o(t.bind(e))}catch(e){return new o(function(t,n){n(e)})}return r(e)},o.all=function(e){var t=Array.prototype.slice.call(e);return new o(function(e,n){function r(a,l){if(l&&("object"==typeof l||"function"==typeof l)){if(l instanceof o&&l.then===o.prototype.then){for(;3===l._81;)l=l._65;return 1===l._81?r(a,l._65):(2===l._81&&n(l._65),void l.then(function(e){r(a,e)},n))}var s=l.then;if("function"==typeof s){var u=new o(s.bind(l));return void u.then(function(e){r(a,e)},n)}}t[a]=l,0===--i&&e(t)}if(0===t.length)return e([]);for(var i=t.length,a=0;a<t.length;a++)r(a,t[a])})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){e.forEach(function(e){o.resolve(e).then(t,n)})})},o.prototype.catch=function(e){return this.then(null,e)}},function(e,t,n){"use strict";function r(){u=!1,l._10=null,l._97=null}function o(e){function t(t){(e.allRejections||a(f[t].error,e.whitelist||s))&&(f[t].displayId=c++,e.onUnhandled?(f[t].logged=!0,e.onUnhandled(f[t].displayId,f[t].error)):(f[t].logged=!0,i(f[t].displayId,f[t].error)))}function n(t){f[t].logged&&(e.onHandled?e.onHandled(f[t].displayId,f[t].error):f[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+f[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+f[t].displayId+".")))}e=e||{},u&&r(),u=!0;var o=0,c=0,f={};l._10=function(e){2===e._81&&f[e._72]&&(f[e._72].logged?n(e._72):clearTimeout(f[e._72].timeout),delete f[e._72])},l._97=function(e,n){0===e._45&&(e._72=o++,f[e._72]={displayId:null,error:n,timeout:setTimeout(t.bind(null,e._72),a(n,s)?100:2e3),logged:!1})}}function i(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):");var n=(t&&(t.stack||t))+"";n.split("\n").forEach(function(e){console.warn("  "+e)})}function a(e,t){return t.some(function(t){return e instanceof t})}var l=n(92),s=[ReferenceError,TypeError,RangeError],u=!1;t.disable=r,t.enable=o},function(e,t){"use strict";function n(e){if(void 0===e)return void console.error("Autobind error: No context provided.");var t=Object.getPrototypeOf(e);i=arguments.length>1?Array.prototype.slice.call(arguments,1):Object.getOwnPropertyNames(t),i.forEach(function(e){var n=Object.getOwnPropertyDescriptor(t,e);return void 0===n?void console.warn('Autobind: "'+e+'" method not found in class.'):void(o.indexOf(e)===-1&&"function"==typeof n.value&&Object.defineProperty(t,e,r(t,e,n)))})}function r(e,t,n){var r=n.value;return{configurable:!0,get:function(){if(this===e||this.hasOwnProperty(t))return r;var n=r.bind(this);return Object.defineProperty(this,t,{value:n,configurable:!0,writable:!0}),n}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var o=["constructor","render","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","componentWillUnmount"],i=[];e.exports=t.default},function(e,t,n){"use strict";function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e,t){i(e,t),i(e+"Capture",t)}function i(e,t){for(Ri[e]=t,e=0;e<t.length;e++)Ai.add(t[e])}function a(e){return!!Li.call(Ki,e)||!Li.call(zi,e)&&(ji.test(e)?Ki[e]=!0:(zi[e]=!0,!1))}function l(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),"data-"!==e&&"aria-"!==e));default:return!1}}function s(e,t,n,r){if(null===t||"undefined"==typeof t||l(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function u(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}function c(e){return e[1].toUpperCase()}function f(e,t,n,r){var o=Ui.hasOwnProperty(t)?Ui[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(s(t,n,o,r)&&(n=null),r||null===o?a(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(o=o.type,n=3===o||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function d(e){return null===e||"object"!=typeof e?null:(e=aa&&e[aa]||e["@@iterator"],"function"==typeof e?e:null)}function p(e){if(void 0===oa)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);oa=t&&t[1]||""}return"\n"+oa+e}function h(e,t){if(!e||sa)return"";sa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var o=t.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,l=i.length-1;1<=a&&0<=l&&o[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(o[a]!==i[l]){if(1!==a||1!==l)do if(a--,l--,0>l||o[a]!==i[l]){var s="\n"+o[a].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}while(1<=a&&0<=l);break}}}finally{sa=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?p(e):""}function g(e){switch(e.tag){case 5:return p(e.type);case 16:return p("Lazy");case 13:return p("Suspense");case 19:return p("SuspenseList");case 0:case 2:case 15:return e=h(e.type,!1);case 11:return e=h(e.type.render,!1);case 1:return e=h(e.type,!0);default:return""}}function v(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Yi:return"Fragment";case qi:return"Portal";case $i:return"Profiler";case Xi:return"StrictMode";case Zi:return"Suspense";case ea:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Gi:return(e.displayName||"Context")+".Consumer";case Ji:return(e._context.displayName||"Context")+".Provider";case Qi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=""!==e?"ForwardRef("+e+")":"ForwardRef"),e;case ta:return t=e.displayName||null,null!==t?t:v(e.type)||"Memo";case na:t=e._payload,e=e._init;try{return v(e(t))}catch(e){}}return null}function y(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return v(t);case 8:return t===Xi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function m(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function b(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function w(e){var t=b(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!=typeof n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function x(e){e._valueTracker||(e._valueTracker=w(e))}function _(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=b(e)?e.checked?"true":"false":e.value),e=r,e!==n&&(t.setValue(e),!0)}function S(e){if(e=e||("undefined"!=typeof document?document:void 0),"undefined"==typeof e)return null;try{return e.activeElement||e.body}catch(t){return e.body}}function k(e,t){var n=t.checked;return la({},t,{defaultChecked:void 0,
defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function E(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=m(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function C(e,t){t=t.checked,null!=t&&f(e,"checked",t,!1)}function O(e,t){C(e,t);var n=m(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?T(e,t.type,n):t.hasOwnProperty("defaultValue")&&T(e,t.type,m(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function D(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,""!==n&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function T(e,t,n){"number"===t&&S(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function N(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+m(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function M(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return la({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function I(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(r(92));if(ua(n)){if(1<n.length)throw Error(r(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:m(n)}}function B(e,t){var n=m(t.value),r=m(t.defaultValue);null!=n&&(n=""+n,n!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function P(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function A(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function R(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?A(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}function F(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function L(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||fa.hasOwnProperty(e)&&fa[e]?(""+t).trim():t+"px"}function j(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=L(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}function z(e,t){if(t){if(pa[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(r(62))}}function K(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function U(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function V(e){if(e=It(e)){if("function"!=typeof ga)throw Error(r(280));var t=e.stateNode;t&&(t=Pt(t),ga(e.stateNode,e.type,t))}}function H(e){va?ya?ya.push(e):ya=[e]:va=e}function W(){if(va){var e=va,t=ya;if(ya=va=null,V(e),t)for(e=0;e<t.length;e++)V(t[e])}}function q(e,t){return e(t)}function Y(){}function X(e,t,n){if(ma)return e(t,n);ma=!0;try{return q(e,t,n)}finally{ma=!1,(null!==va||null!==ya)&&(Y(),W())}}function $(e,t){var n=e.stateNode;if(null===n)return null;var o=Pt(n);if(null===o)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!("button"===e||"input"===e||"select"===e||"textarea"===e)),e=!o;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}function J(e,t,n,r,o,i,a,l,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}function G(e,t,n,r,o,i,a,l,s){Ta=!1,Na=null,J.apply(Ba,arguments)}function Q(e,t,n,o,i,a,l,s,u){if(G.apply(this,arguments),Ta){if(!Ta)throw Error(r(198));var c=Na;Ta=!1,Na=null,Ma||(Ma=!0,Ia=c)}}function Z(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,0!==(4098&t.flags)&&(n=t.return),e=t.return;while(e)}return 3===t.tag?n:null}function ee(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(e=e.alternate,null!==e&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function te(e){if(Z(e)!==e)throw Error(r(188))}function ne(e){var t=e.alternate;if(!t){if(t=Z(e),null===t)throw Error(r(188));return t!==e?null:e}for(var n=e,o=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(o=i.return,null!==o){n=o;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return te(i),e;if(a===o)return te(i),t;a=a.sibling}throw Error(r(188))}if(n.return!==o.return)n=i,o=a;else{for(var l=!1,s=i.child;s;){if(s===n){l=!0,n=i,o=a;break}if(s===o){l=!0,o=i,n=a;break}s=s.sibling}if(!l){for(s=a.child;s;){if(s===n){l=!0,n=a,o=i;break}if(s===o){l=!0,o=a,n=i;break}s=s.sibling}if(!l)throw Error(r(189))}}if(n.alternate!==o)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}function re(e){return e=ne(e),null!==e?oe(e):null}function oe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=oe(e);if(null!==t)return t;e=e.sibling}return null}function ie(e){if(qa&&"function"==typeof qa.onCommitFiberRoot)try{qa.onCommitFiberRoot(Wa,e,void 0,128===(128&e.current.flags))}catch(e){}}function ae(e){return e>>>=0,0===e?32:31-(Xa(e)/$a|0)|0}function le(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function se(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var l=a&~o;0!==l?r=le(l):(i&=a,0!==i&&(r=le(i)))}else a=n&~o,0!==a?r=le(a):0!==i&&(r=le(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&(o=r&-r,i=t&-t,o>=i||16===o&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),t=e.entangledLanes,0!==t)for(e=e.entanglements,t&=r;0<t;)n=31-Ya(t),o=1<<n,r|=e[n],t&=~o;return r}function ue(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ce(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Ya(i),l=1<<a,s=o[a];-1===s?0!==(l&n)&&0===(l&r)||(o[a]=ue(l,t)):s<=t&&(e.expiredLanes|=l),i&=~l}}function fe(e){return e=e.pendingLanes&-1073741825,0!==e?e:1073741824&e?1073741824:0}function de(){var e=Ja;return Ja<<=1,0===(4194240&Ja)&&(Ja=64),e}function pe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function he(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ya(t),e[t]=n}function ge(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Ya(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function ve(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ya(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function ye(e){return e&=-e,1<e?4<e?0!==(268435455&e)?16:536870912:4:1}function me(e,t){switch(e){case"focusin":case"focusout":tl=null;break;case"dragenter":case"dragleave":nl=null;break;case"mouseover":case"mouseout":rl=null;break;case"pointerover":case"pointerout":ol.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":il.delete(t.pointerId)}}function be(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(t=It(t),null!==t&&_a(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function we(e,t,n,r,o){switch(t){case"focusin":return tl=be(tl,e,t,n,r,o),!0;case"dragenter":return nl=be(nl,e,t,n,r,o),!0;case"mouseover":return rl=be(rl,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return ol.set(i,be(ol.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,il.set(i,be(il.get(i)||null,e,t,n,r,o)),!0}return!1}function xe(e){var t=Mt(e.target);if(null!==t){var n=Z(t);if(null!==n)if(t=n.tag,13===t){if(t=ee(n),null!==t)return e.blockedOn=t,void Ea(e.priority,function(){Sa(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function _e(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ne(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return t=It(n),null!==t&&_a(t),e.blockedOn=n,!1;n=e.nativeEvent;var r=new n.constructor(n.type,n);ha=r,n.target.dispatchEvent(r),ha=null,t.shift()}return!0}function Se(e,t,n){_e(e)&&n.delete(t)}function ke(){Za=!1,null!==tl&&_e(tl)&&(tl=null),null!==nl&&_e(nl)&&(nl=null),null!==rl&&_e(rl)&&(rl=null),ol.forEach(Se),il.forEach(Se)}function Ee(e,t){e.blockedOn===t&&(e.blockedOn=null,Za||(Za=!0,Pi.unstable_scheduleCallback(Pi.unstable_NormalPriority,ke)))}function Ce(e){function t(t){return Ee(t,e)}if(0<el.length){Ee(el[0],e);for(var n=1;n<el.length;n++){var r=el[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==tl&&Ee(tl,e),null!==nl&&Ee(nl,e),null!==rl&&Ee(rl,e),ol.forEach(t),il.forEach(t),n=0;n<al.length;n++)r=al[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<al.length&&(n=al[0],null===n.blockedOn);)xe(n),null===n.blockedOn&&al.shift()}function Oe(e,t,n,r){var o=Qa,i=sl.transition;sl.transition=null;try{Qa=1,Te(e,t,n,r)}finally{Qa=o,sl.transition=i}}function De(e,t,n,r){var o=Qa,i=sl.transition;sl.transition=null;try{Qa=4,Te(e,t,n,r)}finally{Qa=o,sl.transition=i}}function Te(e,t,n,r){if(ul){var o=Ne(e,t,n,r);if(null===o)mt(e,t,r,cl,n),me(e,r);else if(we(o,e,t,n,r))r.stopPropagation();else if(me(e,r),4&t&&-1<ll.indexOf(e)){for(;null!==o;){var i=It(o);if(null!==i&&xa(i),i=Ne(e,t,n,r),null===i&&mt(e,t,r,cl,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else mt(e,t,r,null,n)}}function Ne(e,t,n,r){if(cl=null,e=U(r),e=Mt(e),null!==e)if(t=Z(e),null===t)e=null;else if(n=t.tag,13===n){if(e=ee(t),null!==e)return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return cl=e,null}function Me(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ja()){case za:return 1;case Ka:return 4;case Ua:case Va:return 16;case Ha:return 536870912;default:return 16}default:return 16}}function Ie(){if(pl)return pl;var e,t,n=dl,r=n.length,o="value"in fl?fl.value:fl.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return pl=o.slice(e,1<t?1-t:void 0)}function Be(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,0===e&&13===t&&(e=13)):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Pe(){return!0}function Ae(){return!1}function Re(e){function t(t,n,r,o,i){this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?Pe:Ae,this.isPropagationStopped=Ae,this}return la(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Pe)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Pe)},persist:function(){},isPersistent:Pe}),t}function Fe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Il[e])&&!!t[e]}function Le(){return Fe}function je(e,t){switch(e){case"keyup":return-1!==Vl.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ze(e){return e=e.detail,"object"==typeof e&&"data"in e?e.data:null}function Ke(e,t){switch(e){case"compositionend":return ze(t);case"keypress":return 32!==t.which?null:($l=!0,Xl);case"textInput":return e=t.data,e===Xl&&$l?null:e;default:return null}}function Ue(e,t){if(Jl)return"compositionend"===e||!Hl&&je(e,t)?(e=Ie(),pl=dl=fl=null,Jl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yl&&"ko"!==t.locale?null:t.data;default:return null}}function Ve(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gl[e.type]:"textarea"===t}function He(e,t,n,r){H(r),t=wt(t,"onChange"),0<t.length&&(n=new gl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}function We(e){pt(e,0)}function qe(e){var t=Bt(e);if(_(t))return e}function Ye(e,t){if("change"===e)return t}function Xe(){Ql&&(Ql.detachEvent("onpropertychange",$e),Zl=Ql=null)}function $e(e){if("value"===e.propertyName&&qe(Zl)){var t=[];He(t,Zl,e,U(e)),X(We,t)}}function Je(e,t,n){"focusin"===e?(Xe(),Ql=t,Zl=n,Ql.attachEvent("onpropertychange",$e)):"focusout"===e&&Xe()}function Ge(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qe(Zl)}function Qe(e,t){if("click"===e)return qe(t)}function Ze(e,t){if("input"===e||"change"===e)return qe(t)}function et(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}function tt(e,t){if(os(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Li.call(t,o)||!os(e[o],t[o]))return!1}return!0}function nt(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rt(e,t){var n=nt(e);e=0;for(var r;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nt(n)}}function ot(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ot(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function it(){for(var e=window,t=S();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;e=t.contentWindow,t=S(e.document)}return t}function at(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function lt(e){var t=it(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ot(n.ownerDocument.documentElement,n)){if(null!==r&&at(n))if(t=r.start,e=r.end,void 0===e&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=rt(n,i);var a=rt(n,r);o&&a&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}function st(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;us||null==as||as!==S(r)||(r=as,"selectionStart"in r&&at(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ss&&tt(ss,r)||(ss=r,r=wt(ls,"onSelect"),0<r.length&&(t=new gl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=as)))}function ut(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}function ct(e){if(fs[e])return fs[e];if(!cs[e])return e;var t,n=cs[e];for(t in n)if(n.hasOwnProperty(t)&&t in ds)return fs[e]=n[t];return e}function ft(e,t){ys.set(e,t),o(t,[e])}function dt(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Q(r,t,void 0,e),e.currentTarget=null}function pt(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],s=l.instance,u=l.currentTarget;if(l=l.listener,s!==i&&o.isPropagationStopped())break e;dt(o,l,u),i=s}else for(a=0;a<r.length;a++){if(l=r[a],s=l.instance,u=l.currentTarget,l=l.listener,s!==i&&o.isPropagationStopped())break e;dt(o,l,u),i=s}}}if(Ma)throw e=Ia,Ma=!1,Ia=null,e}function ht(e,t){var n=t[Us];void 0===n&&(n=t[Us]=new Set);var r=e+"__bubble";n.has(r)||(yt(t,e,2,!1),n.add(r))}function gt(e,t,n){var r=0;t&&(r|=4),yt(n,e,r,t)}function vt(e){if(!e[Ts]){e[Ts]=!0,Ai.forEach(function(t){"selectionchange"!==t&&(Ds.has(t)||gt(t,!1,e),gt(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ts]||(t[Ts]=!0,gt("selectionchange",!1,t))}}function yt(e,t,n,r){switch(Me(t)){case 1:var o=Oe;break;case 4:o=De;break;default:o=Te}n=o.bind(null,t,n,e),o=void 0,!ba||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function mt(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var l=r.stateNode.containerInfo;if(l===o||8===l.nodeType&&l.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var s=a.tag;if((3===s||4===s)&&(s=a.stateNode.containerInfo,s===o||8===s.nodeType&&s.parentNode===o))return;a=a.return}for(;null!==l;){if(a=Mt(l),null===a)return;if(s=a.tag,5===s||6===s){r=i=a;continue e}l=l.parentNode}}r=r.return}X(function(){var r=i,o=U(n),a=[];e:{var l=ys.get(e);if(void 0!==l){var s=gl,u=e;switch(e){case"keypress":if(0===Be(n))break e;case"keydown":case"keyup":s=Pl;break;case"focusin":u="focus",s=Sl;break;case"focusout":u="blur",s=Sl;break;case"beforeblur":case"afterblur":s=Sl;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=bl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=xl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Ll;break;case ps:case hs:case gs:s=El;break;case vs:s=zl;break;case"scroll":s=yl;break;case"wheel":s=Ul;break;case"copy":case"cut":case"paste":s=Ol;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Rl}var c=0!==(4&t),f=!c&&"scroll"===e,d=c?null!==l?l+"Capture":null:l;c=[];for(var p,h=r;null!==h;){p=h;var g=p.stateNode;if(5===p.tag&&null!==g&&(p=g,null!==d&&(g=$(h,d),null!=g&&c.push(bt(h,g,p)))),f)break;h=h.return}0<c.length&&(l=new s(l,u,null,n,o),a.push({event:l,listeners:c}))}}if(0===(7&t)){if(l="mouseover"===e||"pointerover"===e,s="mouseout"===e||"pointerout"===e,(!l||n===ha||!(u=n.relatedTarget||n.fromElement)||!Mt(u)&&!u[Ks])&&(s||l)&&(l=o.window===o?o:(l=o.ownerDocument)?l.defaultView||l.parentWindow:window,s?(u=n.relatedTarget||n.toElement,s=r,u=u?Mt(u):null,null!==u&&(f=Z(u),u!==f||5!==u.tag&&6!==u.tag)&&(u=null)):(s=null,u=r),s!==u)){if(c=bl,g="onMouseLeave",d="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=Rl,g="onPointerLeave",d="onPointerEnter",h="pointer"),f=null==s?l:Bt(s),p=null==u?l:Bt(u),l=new c(g,h+"leave",s,n,o),l.target=f,l.relatedTarget=p,g=null,Mt(o)===r&&(c=new c(d,h+"enter",u,n,o),c.target=p,c.relatedTarget=f,g=c),f=g,s&&u)e:{for(c=s,d=u,h=0,p=c;p;p=xt(p))h++;for(p=0,g=d;g;g=xt(g))p++;for(;0<h-p;)c=xt(c),h--;for(;0<p-h;)d=xt(d),p--;for(;h--;){if(c===d||null!==d&&c===d.alternate)break e;c=xt(c),d=xt(d)}c=null}else c=null;null!==s&&_t(a,l,s,c,!1),null!==u&&null!==f&&_t(a,f,u,c,!0)}if(l=r?Bt(r):window,s=l.nodeName&&l.nodeName.toLowerCase(),"select"===s||"input"===s&&"file"===l.type)var v=Ye;else if(Ve(l))if(es)v=Ze;else{v=Ge;var y=Je}else(s=l.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(v=Qe);switch(v&&(v=v(e,r))?He(a,v,n,o):(y&&y(e,l,r),"focusout"===e&&(y=l._wrapperState)&&y.controlled&&"number"===l.type&&T(l,"number",l.value)),y=r?Bt(r):window,e){case"focusin":(Ve(y)||"true"===y.contentEditable)&&(as=y,ls=r,ss=null);break;case"focusout":ss=ls=as=null;break;case"mousedown":us=!0;break;case"contextmenu":case"mouseup":case"dragend":us=!1,st(a,n,o);break;case"selectionchange":if(is)break;case"keydown":case"keyup":st(a,n,o)}var m;if(Hl)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Jl?je(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Yl&&"ko"!==n.locale&&(Jl||"onCompositionStart"!==b?"onCompositionEnd"===b&&Jl&&(m=Ie()):(fl=o,dl="value"in fl?fl.value:fl.textContent,Jl=!0)),y=wt(r,b),0<y.length&&(b=new Tl(b,e,null,n,o),a.push({event:b,listeners:y}),m?b.data=m:(m=ze(n),null!==m&&(b.data=m)))),(m=ql?Ke(e,n):Ue(e,n))&&(r=wt(r,"onBeforeInput"),0<r.length&&(o=new Tl("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=m))}pt(a,t)})}function bt(e,t,n){return{instance:e,listener:t,currentTarget:n}}function wt(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,i=$(e,n),null!=i&&r.unshift(bt(e,i,o)),i=$(e,t),null!=i&&r.push(bt(e,i,o))),e=e.return}return r}function xt(e){if(null===e)return null;do e=e.return;while(e&&5!==e.tag);return e?e:null}function _t(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var l=n,s=l.alternate,u=l.stateNode;if(null!==s&&s===r)break;5===l.tag&&null!==u&&(l=u,o?(s=$(n,i),null!=s&&a.unshift(bt(n,s,l))):o||(s=$(n,i),null!=s&&a.push(bt(n,s,l)))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function St(e){return("string"==typeof e?e:""+e).replace(Ns,"\n").replace(Ms,"")}function kt(e,t,n){if(t=St(t),St(e)!==t&&n)throw Error(r(425))}function Et(){}function Ct(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}function Ot(e){setTimeout(function(){throw e})}function Dt(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if(n=o.data,"/$"===n){if(0===r)return e.removeChild(o),void Ce(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Ce(t)}function Tt(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if(t=e.data,"$"===t||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function Nt(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function Mt(e){var t=e[js];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ks]||n[js]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Nt(e);null!==e;){if(n=e[js])return n;e=Nt(e)}return t}e=n,n=e.parentNode}return null}function It(e){return e=e[js]||e[Ks],!e||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Bt(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function Pt(e){return e[zs]||null}function At(e){return{current:e}}function Rt(e){0>qs||(e.current=Ws[qs],Ws[qs]=null,qs--)}function Ft(e,t){qs++,Ws[qs]=e.current,e.current=t}function Lt(e,t){var n=e.type.contextTypes;if(!n)return Ys;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function jt(e){return e=e.childContextTypes,null!==e&&void 0!==e}function zt(){Rt($s),Rt(Xs)}function Kt(e,t,n){if(Xs.current!==Ys)throw Error(r(168));Ft(Xs,t),Ft($s,n)}function Ut(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,"function"!=typeof o.getChildContext)return n;o=o.getChildContext();for(var i in o)if(!(i in t))throw Error(r(108,y(e)||"Unknown",i));return la({},n,o)}function Vt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ys,Js=Xs.current,Ft(Xs,e),Ft($s,$s.current),!0}function Ht(e,t,n){var o=e.stateNode;if(!o)throw Error(r(169));n?(e=Ut(e,t,Js),o.__reactInternalMemoizedMergedChildContext=e,Rt($s),Rt(Xs),Ft(Xs,e)):Rt($s),Ft($s,n)}function Wt(e){null===Gs?Gs=[e]:Gs.push(e)}function qt(e){Qs=!0,Wt(e)}function Yt(){if(!Zs&&null!==Gs){Zs=!0;var e=0,t=Qa;try{var n=Gs;for(Qa=1;e<n.length;e++){var r=n[e];do r=r(!0);while(null!==r)}Gs=null,Qs=!1}catch(t){throw null!==Gs&&(Gs=Gs.slice(e+1)),Pa(za,Yt),t}finally{Qa=t,Zs=!1}}return null}function Xt(e,t){eu[tu++]=ru,eu[tu++]=nu,nu=e,ru=t}function $t(e,t,n){ou[iu++]=lu,ou[iu++]=su,ou[iu++]=au,au=e;var r=lu;e=su;var o=32-Ya(r)-1;r&=~(1<<o),n+=1;var i=32-Ya(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,lu=1<<32-Ya(t)+o|n<<o|r,su=i+e}else lu=1<<i|n<<o|r,su=e}function Jt(e){null!==e.return&&(Xt(e,1),$t(e,1,0))}function Gt(e){for(;e===nu;)nu=eu[--tu],eu[tu]=null,ru=eu[--tu],eu[tu]=null;for(;e===au;)au=ou[--iu],ou[iu]=null,su=ou[--iu],ou[iu]=null,lu=ou[--iu],ou[iu]=null}function Qt(e,t){var n=li(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,null===t?(e.deletions=[n],e.flags|=16):t.push(n)}function Zt(e,t){switch(e.tag){case 5:var n=e.type;return t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,null!==t&&(e.stateNode=t,uu=e,cu=Tt(t.firstChild),!0);case 6:return t=""===e.pendingProps||3!==t.nodeType?null:t,null!==t&&(e.stateNode=t,uu=e,cu=null,!0);case 13:return t=8!==t.nodeType?null:t,null!==t&&(n=null!==au?{id:lu,overflow:su}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=li(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,uu=e,cu=null,!0);default:return!1}}function en(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function tn(e){if(fu){var t=cu;if(t){var n=t;if(!Zt(e,t)){if(en(e))throw Error(r(418));t=Tt(n.nextSibling);var o=uu;t&&Zt(e,t)?Qt(o,n):(e.flags=e.flags&-4097|2,fu=!1,uu=e)}}else{if(en(e))throw Error(r(418));e.flags=e.flags&-4097|2,fu=!1,uu=e}}}function nn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;uu=e}function rn(e){if(e!==uu)return!1;if(!fu)return nn(e),fu=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t=e.type,t="head"!==t&&"body"!==t&&!Ct(e.type,e.memoizedProps)),t&&(t=cu)){if(en(e))throw on(),Error(r(418));for(;t;)Qt(e,t),t=Tt(t.nextSibling)}if(nn(e),13===e.tag){if(e=e.memoizedState,e=null!==e?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){cu=Tt(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}cu=null}}else cu=uu?Tt(e.stateNode.nextSibling):null;return!0}function on(){for(var e=cu;e;)e=Tt(e.nextSibling)}function an(){cu=uu=null,fu=!1}function ln(e){null===du?du=[e]:du.push(e)}function sn(e,t){if(e&&e.defaultProps){t=la({},t),e=e.defaultProps;for(var n in e)void 0===t[n]&&(t[n]=e[n]);return t}return t}function un(){yu=vu=gu=null}function cn(e){var t=hu.current;Rt(hu),e._currentValue=t}function fn(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function dn(e,t){gu=e,yu=vu=null,e=e.dependencies,null!==e&&null!==e.firstContext&&(0!==(e.lanes&t)&&(qu=!0),e.firstContext=null)}function pn(e){var t=e._currentValue;if(yu!==e)if(e={context:e,memoizedValue:t,next:null},null===vu){if(null===gu)throw Error(r(308));vu=e,gu.dependencies={lanes:0,firstContext:e}}else vu=vu.next=e;return t}function hn(e){null===mu?mu=[e]:mu.push(e)}function gn(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,hn(t)):(n.next=o.next,o.next=n),t.interleaved=n,vn(e,r)}function vn(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,n=e.alternate,null!==n&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function yn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bn(e,t){return{eventTime:e,
lane:t,tag:0,payload:null,callback:null,next:null}}function wn(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&ac)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,vn(e,n)}return o=r.interleaved,null===o?(t.next=t,hn(r)):(t.next=o.next,o.next=t),r.interleaved=t,vn(e,n)}function xn(e,t,n){if(t=t.updateQueue,null!==t&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ve(e,n)}}function _n(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,null!==n){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}e=n.lastBaseUpdate,null===e?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Sn(e,t,n,r){var o=e.updateQueue;bu=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var s=l,u=s.next;s.next=null,null===a?i=u:a.next=u,a=s;var c=e.alternate;null!==c&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==a&&(null===l?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=s))}if(null!==i){var f=o.baseState;for(a=0,c=u=s=null,l=i;;){var d=l.lane,p=l.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=e,g=l;switch(d=t,p=n,g.tag){case 1:if(h=g.payload,"function"==typeof h){f=h.call(p,f,d);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=g.payload,d="function"==typeof h?h.call(p,f,d):h,null===d||void 0===d)break e;f=la({},f,d);break e;case 2:bu=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,d=o.effects,null===d?o.effects=[l]:d.push(l))}else p={eventTime:p,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===c?(u=c=p,s=f):c=c.next=p,a|=d;if(l=l.next,null===l){if(l=o.shared.pending,null===l)break;d=l,l=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}if(null===c&&(s=f),o.baseState=s,o.firstBaseUpdate=u,o.lastBaseUpdate=c,t=o.shared.interleaved,null!==t){o=t;do a|=o.lane,o=o.next;while(o!==t)}else null===i&&(o.shared.lanes=0);hc|=a,e.lanes=a,e.memoizedState=f}}function kn(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var o=e[t],i=o.callback;if(null!==i){if(o.callback=null,o=n,"function"!=typeof i)throw Error(r(191,i));i.call(o)}}}function En(e,t,n,r){t=e.memoizedState,n=n(r,t),n=null===n||void 0===n?t:la({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}function Cn(e,t,n,r,o,i,a){return e=e.stateNode,"function"==typeof e.shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!tt(n,r)||!tt(o,i))}function On(e,t,n){var r=!1,o=Ys,i=t.contextType;return"object"==typeof i&&null!==i?i=pn(i):(o=jt(t)?Js:Xs.current,r=t.contextTypes,i=(r=null!==r&&void 0!==r)?Lt(e,o):Ys),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=xu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Dn(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xu.enqueueReplaceState(t,t.state,null)}function Tn(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=wu,yn(e);var i=t.contextType;"object"==typeof i&&null!==i?o.context=pn(i):(i=jt(t)?Js:Xs.current,o.context=Lt(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,"function"==typeof i&&(En(e,t,i,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&xu.enqueueReplaceState(o,o.state,null),Sn(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4194308)}function Nn(e,t,n){if(e=n.ref,null!==e&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var o=n.stateNode}if(!o)throw Error(r(147,e));var i=o,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===wu&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function Mn(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function In(e){var t=e._init;return t(e._payload)}function Bn(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function o(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return e=ci(e,t),e.index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?(r=t.alternate,null!==r?(r=r.index,r<n?(t.flags|=2,n):r):(t.flags|=2,n)):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?(t=hi(n,e.mode,r),t.return=e,t):(t=i(t,n),t.return=e,t)}function u(e,t,n,r){var o=n.type;return o===Yi?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===na&&In(o)===t.type)?(r=i(t,n.props),r.ref=Nn(e,t,n),r.return=e,r):(r=fi(n.type,n.key,n.props,null,e.mode,r),r.ref=Nn(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=gi(n,e.mode,r),t.return=e,t):(t=i(t,n.children||[]),t.return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?(t=di(n,e.mode,r,o),t.return=e,t):(t=i(t,n),t.return=e,t)}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return t=hi(""+t,e.mode,n),t.return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Wi:return n=fi(t.type,t.key,t.props,null,e.mode,n),n.ref=Nn(e,null,t),n.return=e,n;case qi:return t=gi(t,e.mode,n),t.return=e,t;case na:var r=t._init;return p(e,r(t._payload),n)}if(ua(t)||d(t))return t=di(t,e.mode,n,null),t.return=e,t;Mn(e,t)}return null}function h(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==o?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Wi:return n.key===o?u(e,t,n,r):null;case qi:return n.key===o?c(e,t,n,r):null;case na:return o=n._init,h(e,t,o(n._payload),r)}if(ua(n)||d(n))return null!==o?null:f(e,t,n,r,null);Mn(e,n)}return null}function g(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r)return e=e.get(n)||null,s(t,e,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Wi:return e=e.get(null===r.key?n:r.key)||null,u(t,e,r,o);case qi:return e=e.get(null===r.key?n:r.key)||null,c(t,e,r,o);case na:var i=r._init;return g(e,t,n,i(r._payload),o)}if(ua(r)||d(r))return e=e.get(n)||null,f(t,e,r,o,null);Mn(t,r)}return null}function v(r,i,l,s){for(var u=null,c=null,f=i,d=i=0,v=null;null!==f&&d<l.length;d++){f.index>d?(v=f,f=null):v=f.sibling;var y=h(r,f,l[d],s);if(null===y){null===f&&(f=v);break}e&&f&&null===y.alternate&&t(r,f),i=a(y,i,d),null===c?u=y:c.sibling=y,c=y,f=v}if(d===l.length)return n(r,f),fu&&Xt(r,d),u;if(null===f){for(;d<l.length;d++)f=p(r,l[d],s),null!==f&&(i=a(f,i,d),null===c?u=f:c.sibling=f,c=f);return fu&&Xt(r,d),u}for(f=o(r,f);d<l.length;d++)v=g(f,r,d,l[d],s),null!==v&&(e&&null!==v.alternate&&f.delete(null===v.key?d:v.key),i=a(v,i,d),null===c?u=v:c.sibling=v,c=v);return e&&f.forEach(function(e){return t(r,e)}),fu&&Xt(r,d),u}function y(i,l,s,u){var c=d(s);if("function"!=typeof c)throw Error(r(150));if(s=c.call(s),null==s)throw Error(r(151));for(var f=c=null,v=l,y=l=0,m=null,b=s.next();null!==v&&!b.done;y++,b=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var w=h(i,v,b.value,u);if(null===w){null===v&&(v=m);break}e&&v&&null===w.alternate&&t(i,v),l=a(w,l,y),null===f?c=w:f.sibling=w,f=w,v=m}if(b.done)return n(i,v),fu&&Xt(i,y),c;if(null===v){for(;!b.done;y++,b=s.next())b=p(i,b.value,u),null!==b&&(l=a(b,l,y),null===f?c=b:f.sibling=b,f=b);return fu&&Xt(i,y),c}for(v=o(i,v);!b.done;y++,b=s.next())b=g(v,i,y,b.value,u),null!==b&&(e&&null!==b.alternate&&v.delete(null===b.key?y:b.key),l=a(b,l,y),null===f?c=b:f.sibling=b,f=b);return e&&v.forEach(function(e){return t(i,e)}),fu&&Xt(i,y),c}function m(e,r,o,a){if("object"==typeof o&&null!==o&&o.type===Yi&&null===o.key&&(o=o.props.children),"object"==typeof o&&null!==o){switch(o.$$typeof){case Wi:e:{for(var s=o.key,u=r;null!==u;){if(u.key===s){if(s=o.type,s===Yi){if(7===u.tag){n(e,u.sibling),r=i(u,o.props.children),r.return=e,e=r;break e}}else if(u.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===na&&In(s)===u.type){n(e,u.sibling),r=i(u,o.props),r.ref=Nn(e,u,o),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}o.type===Yi?(r=di(o.props.children,e.mode,a,o.key),r.return=e,e=r):(a=fi(o.type,o.key,o.props,null,e.mode,a),a.ref=Nn(e,r,o),a.return=e,e=a)}return l(e);case qi:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),r=i(r,o.children||[]),r.return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}r=gi(o,e.mode,a),r.return=e,e=r}return l(e);case na:return u=o._init,m(e,r,u(o._payload),a)}if(ua(o))return v(e,r,o,a);if(d(o))return y(e,r,o,a);Mn(e,o)}return"string"==typeof o&&""!==o||"number"==typeof o?(o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),r=i(r,o),r.return=e,e=r):(n(e,r),r=hi(o,e.mode,a),r.return=e,e=r),l(e)):n(e,r)}return m}function Pn(e){if(e===ku)throw Error(r(174));return e}function An(e,t){switch(Ft(Ou,t),Ft(Cu,e),Ft(Eu,ku),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:R(null,"");break;default:e=8===e?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=R(t,e)}Rt(Eu),Ft(Eu,t)}function Rn(){Rt(Eu),Rt(Cu),Rt(Ou)}function Fn(e){Pn(Ou.current);var t=Pn(Eu.current),n=R(t,e.type);t!==n&&(Ft(Cu,e),Ft(Eu,n))}function Ln(e){Cu.current===e&&(Rt(Eu),Rt(Cu))}function jn(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(n=n.dehydrated,null===n||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function zn(){for(var e=0;e<Tu.length;e++)Tu[e]._workInProgressVersionPrimary=null;Tu.length=0}function Kn(){throw Error(r(321))}function Un(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!os(e[n],t[n]))return!1;return!0}function Vn(e,t,n,o,i,a){if(Iu=a,Bu=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Nu.current=null===e||null===e.memoizedState?Ku:Uu,e=n(o,i),Fu){a=0;do{if(Fu=!1,Lu=0,25<=a)throw Error(r(301));a+=1,Au=Pu=null,t.updateQueue=null,Nu.current=Vu,e=n(o,i)}while(Fu)}if(Nu.current=zu,t=null!==Pu&&null!==Pu.next,Iu=0,Au=Pu=Bu=null,Ru=!1,t)throw Error(r(300));return e}function Hn(){var e=0!==Lu;return Lu=0,e}function Wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Au?Bu.memoizedState=Au=e:Au=Au.next=e,Au}function qn(){if(null===Pu){var e=Bu.alternate;e=null!==e?e.memoizedState:null}else e=Pu.next;var t=null===Au?Bu.memoizedState:Au.next;if(null!==t)Au=t,Pu=e;else{if(null===e)throw Error(r(310));Pu=e,e={memoizedState:Pu.memoizedState,baseState:Pu.baseState,baseQueue:Pu.baseQueue,queue:Pu.queue,next:null},null===Au?Bu.memoizedState=Au=e:Au=Au.next=e}return Au}function Yn(e,t){return"function"==typeof t?t(e):t}function Xn(e){var t=qn(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var o=Pu,i=o.baseQueue,a=n.pending;if(null!==a){if(null!==i){var l=i.next;i.next=a.next,a.next=l}o.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,o=o.baseState;var s=l=null,u=null,c=a;do{var f=c.lane;if((Iu&f)===f)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),o=c.hasEagerState?c.eagerState:e(o,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(s=u=d,l=o):u=u.next=d,Bu.lanes|=f,hc|=f}c=c.next}while(null!==c&&c!==a);null===u?l=o:u.next=s,os(o,t.memoizedState)||(qu=!0),t.memoizedState=o,t.baseState=l,t.baseQueue=u,n.lastRenderedState=o}if(e=n.interleaved,null!==e){i=e;do a=i.lane,Bu.lanes|=a,hc|=a,i=i.next;while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function $n(e){var t=qn(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var o=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var l=i=i.next;do a=e(a,l.action),l=l.next;while(l!==i);os(a,t.memoizedState)||(qu=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,o]}function Jn(){}function Gn(e,t){var n=Bu,o=qn(),i=t(),a=!os(o.memoizedState,i);if(a&&(o.memoizedState=i,qu=!0),o=o.queue,ur(er.bind(null,n,o,e),[e]),o.getSnapshot!==t||a||null!==Au&&1&Au.memoizedState.tag){if(n.flags|=2048,or(9,Zn.bind(null,n,o,i,t),void 0,null),null===lc)throw Error(r(349));0!==(30&Iu)||Qn(n,t,i)}return i}function Qn(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Bu.updateQueue,null===t?(t={lastEffect:null,stores:null},Bu.updateQueue=t,t.stores=[e]):(n=t.stores,null===n?t.stores=[e]:n.push(e))}function Zn(e,t,n,r){t.value=n,t.getSnapshot=r,tr(t)&&nr(e)}function er(e,t,n){return n(function(){tr(t)&&nr(e)})}function tr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!os(e,n)}catch(e){return!0}}function nr(e){var t=vn(e,1);null!==t&&No(t,e,1,-1)}function rr(e){var t=Wn();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:e},t.queue=e,e=e.dispatch=xr.bind(null,Bu,e),[t.memoizedState,e]}function or(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Bu.updateQueue,null===t?(t={lastEffect:null,stores:null},Bu.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,null===n?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ir(){return qn().memoizedState}function ar(e,t,n,r){var o=Wn();Bu.flags|=e,o.memoizedState=or(1|t,n,void 0,void 0===r?null:r)}function lr(e,t,n,r){var o=qn();r=void 0===r?null:r;var i=void 0;if(null!==Pu){var a=Pu.memoizedState;if(i=a.destroy,null!==r&&Un(r,a.deps))return void(o.memoizedState=or(t,n,i,r))}Bu.flags|=e,o.memoizedState=or(1|t,n,i,r)}function sr(e,t){return ar(8390656,8,e,t)}function ur(e,t){return lr(2048,8,e,t)}function cr(e,t){return lr(4,2,e,t)}function fr(e,t){return lr(4,4,e,t)}function dr(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function pr(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,lr(4,4,dr.bind(null,t,e),n)}function hr(){}function gr(e,t){var n=qn();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Un(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function vr(e,t){var n=qn();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Un(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function yr(e,t,n){return 0===(21&Iu)?(e.baseState&&(e.baseState=!1,qu=!0),e.memoizedState=n):(os(n,t)||(n=de(),Bu.lanes|=n,hc|=n,e.baseState=!0),t)}function mr(e,t){var n=Qa;Qa=0!==n&&4>n?n:4,e(!0);var r=Mu.transition;Mu.transition={};try{e(!1),t()}finally{Qa=n,Mu.transition=r}}function br(){return qn().memoizedState}function wr(e,t,n){var r=To(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_r(e))Sr(t,n);else if(n=gn(e,t,n,r),null!==n){var o=Do();No(n,e,r,o),kr(n,t,r)}}function xr(e,t,n){var r=To(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_r(e))Sr(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&(i=t.lastRenderedReducer,null!==i))try{var a=t.lastRenderedState,l=i(a,n);if(o.hasEagerState=!0,o.eagerState=l,os(l,a)){var s=t.interleaved;return null===s?(o.next=o,hn(t)):(o.next=s.next,s.next=o),void(t.interleaved=o)}}catch(e){}finally{}n=gn(e,t,o,r),null!==n&&(o=Do(),No(n,e,r,o),kr(n,t,r))}}function _r(e){var t=e.alternate;return e===Bu||null!==t&&t===Bu}function Sr(e,t){Fu=Ru=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function kr(e,t,n){if(0!==(4194240&n)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ve(e,n)}}function Er(e,t){try{var n="",r=t;do n+=g(r),r=r.return;while(r);var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o,digest:null}}function Cr(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function Or(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}function Dr(e,t,n){n=bn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){_c||(_c=!0,Sc=r),Or(e,t)},n}function Tr(e,t,n){n=bn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Or(e,t)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){Or(e,t),"function"!=typeof r&&(null===kc?kc=new Set([this]):kc.add(this));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}function Nr(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Hu;var o=new Set;r.set(t,o)}else o=r.get(t),void 0===o&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=ti.bind(null,e,t,n),t.then(e,e))}function Mr(e){do{var t;if((t=13===e.tag)&&(t=e.memoizedState,t=null===t||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ir(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:(t=bn(-1,1),t.tag=2,wn(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}function Br(e,t,n,r){t.child=null===e?Su(t,null,n,r):_u(t,e.child,n,r)}function Pr(e,t,n,r,o){n=n.render;var i=t.ref;return dn(t,o),r=Vn(e,t,n,r,i,o),n=Hn(),null===e||qu?(fu&&n&&Jt(t),t.flags|=1,Br(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Zr(e,t,o))}function Ar(e,t,n,r,o){if(null===e){var i=n.type;return"function"!=typeof i||si(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?(e=fi(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Rr(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var a=i.memoizedProps;if(n=n.compare,n=null!==n?n:tt,n(a,r)&&e.ref===t.ref)return Zr(e,t,o)}return t.flags|=1,e=ci(i,r),e.ref=t.ref,e.return=t,t.child=e}function Rr(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(tt(i,r)&&e.ref===t.ref){if(qu=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,Zr(e,t,o);0!==(131072&e.flags)&&(qu=!0)}}return jr(e,t,n,r,o)}function Fr(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ft(fc,cc),cc|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ft(fc,cc),cc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Ft(fc,cc),cc|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ft(fc,cc),cc|=r;return Br(e,t,o,n),t.child}function Lr(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function jr(e,t,n,r,o){var i=jt(n)?Js:Xs.current;return i=Lt(t,i),dn(t,o),n=Vn(e,t,n,r,i,o),r=Hn(),null===e||qu?(fu&&r&&Jt(t),t.flags|=1,Br(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Zr(e,t,o))}function zr(e,t,n,r,o){if(jt(n)){var i=!0;Vt(t)}else i=!1;if(dn(t,o),null===t.stateNode)Qr(e,t),On(t,n,r),Tn(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,l=t.memoizedProps;a.props=l;var s=a.context,u=n.contextType;"object"==typeof u&&null!==u?u=pn(u):(u=jt(n)?Js:Xs.current,u=Lt(t,u));var c=n.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(l!==r||s!==u)&&Dn(t,a,r,u),bu=!1;var d=t.memoizedState;a.state=d,Sn(t,r,a,o),s=t.memoizedState,l!==r||d!==s||$s.current||bu?("function"==typeof c&&(En(t,n,c,r),s=t.memoizedState),(l=bu||Cn(t,n,l,r,d,s,u))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=u,r=l):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,mn(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:sn(t.type,l),a.props=u,f=t.pendingProps,d=a.context,s=n.contextType,"object"==typeof s&&null!==s?s=pn(s):(s=jt(n)?Js:Xs.current,s=Lt(t,s));var p=n.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(l!==f||d!==s)&&Dn(t,a,r,s),bu=!1,d=t.memoizedState,a.state=d,Sn(t,r,a,o);var h=t.memoizedState;l!==f||d!==h||$s.current||bu?("function"==typeof p&&(En(t,n,p,r),h=t.memoizedState),(u=bu||Cn(t,n,u,r,d,h,s)||!1)?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,s),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,s)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=s,r=u):("function"!=typeof a.componentDidUpdate||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Kr(e,t,n,r,i,o)}function Kr(e,t,n,r,o,i){Lr(e,t);var a=0!==(128&t.flags);if(!r&&!a)return o&&Ht(t,n,!1),Zr(e,t,i);r=t.stateNode,Wu.current=t;var l=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=_u(t,e.child,null,i),t.child=_u(t,null,l,i)):Br(e,t,l,i),t.memoizedState=r.state,o&&Ht(t,n,!0),t.child}function Ur(e){var t=e.stateNode;t.pendingContext?Kt(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Kt(e,t.context,!1),An(e,t.containerInfo)}function Vr(e,t,n,r,o){return an(),ln(o),t.flags|=256,Br(e,t,n,r),t.child}function Hr(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wr(e,t,n){var r,o=t.pendingProps,i=Du.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Ft(Du,1&i),null===e)return tn(t),e=t.memoizedState,null!==e&&(e=e.dehydrated,null!==e)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,a?(o=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&o)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=pi(l,o,0,null),e=di(e,o,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Hr(n),t.memoizedState=Yu,e):qr(t,l));if(i=e.memoizedState,null!==i&&(r=i.dehydrated,null!==r))return Xr(e,t,l,o,r,i,n);if(a){a=o.fallback,l=t.mode,i=e.child,r=i.sibling;var s={mode:"hidden",children:o.children};return 0===(1&l)&&t.child!==i?(o=t.child,o.childLanes=0,o.pendingProps=s,t.deletions=null):(o=ci(i,s),o.subtreeFlags=14680064&i.subtreeFlags),null!==r?a=ci(r,a):(a=di(a,l,n,null),a.flags|=2),a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,l=e.child.memoizedState,l=null===l?Hr(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Yu,o}return a=e.child,e=a.sibling,o=ci(a,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(n=t.deletions,null===n?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function qr(e,t){return t=pi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yr(e,t,n,r){return null!==r&&ln(r),_u(t,e.child,null,n),e=qr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xr(e,t,n,o,i,a,l){if(n)return 256&t.flags?(t.flags&=-257,o=Cr(Error(r(422))),Yr(e,t,l,o)):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=o.fallback,i=t.mode,o=pi({mode:"visible",children:o.children},i,0,null),a=di(a,i,l,null),a.flags|=2,o.return=t,a.return=t,o.sibling=a,t.child=o,0!==(1&t.mode)&&_u(t,e.child,null,l),t.child.memoizedState=Hr(l),t.memoizedState=Yu,a);if(0===(1&t.mode))return Yr(e,t,l,null);if("$!"===i.data){if(o=i.nextSibling&&i.nextSibling.dataset)var s=o.dgst;return o=s,a=Error(r(419)),o=Cr(a,o,void 0),Yr(e,t,l,o)}if(s=0!==(l&e.childLanes),qu||s){if(o=lc,null!==o){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=0!==(i&(o.suspendedLanes|l))?0:i,0!==i&&i!==a.retryLane&&(a.retryLane=i,vn(e,i),No(o,e,i,-1))}return Ho(),o=Cr(Error(r(421))),Yr(e,t,l,o)}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=ri.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,cu=Tt(i.nextSibling),uu=t,fu=!0,du=null,null!==e&&(ou[iu++]=lu,ou[iu++]=su,ou[iu++]=au,lu=e.id,su=e.overflow,au=t),t=qr(t,o.children),t.flags|=4096,t)}function $r(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),fn(e.return,t,n)}function Jr(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Gr(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Br(e,t,r.children,n),r=Du.current,0!==(2&r))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$r(e,n,t);else if(19===e.tag)$r(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ft(Du,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)e=n.alternate,null!==e&&null===jn(e)&&(o=n),n=n.sibling;n=o,null===n?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Jr(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(e=o.alternate,null!==e&&null===jn(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Jr(t,!0,n,null,i);break;case"together":Jr(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qr(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zr(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),hc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(e=t.child,n=ci(e,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,n=n.sibling=ci(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function eo(e,t,n){switch(t.tag){case 3:Ur(t),an();break;case 5:Fn(t);break;case 1:jt(t.type)&&Vt(t);break;case 4:An(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Ft(hu,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,null!==r)return null!==r.dehydrated?(Ft(Du,1&Du.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Wr(e,t,n):(Ft(Du,1&Du.current),e=Zr(e,t,n),null!==e?e.sibling:null);Ft(Du,1&Du.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Gr(e,t,n);t.flags|=128}if(o=t.memoizedState,null!==o&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ft(Du,Du.current),r)break;return null;case 22:case 23:return t.lanes=0,Fr(e,t,n)}return Zr(e,t,n)}function to(e,t){if(!fu)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function no(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ro(e,t,n){var o=t.pendingProps;switch(Gt(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return no(t),null;case 1:return jt(t.type)&&zt(),no(t),null;case 3:return o=t.stateNode,Rn(),Rt($s),Rt(Xs),zn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),null!==e&&null!==e.child||(rn(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==du&&(Po(du),du=null))),ks(e,t),no(t),null;case 5:Ln(t);var i=Pn(Ou.current);if(n=t.type,null!==e&&null!=t.stateNode)Es(e,t,n,o,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(null===t.stateNode)throw Error(r(166));return no(t),null}if(e=Pn(Eu.current),rn(t)){o=t.stateNode,n=t.type;var a=t.memoizedProps;switch(o[js]=t,o[zs]=a,e=0!==(1&t.mode),n){case"dialog":ht("cancel",o),ht("close",o);break;case"iframe":case"object":case"embed":ht("load",o);break;case"video":case"audio":for(i=0;i<Os.length;i++)ht(Os[i],o);break;case"source":ht("error",o);break;case"img":case"image":case"link":ht("error",o),ht("load",o);break;case"details":ht("toggle",o);break;case"input":E(o,a),ht("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!a.multiple},ht("invalid",o);break;case"textarea":I(o,a),ht("invalid",o)}z(n,a),i=null;for(var l in a)if(a.hasOwnProperty(l)){var s=a[l];"children"===l?"string"==typeof s?o.textContent!==s&&(!0!==a.suppressHydrationWarning&&kt(o.textContent,s,e),i=["children",s]):"number"==typeof s&&o.textContent!==""+s&&(!0!==a.suppressHydrationWarning&&kt(o.textContent,s,e),i=["children",""+s]):Ri.hasOwnProperty(l)&&null!=s&&"onScroll"===l&&ht("scroll",o)}switch(n){case"input":x(o),D(o,a,!0);break;case"textarea":x(o),P(o);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(o.onclick=Et)}o=i,t.updateQueue=o,null!==o&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=A(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?(e=l.createElement("div"),e.innerHTML="<script></script>",e=e.removeChild(e.firstChild)):"string"==typeof o.is?e=l.createElement(n,{
is:o.is}):(e=l.createElement(n),"select"===n&&(l=e,o.multiple?l.multiple=!0:o.size&&(l.size=o.size))):e=l.createElementNS(e,n),e[js]=t,e[zs]=o,Ss(e,t,!1,!1),t.stateNode=e;e:{switch(l=K(n,o),n){case"dialog":ht("cancel",e),ht("close",e),i=o;break;case"iframe":case"object":case"embed":ht("load",e),i=o;break;case"video":case"audio":for(i=0;i<Os.length;i++)ht(Os[i],e);i=o;break;case"source":ht("error",e),i=o;break;case"img":case"image":case"link":ht("error",e),ht("load",e),i=o;break;case"details":ht("toggle",e),i=o;break;case"input":E(e,o),i=k(e,o),ht("invalid",e);break;case"option":i=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},i=la({},o,{value:void 0}),ht("invalid",e);break;case"textarea":I(e,o),i=M(e,o),ht("invalid",e);break;default:i=o}z(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var u=s[a];"style"===a?j(e,u):"dangerouslySetInnerHTML"===a?(u=u?u.__html:void 0,null!=u&&ca(e,u)):"children"===a?"string"==typeof u?("textarea"!==n||""!==u)&&F(e,u):"number"==typeof u&&F(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(Ri.hasOwnProperty(a)?null!=u&&"onScroll"===a&&ht("scroll",e):null!=u&&f(e,a,u,l))}switch(n){case"input":x(e),D(e,o,!1);break;case"textarea":x(e),P(e);break;case"option":null!=o.value&&e.setAttribute("value",""+m(o.value));break;case"select":e.multiple=!!o.multiple,a=o.value,null!=a?N(e,!!o.multiple,a,!1):null!=o.defaultValue&&N(e,!!o.multiple,o.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Et)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return no(t),null;case 6:if(e&&null!=t.stateNode)Cs(e,t,e.memoizedProps,o);else{if("string"!=typeof o&&null===t.stateNode)throw Error(r(166));if(n=Pn(Ou.current),Pn(Eu.current),rn(t)){if(o=t.stateNode,n=t.memoizedProps,o[js]=t,(a=o.nodeValue!==n)&&(e=uu,null!==e))switch(e.tag){case 3:kt(o.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&kt(o.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else o=(9===n.nodeType?n:n.ownerDocument).createTextNode(o),o[js]=t,t.stateNode=o}return no(t),null;case 13:if(Rt(Du),o=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(fu&&null!==cu&&0!==(1&t.mode)&&0===(128&t.flags))on(),an(),t.flags|=98560,a=!1;else if(a=rn(t),null!==o&&null!==o.dehydrated){if(null===e){if(!a)throw Error(r(318));if(a=t.memoizedState,a=null!==a?a.dehydrated:null,!a)throw Error(r(317));a[js]=t}else an(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;no(t),a=!1}else null!==du&&(Po(du),du=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):(o=null!==o,o!==(null!==e&&null!==e.memoizedState)&&o&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Du.current)?0===dc&&(dc=3):Ho())),null!==t.updateQueue&&(t.flags|=4),no(t),null);case 4:return Rn(),ks(e,t),null===e&&vt(t.stateNode.containerInfo),no(t),null;case 10:return cn(t.type._context),no(t),null;case 17:return jt(t.type)&&zt(),no(t),null;case 19:if(Rt(Du),a=t.memoizedState,null===a)return no(t),null;if(o=0!==(128&t.flags),l=a.rendering,null===l)if(o)to(a,!1);else{if(0!==dc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(l=jn(e),null!==l){for(t.flags|=128,to(a,!1),o=l.updateQueue,null!==o&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;null!==n;)a=n,e=o,a.flags&=14680066,l=a.alternate,null===l?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ft(Du,1&Du.current|2),t.child}e=e.sibling}null!==a.tail&&La()>wc&&(t.flags|=128,o=!0,to(a,!1),t.lanes=4194304)}else{if(!o)if(e=jn(l),null!==e){if(t.flags|=128,o=!0,n=e.updateQueue,null!==n&&(t.updateQueue=n,t.flags|=4),to(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!fu)return no(t),null}else 2*La()-a.renderingStartTime>wc&&1073741824!==n&&(t.flags|=128,o=!0,to(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(n=a.last,null!==n?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=La(),t.sibling=null,n=Du.current,Ft(Du,o?1&n|2:1&n),t):(no(t),null);case 22:case 23:return zo(),o=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==o&&(t.flags|=8192),o&&0!==(1&t.mode)?0!==(1073741824&cc)&&(no(t),6&t.subtreeFlags&&(t.flags|=8192)):no(t),null;case 24:return null;case 25:return null}throw Error(r(156,t.tag))}function oo(e,t){switch(Gt(t),t.tag){case 1:return jt(t.type)&&zt(),e=t.flags,65536&e?(t.flags=e&-65537|128,t):null;case 3:return Rn(),Rt($s),Rt(Xs),zn(),e=t.flags,0!==(65536&e)&&0===(128&e)?(t.flags=e&-65537|128,t):null;case 5:return Ln(t),null;case 13:if(Rt(Du),e=t.memoizedState,null!==e&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));an()}return e=t.flags,65536&e?(t.flags=e&-65537|128,t):null;case 19:return Rt(Du),null;case 4:return Rn(),null;case 10:return cn(t.type._context),null;case 22:case 23:return zo(),null;case 24:return null;default:return null}}function io(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){ei(e,t,n)}else n.current=null}function ao(e,t,n){try{n()}catch(n){ei(e,t,n)}}function lo(e,t){if(Is=ul,e=it(),at(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&0!==o.rangeCount){n=o.anchorNode;var i=o.anchorOffset,a=o.focusNode;o=o.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var l=0,s=-1,u=-1,c=0,f=0,d=e,p=null;t:for(;;){for(var h;d!==n||0!==i&&3!==d.nodeType||(s=l+i),d!==a||0!==o&&3!==d.nodeType||(u=l+o),3===d.nodeType&&(l+=d.nodeValue.length),null!==(h=d.firstChild);)p=d,d=h;for(;;){if(d===e)break t;if(p===n&&++c===i&&(s=l),p===a&&++f===o&&(u=l),null!==(h=d.nextSibling))break;d=p,p=d.parentNode}d=h}n=-1===s||-1===u?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bs={focusedElem:e,selectionRange:n},ul=!1,Qu=t;null!==Qu;)if(t=Qu,e=t.child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qu=e;else for(;null!==Qu;){t=Qu;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:break;case 1:if(null!==g){var v=g.memoizedProps,y=g.memoizedState,m=t.stateNode,b=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:sn(t.type,v),y);m.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(e){ei(t,t.return,e)}if(e=t.sibling,null!==e){e.return=t.return,Qu=e;break}Qu=t.return}return g=Zu,Zu=!1,g}function so(e,t,n){var r=t.updateQueue;if(r=null!==r?r.lastEffect:null,null!==r){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&ao(t,n,i)}o=o.next}while(o!==r)}}function uo(e,t){if(t=t.updateQueue,t=null!==t?t.lastEffect:null,null!==t){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function co(e){var t=e.ref;if(null!==t){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}"function"==typeof t?t(e):t.current=e}}function fo(e){var t=e.alternate;null!==t&&(e.alternate=null,fo(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(t=e.stateNode,null!==t&&(delete t[js],delete t[zs],delete t[Us],delete t[Vs],delete t[Hs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function po(e){return 5===e.tag||3===e.tag||4===e.tag}function ho(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||po(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function go(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,null!==n&&void 0!==n||null!==t.onclick||(t.onclick=Et));else if(4!==r&&(e=e.child,null!==e))for(go(e,t,n),e=e.sibling;null!==e;)go(e,t,n),e=e.sibling}function vo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(e=e.child,null!==e))for(vo(e,t,n),e=e.sibling;null!==e;)vo(e,t,n),e=e.sibling}function yo(e,t,n){for(n=n.child;null!==n;)mo(e,t,n),n=n.sibling}function mo(e,t,n){if(qa&&"function"==typeof qa.onCommitFiberUnmount)try{qa.onCommitFiberUnmount(Wa,n)}catch(e){}switch(n.tag){case 5:Ju||io(n,t);case 6:var r=ec,o=tc;ec=null,yo(e,t,n),ec=r,tc=o,null!==ec&&(tc?(e=ec,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ec.removeChild(n.stateNode));break;case 18:null!==ec&&(tc?(e=ec,n=n.stateNode,8===e.nodeType?Dt(e.parentNode,n):1===e.nodeType&&Dt(e,n),Ce(e)):Dt(ec,n.stateNode));break;case 4:r=ec,o=tc,ec=n.stateNode.containerInfo,tc=!0,yo(e,t,n),ec=r,tc=o;break;case 0:case 11:case 14:case 15:if(!Ju&&(r=n.updateQueue,null!==r&&(r=r.lastEffect,null!==r))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)?ao(n,t,a):0!==(4&i)&&ao(n,t,a)),o=o.next}while(o!==r)}yo(e,t,n);break;case 1:if(!Ju&&(io(n,t),r=n.stateNode,"function"==typeof r.componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){ei(n,t,e)}yo(e,t,n);break;case 21:yo(e,t,n);break;case 22:1&n.mode?(Ju=(r=Ju)||null!==n.memoizedState,yo(e,t,n),Ju=r):yo(e,t,n);break;default:yo(e,t,n)}}function bo(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Gu),t.forEach(function(t){var r=oi.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function wo(e,t){var n=t.deletions;if(null!==n)for(var o=0;o<n.length;o++){var i=n[o];try{var a=e,l=t,s=l;e:for(;null!==s;){switch(s.tag){case 5:ec=s.stateNode,tc=!1;break e;case 3:ec=s.stateNode.containerInfo,tc=!0;break e;case 4:ec=s.stateNode.containerInfo,tc=!0;break e}s=s.return}if(null===ec)throw Error(r(160));mo(a,l,i),ec=null,tc=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(e){ei(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)xo(t,e),t=t.sibling}function xo(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wo(t,e),_o(e),4&o){try{so(3,e,e.return),uo(3,e)}catch(t){ei(e,e.return,t)}try{so(5,e,e.return)}catch(t){ei(e,e.return,t)}}break;case 1:wo(t,e),_o(e),512&o&&null!==n&&io(n,n.return);break;case 5:if(wo(t,e),_o(e),512&o&&null!==n&&io(n,n.return),32&e.flags){var i=e.stateNode;try{F(i,"")}catch(t){ei(e,e.return,t)}}if(4&o&&(i=e.stateNode,null!=i)){var a=e.memoizedProps,l=null!==n?n.memoizedProps:a,s=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===s&&"radio"===a.type&&null!=a.name&&C(i,a),K(s,l);var c=K(s,a);for(l=0;l<u.length;l+=2){var d=u[l],p=u[l+1];"style"===d?j(i,p):"dangerouslySetInnerHTML"===d?ca(i,p):"children"===d?F(i,p):f(i,d,p,c)}switch(s){case"input":O(i,a);break;case"textarea":B(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var g=a.value;null!=g?N(i,!!a.multiple,g,!1):h!==!!a.multiple&&(null!=a.defaultValue?N(i,!!a.multiple,a.defaultValue,!0):N(i,!!a.multiple,a.multiple?[]:"",!1))}i[zs]=a}catch(t){ei(e,e.return,t)}}break;case 6:if(wo(t,e),_o(e),4&o){if(null===e.stateNode)throw Error(r(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(t){ei(e,e.return,t)}}break;case 3:if(wo(t,e),_o(e),4&o&&null!==n&&n.memoizedState.isDehydrated)try{Ce(t.containerInfo)}catch(t){ei(e,e.return,t)}break;case 4:wo(t,e),_o(e);break;case 13:wo(t,e),_o(e),i=e.child,8192&i.flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(bc=La())),4&o&&bo(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ju=(c=Ju)||d,wo(t,e),Ju=c):wo(t,e),_o(e),8192&o){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Qu=e,d=e.child;null!==d;){for(p=Qu=d;null!==Qu;){switch(h=Qu,g=h.child,h.tag){case 0:case 11:case 14:case 15:so(4,h,h.return);break;case 1:io(h,h.return);var v=h.stateNode;if("function"==typeof v.componentWillUnmount){o=h,n=h.return;try{t=o,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(e){ei(o,n,e)}}break;case 5:io(h,h.return);break;case 22:if(null!==h.memoizedState){Co(p);continue}}null!==g?(g.return=h,Qu=g):Co(p)}d=d.sibling}e:for(d=null,p=e;;){if(5===p.tag){if(null===d){d=p;try{i=p.stateNode,c?(a=i.style,"function"==typeof a.setProperty?a.setProperty("display","none","important"):a.display="none"):(s=p.stateNode,u=p.memoizedProps.style,l=void 0!==u&&null!==u&&u.hasOwnProperty("display")?u.display:null,s.style.display=L("display",l))}catch(t){ei(e,e.return,t)}}}else if(6===p.tag){if(null===d)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(t){ei(e,e.return,t)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:wo(t,e),_o(e),4&o&&bo(e);break;case 21:break;default:wo(t,e),_o(e)}}function _o(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(po(n)){var o=n;break e}n=n.return}throw Error(r(160))}switch(o.tag){case 5:var i=o.stateNode;32&o.flags&&(F(i,""),o.flags&=-33);var a=ho(e);vo(e,a,i);break;case 3:case 4:var l=o.stateNode.containerInfo,s=ho(e);go(e,s,l);break;default:throw Error(r(161))}}catch(t){ei(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function So(e,t,n){Qu=e,ko(e,t,n)}function ko(e,t,n){for(var r=0!==(1&e.mode);null!==Qu;){var o=Qu,i=o.child;if(22===o.tag&&r){var a=null!==o.memoizedState||$u;if(!a){var l=o.alternate,s=null!==l&&null!==l.memoizedState||Ju;l=$u;var u=Ju;if($u=a,(Ju=s)&&!u)for(Qu=o;null!==Qu;)a=Qu,s=a.child,22===a.tag&&null!==a.memoizedState?Oo(o):null!==s?(s.return=a,Qu=s):Oo(o);for(;null!==i;)Qu=i,ko(i,t,n),i=i.sibling;Qu=o,$u=l,Ju=u}Eo(e,t,n)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,Qu=i):Eo(e,t,n)}}function Eo(e){for(;null!==Qu;){var t=Qu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ju||uo(5,t);break;case 1:var o=t.stateNode;if(4&t.flags&&!Ju)if(null===n)o.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:sn(t.type,n.memoizedProps);o.componentDidUpdate(i,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&kn(t,a,o);break;case 3:var l=t.updateQueue;if(null!==l){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}kn(t,l,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Ce(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ju||512&t.flags&&co(t)}catch(e){ei(t,t.return,e)}}if(t===e){Qu=null;break}if(n=t.sibling,null!==n){n.return=t.return,Qu=n;break}Qu=t.return}}function Co(e){for(;null!==Qu;){var t=Qu;if(t===e){Qu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qu=n;break}Qu=t.return}}function Oo(e){for(;null!==Qu;){var t=Qu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{uo(4,t)}catch(e){ei(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(e){ei(t,o,e)}}var i=t.return;try{co(t)}catch(e){ei(t,i,e)}break;case 5:var a=t.return;try{co(t)}catch(e){ei(t,a,e)}}}catch(e){ei(t,t.return,e)}if(t===e){Qu=null;break}var l=t.sibling;if(null!==l){l.return=t.return,Qu=l;break}Qu=t.return}}function Do(){return 0!==(6&ac)?La():-1!==Nc?Nc:Nc=La()}function To(e){return 0===(1&e.mode)?1:0!==(2&ac)&&0!==uc?uc&-uc:null!==pu.transition?(0===Mc&&(Mc=de()),Mc):(e=Qa,0!==e?e:(e=window.event,e=void 0===e?16:Me(e.type)))}function No(e,t,n,o){if(50<Dc)throw Dc=0,Tc=null,Error(r(185));he(e,n,o),0!==(2&ac)&&e===lc||(e===lc&&(0===(2&ac)&&(gc|=n),4===dc&&Ro(e,uc)),Mo(e,o),1===n&&0===ac&&0===(1&t.mode)&&(wc=La()+500,Qs&&Yt()))}function Mo(e,t){var n=e.callbackNode;ce(e,t);var r=se(e,e===lc?uc:0);if(0===r)null!==n&&Aa(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Aa(n),1===t)0===e.tag?qt(Fo.bind(null,e)):Wt(Fo.bind(null,e)),Fs(function(){0===(6&ac)&&Yt()}),n=null;else{switch(ye(r)){case 1:n=za;break;case 4:n=Ka;break;case 16:n=Ua;break;case 536870912:n=Ha;break;default:n=Ua}n=ii(n,Io.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Io(e,t){if(Nc=-1,Mc=0,0!==(6&ac))throw Error(r(327));var n=e.callbackNode;if(Qo()&&e.callbackNode!==n)return null;var o=se(e,e===lc?uc:0);if(0===o)return null;if(0!==(30&o)||0!==(o&e.expiredLanes)||t)t=Wo(e,o);else{t=o;var i=ac;ac|=2;var a=Vo();for(lc===e&&uc===t||(xc=null,wc=La()+500,Ko(e,t));;)try{Yo();break}catch(t){Uo(e,t)}un(),rc.current=a,ac=i,null!==sc?t=0:(lc=null,uc=0,t=dc)}if(0!==t){if(2===t&&(i=fe(e),0!==i&&(o=i,t=Bo(e,i))),1===t)throw n=pc,Ko(e,0),Ro(e,o),Mo(e,La()),n;if(6===t)Ro(e,o);else{if(i=e.current.alternate,0===(30&o)&&!Ao(i)&&(t=Wo(e,o),2===t&&(a=fe(e),0!==a&&(o=a,t=Bo(e,a))),1===t))throw n=pc,Ko(e,0),Ro(e,o),Mo(e,La()),n;switch(e.finishedWork=i,e.finishedLanes=o,t){case 0:case 1:throw Error(r(345));case 2:Jo(e,mc,xc);break;case 3:if(Ro(e,o),(130023424&o)===o&&(t=bc+500-La(),10<t)){if(0!==se(e,0))break;if(i=e.suspendedLanes,(i&o)!==o){Do(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ps(Jo.bind(null,e,mc,xc),t);break}Jo(e,mc,xc);break;case 4:if(Ro(e,o),(4194240&o)===o)break;for(t=e.eventTimes,i=-1;0<o;){var l=31-Ya(o);a=1<<l,l=t[l],l>i&&(i=l),o&=~a}if(o=i,o=La()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*nc(o/1960))-o,10<o){e.timeoutHandle=Ps(Jo.bind(null,e,mc,xc),o);break}Jo(e,mc,xc);break;case 5:Jo(e,mc,xc);break;default:throw Error(r(329))}}}return Mo(e,La()),e.callbackNode===n?Io.bind(null,e):null}function Bo(e,t){var n=yc;return e.current.memoizedState.isDehydrated&&(Ko(e,t).flags|=256),e=Wo(e,t),2!==e&&(t=mc,mc=n,null!==t&&Po(t)),e}function Po(e){null===mc?mc=e:mc.push.apply(mc,e)}function Ao(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&(n=n.stores,null!==n))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!os(i(),o))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ro(e,t){for(t&=~vc,t&=~gc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ya(t),r=1<<n;e[n]=-1,t&=~r}}function Fo(e){if(0!==(6&ac))throw Error(r(327));Qo();var t=se(e,0);if(0===(1&t))return Mo(e,La()),null;var n=Wo(e,t);if(0!==e.tag&&2===n){var o=fe(e);0!==o&&(t=o,n=Bo(e,o))}if(1===n)throw n=pc,Ko(e,0),Ro(e,t),Mo(e,La()),n;if(6===n)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jo(e,mc,xc),Mo(e,La()),null}function Lo(e,t){var n=ac;ac|=1;try{return e(t)}finally{ac=n,0===ac&&(wc=La()+500,Qs&&Yt())}}function jo(e){null!==Cc&&0===Cc.tag&&0===(6&ac)&&Qo();var t=ac;ac|=1;var n=ic.transition,r=Qa;try{if(ic.transition=null,Qa=1,e)return e()}finally{Qa=r,ic.transition=n,ac=t,0===(6&ac)&&Yt()}}function zo(){cc=fc.current,Rt(fc)}function Ko(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,As(n)),null!==sc)for(n=sc.return;null!==n;){var r=n;switch(Gt(r),r.tag){case 1:r=r.type.childContextTypes,null!==r&&void 0!==r&&zt();break;case 3:Rn(),Rt($s),Rt(Xs),zn();break;case 5:Ln(r);break;case 4:Rn();break;case 13:Rt(Du);break;case 19:Rt(Du);break;case 10:cn(r.type._context);break;case 22:case 23:zo()}n=n.return}if(lc=e,sc=e=ci(e.current,null),uc=cc=t,dc=0,pc=null,vc=gc=hc=0,mc=yc=null,null!==mu){for(t=0;t<mu.length;t++)if(n=mu[t],r=n.interleaved,null!==r){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=o,r.next=a}n.pending=r}mu=null}return e}function Uo(e,t){for(;;){var n=sc;try{if(un(),Nu.current=zu,Ru){for(var o=Bu.memoizedState;null!==o;){var i=o.queue;null!==i&&(i.pending=null),o=o.next}Ru=!1}if(Iu=0,Au=Pu=Bu=null,Fu=!1,Lu=0,oc.current=null,null===n||null===n.return){dc=1,pc=t,sc=null;break}e:{var a=e,l=n.return,s=n,u=t;if(t=uc,s.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,f=s,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=Mr(l);if(null!==h){h.flags&=-257,Ir(h,l,s,a,t),1&h.mode&&Nr(a,c,t),t=h,u=c;var g=t.updateQueue;if(null===g){var v=new Set;v.add(u),t.updateQueue=v}else g.add(u);break e}if(0===(1&t)){Nr(a,c,t),Ho();break e}u=Error(r(426))}else if(fu&&1&s.mode){var y=Mr(l);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),Ir(y,l,s,a,t),ln(Er(u,s));break e}}a=u=Er(u,s),4!==dc&&(dc=2),null===yc?yc=[a]:yc.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var m=Dr(a,u,t);_n(a,m);break e;case 1:s=u;var b=a.type,w=a.stateNode;if(0===(128&a.flags)&&("function"==typeof b.getDerivedStateFromError||null!==w&&"function"==typeof w.componentDidCatch&&(null===kc||!kc.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var x=Tr(a,s,t);_n(a,x);break e}}a=a.return}while(null!==a)}$o(n)}catch(e){t=e,sc===n&&null!==n&&(sc=n=n.return);continue}break}}function Vo(){var e=rc.current;return rc.current=zu,null===e?zu:e}function Ho(){0!==dc&&3!==dc&&2!==dc||(dc=4),null===lc||0===(268435455&hc)&&0===(268435455&gc)||Ro(lc,uc)}function Wo(e,t){var n=ac;ac|=2;var o=Vo();for(lc===e&&uc===t||(xc=null,Ko(e,t));;)try{qo();break}catch(t){Uo(e,t)}if(un(),ac=n,rc.current=o,null!==sc)throw Error(r(261));return lc=null,uc=0,dc}function qo(){for(;null!==sc;)Xo(sc)}function Yo(){for(;null!==sc&&!Ra();)Xo(sc)}function Xo(e){var t=Xu(e.alternate,e,cc);e.memoizedProps=e.pendingProps,null===t?$o(e):sc=t,oc.current=null}function $o(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(n=ro(n,t,cc),null!==n)return void(sc=n)}else{if(n=oo(n,t),null!==n)return n.flags&=32767,void(sc=n);if(null===e)return dc=6,void(sc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(t=t.sibling,null!==t)return void(sc=t);sc=t=e}while(null!==t);0===dc&&(dc=5)}function Jo(e,t,n){var r=Qa,o=ic.transition;try{ic.transition=null,Qa=1,Go(e,t,n,r)}finally{ic.transition=o,Qa=r}return null}function Go(e,t,n,o){do Qo();while(null!==Cc);if(0!==(6&ac))throw Error(r(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(ge(e,a),e===lc&&(sc=lc=null,uc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ec||(Ec=!0,ii(Ua,function(){return Qo(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=ic.transition,ic.transition=null;var l=Qa;Qa=1;var s=ac;ac|=4,oc.current=null,lo(e,n),xo(n,e),lt(Bs),ul=!!Is,Bs=Is=null,e.current=n,So(n,e,i),Fa(),ac=s,Qa=l,ic.transition=a}else e.current=n;if(Ec&&(Ec=!1,Cc=e,Oc=i),a=e.pendingLanes,0===a&&(kc=null),ie(n.stateNode,o),Mo(e,La()),null!==t)for(o=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],o(i.value,{componentStack:i.stack,digest:i.digest});if(_c)throw _c=!1,e=Sc,Sc=null,e;return 0!==(1&Oc)&&0!==e.tag&&Qo(),a=e.pendingLanes,0!==(1&a)?e===Tc?Dc++:(Dc=0,Tc=e):Dc=0,Yt(),null}function Qo(){if(null!==Cc){var e=ye(Oc),t=ic.transition,n=Qa;try{if(ic.transition=null,Qa=16>e?16:e,null===Cc)var o=!1;else{if(e=Cc,Cc=null,Oc=0,0!==(6&ac))throw Error(r(331));var i=ac;for(ac|=4,Qu=e.current;null!==Qu;){var a=Qu,l=a.child;if(0!==(16&Qu.flags)){var s=a.deletions;if(null!==s){for(var u=0;u<s.length;u++){var c=s[u];for(Qu=c;null!==Qu;){var f=Qu;switch(f.tag){case 0:case 11:case 15:so(8,f,a)}var d=f.child;if(null!==d)d.return=f,Qu=d;else for(;null!==Qu;){f=Qu;var p=f.sibling,h=f.return;if(fo(f),f===c){Qu=null;break}if(null!==p){p.return=h,Qu=p;break}Qu=h}}}var g=a.alternate;if(null!==g){var v=g.child;if(null!==v){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(null!==v)}}Qu=a}}if(0!==(2064&a.subtreeFlags)&&null!==l)l.return=a,Qu=l;else e:for(;null!==Qu;){if(a=Qu,0!==(2048&a.flags))switch(a.tag){case 0:case 11:case 15:so(9,a,a.return)}var m=a.sibling;if(null!==m){m.return=a.return,Qu=m;break e}Qu=a.return}}var b=e.current;for(Qu=b;null!==Qu;){l=Qu;var w=l.child;if(0!==(2064&l.subtreeFlags)&&null!==w)w.return=l,Qu=w;else e:for(l=b;null!==Qu;){if(s=Qu,0!==(2048&s.flags))try{switch(s.tag){case 0:case 11:case 15:uo(9,s)}}catch(e){ei(s,s.return,e)}if(s===l){Qu=null;break e}var x=s.sibling;if(null!==x){x.return=s.return,Qu=x;break e}Qu=s.return}}if(ac=i,Yt(),qa&&"function"==typeof qa.onPostCommitFiberRoot)try{qa.onPostCommitFiberRoot(Wa,e)}catch(e){}o=!0}return o}finally{Qa=n,ic.transition=t}}return!1}function Zo(e,t,n){t=Er(n,t),t=Dr(e,t,1),e=wn(e,t,1),t=Do(),null!==e&&(he(e,1,t),Mo(e,t))}function ei(e,t,n){if(3===e.tag)Zo(e,e,n);else for(;null!==t;){if(3===t.tag){Zo(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===kc||!kc.has(r))){e=Er(n,e),e=Tr(t,e,1),t=wn(t,e,1),e=Do(),null!==t&&(he(t,1,e),Mo(t,e));break}}t=t.return}}function ti(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Do(),e.pingedLanes|=e.suspendedLanes&n,lc===e&&(uc&n)===n&&(4===dc||3===dc&&(130023424&uc)===uc&&500>La()-bc?Ko(e,0):vc|=n),Mo(e,t)}function ni(e,t){0===t&&(0===(1&e.mode)?t=1:(t=Ga,Ga<<=1,0===(130023424&Ga)&&(Ga=4194304)));var n=Do();e=vn(e,t),null!==e&&(he(e,t,n),Mo(e,n))}function ri(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ni(e,n)}function oi(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(r(314))}null!==o&&o.delete(t),ni(e,n)}function ii(e,t){return Pa(e,t)}function ai(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function li(e,t,n,r){return new ai(e,t,n,r)}function si(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ui(e){if("function"==typeof e)return si(e)?1:0;if(void 0!==e&&null!==e){if(e=e.$$typeof,e===Qi)return 11;if(e===ta)return 14}return 2}function ci(e,t){var n=e.alternate;return null===n?(n=li(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function fi(e,t,n,o,i,a){var l=2;if(o=e,"function"==typeof e)si(e)&&(l=1);else if("string"==typeof e)l=5;else e:switch(e){case Yi:return di(n.children,i,a,t);case Xi:l=8,i|=8;break;case $i:return e=li(12,n,t,2|i),e.elementType=$i,e.lanes=a,e;case Zi:return e=li(13,n,t,i),e.elementType=Zi,e.lanes=a,e;case ea:return e=li(19,n,t,i),e.elementType=ea,e.lanes=a,e;case ra:return pi(n,i,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Ji:l=10;break e;case Gi:l=9;break e;case Qi:l=11;break e;case ta:l=14;break e;case na:l=16,o=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return t=li(l,n,t,i),t.elementType=e,t.type=o,t.lanes=a,t}function di(e,t,n,r){return e=li(7,e,r,t),e.lanes=n,e}function pi(e,t,n,r){return e=li(22,e,r,t),e.elementType=ra,e.lanes=n,e.stateNode={isHidden:!1},e}function hi(e,t,n){return e=li(6,e,null,t),e.lanes=n,e}function gi(e,t,n){return t=li(4,null!==e.children?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vi(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pe(0),this.expirationTimes=pe(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pe(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function yi(e,t,n,r,o,i,a,l,s){return e=new vi(e,t,n,l,s),1===t?(t=1,!0===i&&(t|=8)):t=0,i=li(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yn(i),e}function mi(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:qi,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function bi(e){if(!e)return Ys;e=e._reactInternals;e:{if(Z(e)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(jt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var n=e.type;if(jt(n))return Ut(e,n,t)}return t}function wi(e,t,n,r,o,i,a,l,s){return e=yi(n,r,!0,e,o,i,a,l,s),e.context=bi(null),n=e.current,r=Do(),o=To(n),i=bn(r,o),i.callback=void 0!==t&&null!==t?t:null,wn(n,i,o),e.current.lanes=o,he(e,o,r),Mo(e,r),e}function xi(e,t,n,r){var o=t.current,i=Do(),a=To(o);return n=bi(n),null===t.context?t.context=n:t.pendingContext=n,t=bn(i,a),t.payload={element:e},r=void 0===r?null:r,null!==r&&(t.callback=r),e=wn(o,t,a),null!==e&&(No(e,o,a,i),xn(e,o,a)),a}function _i(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Si(e,t){if(e=e.memoizedState,null!==e&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ki(e,t){Si(e,t),(e=e.alternate)&&Si(e,t)}function Ei(){return null}function Ci(e){this._internalRoot=e}function Oi(e){this._internalRoot=e}function Di(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ti(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ni(){}function Mi(e,t,n,r,o){if(o){if("function"==typeof r){var i=r;r=function(){var e=_i(a);i.call(e)}}var a=wi(t,r,e,0,null,!1,!1,"",Ni);return e._reactRootContainer=a,e[Ks]=a.current,vt(8===e.nodeType?e.parentNode:e),jo(),a}for(;o=e.lastChild;)e.removeChild(o);if("function"==typeof r){var l=r;r=function(){var e=_i(s);l.call(e)}}var s=yi(e,0,!1,null,null,!1,!1,"",Ni);return e._reactRootContainer=s,e[Ks]=s.current,vt(8===e.nodeType?e.parentNode:e),jo(function(){xi(t,s,n,r)}),s}function Ii(e,t,n,r,o){
var i=n._reactRootContainer;if(i){var a=i;if("function"==typeof o){var l=o;o=function(){var e=_i(a);l.call(e)}}xi(t,a,e,o)}else a=Mi(n,t,e,o,r);return _i(a)}var Bi=n(1),Pi=n(236),Ai=new Set,Ri={},Fi=!("undefined"==typeof window||"undefined"==typeof window.document||"undefined"==typeof window.document.createElement),Li=Object.prototype.hasOwnProperty,ji=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zi={},Ki={},Ui={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ui[e]=new u(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ui[t]=new u(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ui[e]=new u(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ui[e]=new u(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ui[e]=new u(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){Ui[e]=new u(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){Ui[e]=new u(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){Ui[e]=new u(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){Ui[e]=new u(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vi=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Vi,c);Ui[t]=new u(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Vi,c);Ui[t]=new u(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Vi,c);Ui[t]=new u(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){Ui[e]=new u(e,1,!1,e.toLowerCase(),null,!1,!1)}),Ui.xlinkHref=new u("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){Ui[e]=new u(e,1,!1,e.toLowerCase(),null,!0,!0)});var Hi=Bi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wi=Symbol.for("react.element"),qi=Symbol.for("react.portal"),Yi=Symbol.for("react.fragment"),Xi=Symbol.for("react.strict_mode"),$i=Symbol.for("react.profiler"),Ji=Symbol.for("react.provider"),Gi=Symbol.for("react.context"),Qi=Symbol.for("react.forward_ref"),Zi=Symbol.for("react.suspense"),ea=Symbol.for("react.suspense_list"),ta=Symbol.for("react.memo"),na=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var ra=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var oa,ia,aa=Symbol.iterator,la=Object.assign,sa=!1,ua=Array.isArray,ca=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for(ia=ia||document.createElement("div"),ia.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ia.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}),fa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},da=["Webkit","ms","Moz","O"];Object.keys(fa).forEach(function(e){da.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fa[t]=fa[e]})});var pa=la({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),ha=null,ga=null,va=null,ya=null,ma=!1,ba=!1;if(Fi)try{var wa={};Object.defineProperty(wa,"passive",{get:function(){ba=!0}}),window.addEventListener("test",wa,wa),window.removeEventListener("test",wa,wa)}catch(e){ba=!1}var xa,_a,Sa,ka,Ea,Ca,Oa,Da,Ta=!1,Na=null,Ma=!1,Ia=null,Ba={onError:function(e){Ta=!0,Na=e}},Pa=Pi.unstable_scheduleCallback,Aa=Pi.unstable_cancelCallback,Ra=Pi.unstable_shouldYield,Fa=Pi.unstable_requestPaint,La=Pi.unstable_now,ja=Pi.unstable_getCurrentPriorityLevel,za=Pi.unstable_ImmediatePriority,Ka=Pi.unstable_UserBlockingPriority,Ua=Pi.unstable_NormalPriority,Va=Pi.unstable_LowPriority,Ha=Pi.unstable_IdlePriority,Wa=null,qa=null,Ya=Math.clz32?Math.clz32:ae,Xa=Math.log,$a=Math.LN2,Ja=64,Ga=4194304,Qa=0,Za=!1,el=[],tl=null,nl=null,rl=null,ol=new Map,il=new Map,al=[],ll="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "),sl=Hi.ReactCurrentBatchConfig,ul=!0,cl=null,fl=null,dl=null,pl=null,hl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gl=Re(hl),vl=la({},hl,{view:0,detail:0}),yl=Re(vl),ml=la({},vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Le,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Da&&(Da&&"mousemove"===e.type?(Ca=e.screenX-Da.screenX,Oa=e.screenY-Da.screenY):Oa=Ca=0,Da=e),Ca)},movementY:function(e){return"movementY"in e?e.movementY:Oa}}),bl=Re(ml),wl=la({},ml,{dataTransfer:0}),xl=Re(wl),_l=la({},vl,{relatedTarget:0}),Sl=Re(_l),kl=la({},hl,{animationName:0,elapsedTime:0,pseudoElement:0}),El=Re(kl),Cl=la({},hl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ol=Re(Cl),Dl=la({},hl,{data:0}),Tl=Re(Dl),Nl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ml={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Il={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},Bl=la({},vl,{key:function(e){if(e.key){var t=Nl[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=Be(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?Ml[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Le,charCode:function(e){return"keypress"===e.type?Be(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Be(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pl=Re(Bl),Al=la({},ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rl=Re(Al),Fl=la({},vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Le}),Ll=Re(Fl),jl=la({},hl,{propertyName:0,elapsedTime:0,pseudoElement:0}),zl=Re(jl),Kl=la({},ml,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ul=Re(Kl),Vl=[9,13,27,32],Hl=Fi&&"CompositionEvent"in window,Wl=null;Fi&&"documentMode"in document&&(Wl=document.documentMode);var ql=Fi&&"TextEvent"in window&&!Wl,Yl=Fi&&(!Hl||Wl&&8<Wl&&11>=Wl),Xl=String.fromCharCode(32),$l=!1,Jl=!1,Gl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Ql=null,Zl=null,es=!1;if(Fi){var ts;if(Fi){var ns="oninput"in document;if(!ns){var rs=document.createElement("div");rs.setAttribute("oninput","return;"),ns="function"==typeof rs.oninput}ts=ns}else ts=!1;es=ts&&(!document.documentMode||9<document.documentMode)}var os="function"==typeof Object.is?Object.is:et,is=Fi&&"documentMode"in document&&11>=document.documentMode,as=null,ls=null,ss=null,us=!1,cs={animationend:ut("Animation","AnimationEnd"),animationiteration:ut("Animation","AnimationIteration"),animationstart:ut("Animation","AnimationStart"),transitionend:ut("Transition","TransitionEnd")},fs={},ds={};Fi&&(ds=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);for(var ps=ct("animationend"),hs=ct("animationiteration"),gs=ct("animationstart"),vs=ct("transitionend"),ys=new Map,ms="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" "),bs=0;bs<ms.length;bs++){var ws=ms[bs],xs=ws.toLowerCase(),_s=ws[0].toUpperCase()+ws.slice(1);ft(xs,"on"+_s)}ft(ps,"onAnimationEnd"),ft(hs,"onAnimationIteration"),ft(gs,"onAnimationStart"),ft("dblclick","onDoubleClick"),ft("focusin","onFocus"),ft("focusout","onBlur"),ft(vs,"onTransitionEnd"),i("onMouseEnter",["mouseout","mouseover"]),i("onMouseLeave",["mouseout","mouseover"]),i("onPointerEnter",["pointerout","pointerover"]),i("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ss,ks,Es,Cs,Os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ds=new Set("cancel close invalid load scroll toggle".split(" ").concat(Os)),Ts="_reactListening"+Math.random().toString(36).slice(2),Ns=/\r\n?/g,Ms=/\u0000|\uFFFD/g,Is=null,Bs=null,Ps="function"==typeof setTimeout?setTimeout:void 0,As="function"==typeof clearTimeout?clearTimeout:void 0,Rs="function"==typeof Promise?Promise:void 0,Fs="function"==typeof queueMicrotask?queueMicrotask:"undefined"!=typeof Rs?function(e){return Rs.resolve(null).then(e).catch(Ot)}:Ps,Ls=Math.random().toString(36).slice(2),js="__reactFiber$"+Ls,zs="__reactProps$"+Ls,Ks="__reactContainer$"+Ls,Us="__reactEvents$"+Ls,Vs="__reactListeners$"+Ls,Hs="__reactHandles$"+Ls,Ws=[],qs=-1,Ys={},Xs=At(Ys),$s=At(!1),Js=Ys,Gs=null,Qs=!1,Zs=!1,eu=[],tu=0,nu=null,ru=0,ou=[],iu=0,au=null,lu=1,su="",uu=null,cu=null,fu=!1,du=null,pu=Hi.ReactCurrentBatchConfig,hu=At(null),gu=null,vu=null,yu=null,mu=null,bu=!1,wu=(new Bi.Component).refs,xu={isMounted:function(e){return!!(e=e._reactInternals)&&Z(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Do(),o=To(e),i=bn(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),t=wn(e,i,o),null!==t&&(No(t,e,o,r),xn(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Do(),o=To(e),i=bn(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),t=wn(e,i,o),null!==t&&(No(t,e,o,r),xn(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Do(),r=To(e),o=bn(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),t=wn(e,o,r),null!==t&&(No(t,e,r,n),xn(t,e,r))}},_u=Bn(!0),Su=Bn(!1),ku={},Eu=At(ku),Cu=At(ku),Ou=At(ku),Du=At(0),Tu=[],Nu=Hi.ReactCurrentDispatcher,Mu=Hi.ReactCurrentBatchConfig,Iu=0,Bu=null,Pu=null,Au=null,Ru=!1,Fu=!1,Lu=0,ju=0,zu={readContext:pn,useCallback:Kn,useContext:Kn,useEffect:Kn,useImperativeHandle:Kn,useInsertionEffect:Kn,useLayoutEffect:Kn,useMemo:Kn,useReducer:Kn,useRef:Kn,useState:Kn,useDebugValue:Kn,useDeferredValue:Kn,useTransition:Kn,useMutableSource:Kn,useSyncExternalStore:Kn,useId:Kn,unstable_isNewReconciler:!1},Ku={readContext:pn,useCallback:function(e,t){return Wn().memoizedState=[e,void 0===t?null:t],e},useContext:pn,useEffect:sr,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ar(4194308,4,dr.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ar(4194308,4,e,t)},useInsertionEffect:function(e,t){return ar(4,2,e,t)},useMemo:function(e,t){var n=Wn();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Wn();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=wr.bind(null,Bu,e),[r.memoizedState,e]},useRef:function(e){var t=Wn();return e={current:e},t.memoizedState=e},useState:rr,useDebugValue:hr,useDeferredValue:function(e){return Wn().memoizedState=e},useTransition:function(){var e=rr(!1),t=e[0];return e=mr.bind(null,e[1]),Wn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=Bu,i=Wn();if(fu){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===lc)throw Error(r(349));0!==(30&Iu)||Qn(o,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,sr(er.bind(null,o,a,e),[e]),o.flags|=2048,or(9,Zn.bind(null,o,a,n,t),void 0,null),n},useId:function(){var e=Wn(),t=lc.identifierPrefix;if(fu){var n=su,r=lu;n=(r&~(1<<32-Ya(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Lu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ju++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Uu={readContext:pn,useCallback:gr,useContext:pn,useEffect:ur,useImperativeHandle:pr,useInsertionEffect:cr,useLayoutEffect:fr,useMemo:vr,useReducer:Xn,useRef:ir,useState:function(){return Xn(Yn)},useDebugValue:hr,useDeferredValue:function(e){var t=qn();return yr(t,Pu.memoizedState,e)},useTransition:function(){var e=Xn(Yn)[0],t=qn().memoizedState;return[e,t]},useMutableSource:Jn,useSyncExternalStore:Gn,useId:br,unstable_isNewReconciler:!1},Vu={readContext:pn,useCallback:gr,useContext:pn,useEffect:ur,useImperativeHandle:pr,useInsertionEffect:cr,useLayoutEffect:fr,useMemo:vr,useReducer:$n,useRef:ir,useState:function(){return $n(Yn)},useDebugValue:hr,useDeferredValue:function(e){var t=qn();return null===Pu?t.memoizedState=e:yr(t,Pu.memoizedState,e)},useTransition:function(){var e=$n(Yn)[0],t=qn().memoizedState;return[e,t]},useMutableSource:Jn,useSyncExternalStore:Gn,useId:br,unstable_isNewReconciler:!1},Hu="function"==typeof WeakMap?WeakMap:Map,Wu=Hi.ReactCurrentOwner,qu=!1,Yu={dehydrated:null,treeContext:null,retryLane:0};Ss=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ks=function(){},Es=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Pn(Eu.current);var i=null;switch(n){case"input":o=k(e,o),r=k(e,r),i=[];break;case"select":o=la({},o,{value:void 0}),r=la({},r,{value:void 0}),i=[];break;case"textarea":o=M(e,o),r=M(e,r),i=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Et)}z(n,r);var a;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(Ri.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var s=r[u];if(l=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&s!==l&&(null!=s||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||s&&s.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in s)s.hasOwnProperty(a)&&l[a]!==s[a]&&(n||(n={}),n[a]=s[a])}else n||(i||(i=[]),i.push(u,n)),n=s;else"dangerouslySetInnerHTML"===u?(s=s?s.__html:void 0,l=l?l.__html:void 0,null!=s&&l!==s&&(i=i||[]).push(u,s)):"children"===u?"string"!=typeof s&&"number"!=typeof s||(i=i||[]).push(u,""+s):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(Ri.hasOwnProperty(u)?(null!=s&&"onScroll"===u&&ht("scroll",e),i||l===s||(i=[])):(i=i||[]).push(u,s))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},Cs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xu,$u=!1,Ju=!1,Gu="function"==typeof WeakSet?WeakSet:Set,Qu=null,Zu=!1,ec=null,tc=!1,nc=Math.ceil,rc=Hi.ReactCurrentDispatcher,oc=Hi.ReactCurrentOwner,ic=Hi.ReactCurrentBatchConfig,ac=0,lc=null,sc=null,uc=0,cc=0,fc=At(0),dc=0,pc=null,hc=0,gc=0,vc=0,yc=null,mc=null,bc=0,wc=1/0,xc=null,_c=!1,Sc=null,kc=null,Ec=!1,Cc=null,Oc=0,Dc=0,Tc=null,Nc=-1,Mc=0;Xu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||$s.current)qu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return qu=!1,eo(e,t,n);qu=0!==(131072&e.flags)}else qu=!1,fu&&0!==(1048576&t.flags)&&$t(t,ru,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Qr(e,t),e=t.pendingProps;var i=Lt(t,Xs.current);dn(t,n),i=Vn(null,t,o,e,i,n);var a=Hn();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,jt(o)?(a=!0,Vt(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,yn(t),i.updater=xu,t.stateNode=i,i._reactInternals=t,Tn(t,o,e,n),t=Kr(null,t,o,!0,a,n)):(t.tag=0,fu&&a&&Jt(t),Br(null,t,i,n),t=t.child),t;case 16:o=t.elementType;e:{switch(Qr(e,t),e=t.pendingProps,i=o._init,o=i(o._payload),t.type=o,i=t.tag=ui(o),e=sn(o,e),i){case 0:t=jr(null,t,o,e,n);break e;case 1:t=zr(null,t,o,e,n);break e;case 11:t=Pr(null,t,o,e,n);break e;case 14:t=Ar(null,t,o,sn(o.type,e),n);break e}throw Error(r(306,o,""))}return t;case 0:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:sn(o,i),jr(e,t,o,i,n);case 1:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:sn(o,i),zr(e,t,o,i,n);case 3:e:{if(Ur(t),null===e)throw Error(r(387));o=t.pendingProps,a=t.memoizedState,i=a.element,mn(e,t),Sn(t,o,null,n);var l=t.memoizedState;if(o=l.element,a.isDehydrated){if(a={element:o,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){i=Er(Error(r(423)),t),t=Vr(e,t,o,n,i);break e}if(o!==i){i=Er(Error(r(424)),t),t=Vr(e,t,o,n,i);break e}for(cu=Tt(t.stateNode.containerInfo.firstChild),uu=t,fu=!0,du=null,n=Su(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(an(),o===i){t=Zr(e,t,n);break e}Br(e,t,o,n)}t=t.child}return t;case 5:return Fn(t),null===e&&tn(t),o=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,l=i.children,Ct(o,i)?l=null:null!==a&&Ct(o,a)&&(t.flags|=32),Lr(e,t),Br(e,t,l,n),t.child;case 6:return null===e&&tn(t),null;case 13:return Wr(e,t,n);case 4:return An(t,t.stateNode.containerInfo),o=t.pendingProps,null===e?t.child=_u(t,null,o,n):Br(e,t,o,n),t.child;case 11:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:sn(o,i),Pr(e,t,o,i,n);case 7:return Br(e,t,t.pendingProps,n),t.child;case 8:return Br(e,t,t.pendingProps.children,n),t.child;case 12:return Br(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,i=t.pendingProps,a=t.memoizedProps,l=i.value,Ft(hu,o._currentValue),o._currentValue=l,null!==a)if(os(a.value,l)){if(a.children===i.children&&!$s.current){t=Zr(e,t,n);break e}}else for(a=t.child,null!==a&&(a.return=t);null!==a;){var s=a.dependencies;if(null!==s){l=a.child;for(var u=s.firstContext;null!==u;){if(u.context===o){if(1===a.tag){u=bn(-1,n&-n),u.tag=2;var c=a.updateQueue;if(null!==c){c=c.shared;var f=c.pending;null===f?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}a.lanes|=n,u=a.alternate,null!==u&&(u.lanes|=n),fn(a.return,n,t),s.lanes|=n;break}u=u.next}}else if(10===a.tag)l=a.type===t.type?null:a.child;else if(18===a.tag){if(l=a.return,null===l)throw Error(r(341));l.lanes|=n,s=l.alternate,null!==s&&(s.lanes|=n),fn(l,n,t),l=a.sibling}else l=a.child;if(null!==l)l.return=a;else for(l=a;null!==l;){if(l===t){l=null;break}if(a=l.sibling,null!==a){a.return=l.return,l=a;break}l=l.return}a=l}Br(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps.children,dn(t,n),i=pn(i),o=o(i),t.flags|=1,Br(e,t,o,n),t.child;case 14:return o=t.type,i=sn(o,t.pendingProps),i=sn(o.type,i),Ar(e,t,o,i,n);case 15:return Rr(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:sn(o,i),Qr(e,t),t.tag=1,jt(o)?(e=!0,Vt(t)):e=!1,dn(t,n),On(t,o,i),Tn(t,o,i,n),Kr(null,t,o,!0,e,n);case 19:return Gr(e,t,n);case 22:return Fr(e,t,n)}throw Error(r(156,t.tag))};var Ic="function"==typeof reportError?reportError:function(e){console.error(e)};Oi.prototype.render=Ci.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));xi(e,t,null,null)},Oi.prototype.unmount=Ci.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;jo(function(){xi(null,e,null,null)}),t[Ks]=null}},Oi.prototype.unstable_scheduleHydration=function(e){if(e){var t=ka();e={blockedOn:null,target:e,priority:t};for(var n=0;n<al.length&&0!==t&&t<al[n].priority;n++);al.splice(n,0,e),0===n&&xe(e)}},xa=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=le(t.pendingLanes);0!==n&&(ve(t,1|n),Mo(t,La()),0===(6&ac)&&(wc=La()+500,Yt()))}break;case 13:jo(function(){var t=vn(e,1);if(null!==t){var n=Do();No(t,e,1,n)}}),ki(e,1)}},_a=function(e){if(13===e.tag){var t=vn(e,134217728);if(null!==t){var n=Do();No(t,e,134217728,n)}ki(e,134217728)}},Sa=function(e){if(13===e.tag){var t=To(e),n=vn(e,t);if(null!==n){var r=Do();No(n,e,t,r)}ki(e,t)}},ka=function(){return Qa},Ea=function(e,t){var n=Qa;try{return Qa=e,t()}finally{Qa=n}},ga=function(e,t,n){switch(t){case"input":if(O(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var i=Pt(o);if(!i)throw Error(r(90));_(o),O(o,i)}}}break;case"textarea":B(e,n);break;case"select":t=n.value,null!=t&&N(e,!!n.multiple,t,!1)}},q=Lo,Y=jo;var Bc={usingClientEntryPoint:!1,Events:[It,Bt,Pt,H,W,Lo]},Pc={findFiberByHostInstance:Mt,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Ac={bundleType:Pc.bundleType,version:Pc.version,rendererPackageName:Pc.rendererPackageName,rendererConfig:Pc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=re(e),null===e?null:e.stateNode},findFiberByHostInstance:Pc.findFiberByHostInstance||Ei,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{Wa=Rc.inject(Ac),qa=Rc}catch(e){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Di(t))throw Error(r(200));return mi(e,t,null,n)},t.createRoot=function(e,t){if(!Di(e))throw Error(r(299));var n=!1,o="",i=Ic;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(o=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=yi(e,1,!1,null,null,n,!1,o,i),e[Ks]=t.current,vt(8===e.nodeType?e.parentNode:e),new Ci(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=re(t),e=null===e?null:e.stateNode},t.flushSync=function(e){return jo(e)},t.hydrate=function(e,t,n){if(!Ti(t))throw Error(r(200));return Ii(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Di(e))throw Error(r(405));var o=null!=n&&n.hydratedSources||null,i=!1,a="",l=Ic;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),t=wi(t,null,e,1,null!=n?n:null,i,!1,a,l),e[Ks]=t.current,vt(e),o)for(e=0;e<o.length;e++)n=o[e],i=n._getVersion,i=i(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Oi(t)},t.render=function(e,t,n){if(!Ti(t))throw Error(r(200));return Ii(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ti(e))throw Error(r(40));return!!e._reactRootContainer&&(jo(function(){Ii(null,null,e,!1,function(){e._reactRootContainer=null,e[Ks]=null})}),!0)},t.unstable_batchedUpdates=Lo,t.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!Ti(n))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return Ii(e,t,n,!1,o)},t.version="18.2.0-next-9e3b772b8-20220608"},function(e,t,n){"use strict";var r=n(49);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},function(e,t,n){e.exports=n(232)},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t){e.prototype=Object.create(t.prototype),o(e.prototype.constructor=e,t)}function l(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],0<=t.indexOf(n)||(o[n]=e[n]);return o}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t,n){if("selectionStart"in e&&"selectionEnd"in e)e.selectionStart=t,e.selectionEnd=n;else{var r=e.createTextRange();r.collapse(!0),r.moveStart("character",t),r.moveEnd("character",n-t),r.select()}}function c(e){var t=0,n=0;if("selectionStart"in e&&"selectionEnd"in e)t=e.selectionStart,n=e.selectionEnd;else{var r=document.selection.createRange();r.parentElement()===e&&(t=-r.moveStart("character",-e.value.length),n=-r.moveEnd("character",-e.value.length))}return{start:t,end:n,length:n-t}}function f(e,t,n){var r="",o="",i=null,a=[];if(void 0===t&&(t=R),null==n&&(n=A),!e||"string"!=typeof e)return{maskChar:t,formatChars:n,mask:null,prefix:null,lastEditablePosition:null,permanents:[]};var l=!1;return e.split("").forEach(function(e){l=!l&&"\\"===e||(l||!n[e]?(a.push(r.length),r.length===a.length-1&&(o+=e)):i=r.length+1,r+=e,!1)}),{maskChar:t,formatChars:n,prefix:o,mask:r,lastEditablePosition:i,permanents:a}}function d(e,t){return-1!==e.permanents.indexOf(t)}function p(e,t,n){var r=e.mask,o=e.formatChars;if(!n)return!1;if(d(e,t))return r[t]===n;var i=o[r[t]];return new RegExp(i).test(n)}function h(e,t){return t.split("").every(function(t,n){return d(e,n)||!p(e,n,t)})}function g(e,t){var n=e.maskChar,r=e.prefix;if(!n){for(;t.length>r.length&&d(e,t.length-1);)t=t.slice(0,t.length-1);return t.length}for(var o=r.length,i=t.length;i>=r.length;i--){var a=t[i];if(!d(e,i)&&p(e,i,a)){o=i+1;break}}return o}function v(e,t){return g(e,t)===e.mask.length}function y(e,t){var n=e.maskChar,r=e.mask,o=e.prefix;if(!n){for((t=b(e,"",t,0)).length<o.length&&(t=o);t.length<r.length&&d(e,t.length);)t+=r[t.length];return t}if(t)return b(e,y(e,""),t,0);for(var i=0;i<r.length;i++)t+=d(e,i)?r[i]:n;return t}function m(e,t,n,r){var o=n+r,i=e.maskChar,a=e.mask,l=e.prefix,s=t.split("");if(i)return s.map(function(t,r){return r<n||o<=r?t:d(e,r)?a[r]:i}).join("");for(var u=o;u<s.length;u++)d(e,u)&&(s[u]="");return n=Math.max(l.length,n),s.splice(n,o-n),t=s.join(""),y(e,t)}function b(e,t,n,r){var o=e.mask,i=e.maskChar,a=e.prefix,l=n.split(""),s=v(e,t);return!i&&r>t.length&&(t+=o.slice(t.length,r)),l.every(function(n){for(;f=n,d(e,c=r)&&f!==o[c];){if(r>=t.length&&(t+=o[r]),l=n,u=r,i&&d(e,u)&&l===i)return!0;if(++r>=o.length)return!1}var l,u,c,f;return!p(e,r,n)&&n!==i||(r<t.length?t=i||s||r<a.length?t.slice(0,r)+n+t.slice(r+1):(t=t.slice(0,r)+n+t.slice(r),y(e,t)):i||(t+=n),++r<o.length)}),t}function w(e,t,n,r){var o=e.mask,i=e.maskChar,a=n.split(""),l=r;return a.every(function(t){for(;a=t,d(e,n=r)&&a!==o[n];)if(++r>=o.length)return!1;var n,a;return(p(e,r,t)||t===i)&&r++,r<o.length}),r-l}function x(e,t){for(var n=t;0<=n;--n)if(!d(e,n))return n;
return null}function _(e,t){for(var n=e.mask,r=t;r<n.length;++r)if(!d(e,r))return r;return null}function S(e){return e||0===e?e+"":""}function k(e,t,n,r,o){var i=e.mask,a=e.prefix,l=e.lastEditablePosition,s=t,u="",c=0,f=0,d=Math.min(o.start,n.start);return n.end>o.start?f=(c=w(e,r,u=s.slice(o.start,n.end),d))?o.length:0:s.length<r.length&&(f=r.length-s.length),s=r,f&&(1!==f||o.length||(d=o.start===n.start?_(e,n.start):x(e,n.start)),s=m(e,s,d,f)),s=b(e,s,u,d),(d+=c)>=i.length?d=i.length:d<a.length&&!c?d=a.length:d>=a.length&&d<l&&c&&(d=_(e,d)),u||(u=null),{value:s=y(e,s),enteredString:u,selection:{start:d,end:d}}}function E(){var e=new RegExp("windows","i"),t=new RegExp("phone","i"),n=navigator.userAgent;return e.test(n)&&t.test(n)}function C(e){return"function"==typeof e}function O(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame}function D(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame}function T(e){return(D()?O():function(){return setTimeout(e,1e3/60)})(e)}function N(e){(D()||clearTimeout)(e)}var M=r(n(1)),I=n(49),B=function(e,t,n,r,o,i,a,l){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,a,l],c=0;(s=new Error(t.replace(/%s/g,function(){return u[c++]}))).name="Invariant Violation"}throw s.framesToPop=1,s}},P=B,A={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},R="_",F=function(e){function t(t){var n=e.call(this,t)||this;n.focused=!1,n.mounted=!1,n.previousSelection=null,n.selectionDeferId=null,n.saveSelectionLoopDeferId=null,n.saveSelectionLoop=function(){n.previousSelection=n.getSelection(),n.saveSelectionLoopDeferId=T(n.saveSelectionLoop)},n.runSaveSelectionLoop=function(){null===n.saveSelectionLoopDeferId&&n.saveSelectionLoop()},n.stopSaveSelectionLoop=function(){null!==n.saveSelectionLoopDeferId&&(N(n.saveSelectionLoopDeferId),n.saveSelectionLoopDeferId=null,n.previousSelection=null)},n.getInputDOMNode=function(){if(!n.mounted)return null;var e=I.findDOMNode(s(s(n))),t="undefined"!=typeof window&&e instanceof window.Element;if(e&&!t)return null;if("INPUT"!==e.nodeName&&(e=e.querySelector("input")),!e)throw new Error("react-input-mask: inputComponent doesn't contain input node");return e},n.getInputValue=function(){var e=n.getInputDOMNode();return e?e.value:null},n.setInputValue=function(e){var t=n.getInputDOMNode();t&&(n.value=e,t.value=e)},n.setCursorToEnd=function(){var e=g(n.maskOptions,n.value),t=_(n.maskOptions,e);null!==t&&n.setCursorPosition(t)},n.setSelection=function(e,t,r){void 0===r&&(r={});var o=n.getInputDOMNode(),i=n.isFocused();o&&i&&(r.deferred||u(o,e,t),null!==n.selectionDeferId&&N(n.selectionDeferId),n.selectionDeferId=T(function(){n.selectionDeferId=null,u(o,e,t)}),n.previousSelection={start:e,end:t,length:Math.abs(t-e)})},n.getSelection=function(){return c(n.getInputDOMNode())},n.getCursorPosition=function(){return n.getSelection().start},n.setCursorPosition=function(e){n.setSelection(e,e)},n.isFocused=function(){return n.focused},n.getBeforeMaskedValueChangeConfig=function(){var e=n.maskOptions,t=e.mask,r=e.maskChar,o=e.permanents,i=e.formatChars;return{mask:t,maskChar:r,permanents:o,alwaysShowMask:!!n.props.alwaysShowMask,formatChars:i}},n.isInputAutofilled=function(e,t,r,o){var i=n.getInputDOMNode();try{if(i.matches(":-webkit-autofill"))return!0}catch(e){}return!n.focused||o.end<r.length&&t.end===e.length},n.onChange=function(e){var t=s(s(n)).beforePasteState,r=s(s(n)).previousSelection,o=n.props.beforeMaskedValueChange,i=n.getInputValue(),a=n.value,l=n.getSelection();n.isInputAutofilled(i,l,a,r)&&(a=y(n.maskOptions,""),r={start:0,end:0,length:0}),t&&(r=t.selection,a=t.value,l={start:r.start+i.length,end:r.start+i.length,length:0},i=a.slice(0,r.start)+i+a.slice(r.end),n.beforePasteState=null);var u=k(n.maskOptions,i,l,a,r),c=u.enteredString,f=u.selection,d=u.value;if(C(o)){var p=o({value:d,selection:f},{value:a,selection:r},c,n.getBeforeMaskedValueChangeConfig());d=p.value,f=p.selection}n.setInputValue(d),C(n.props.onChange)&&n.props.onChange(e),n.isWindowsPhoneBrowser?n.setSelection(f.start,f.end,{deferred:!0}):n.setSelection(f.start,f.end)},n.onFocus=function(e){var t=n.props.beforeMaskedValueChange,r=n.maskOptions,o=r.mask,i=r.prefix;if(n.focused=!0,n.mounted=!0,o){if(n.value)g(n.maskOptions,n.value)<n.maskOptions.mask.length&&n.setCursorToEnd();else{var a=y(n.maskOptions,i),l=y(n.maskOptions,a),s=g(n.maskOptions,l),u=_(n.maskOptions,s),c={start:u,end:u};if(C(t)){var f=t({value:l,selection:c},{value:n.value,selection:null},null,n.getBeforeMaskedValueChangeConfig());l=f.value,c=f.selection}var d=l!==n.getInputValue();d&&n.setInputValue(l),d&&C(n.props.onChange)&&n.props.onChange(e),n.setSelection(c.start,c.end)}n.runSaveSelectionLoop()}C(n.props.onFocus)&&n.props.onFocus(e)},n.onBlur=function(e){var t=n.props.beforeMaskedValueChange,r=n.maskOptions.mask;if(n.stopSaveSelectionLoop(),n.focused=!1,r&&!n.props.alwaysShowMask&&h(n.maskOptions,n.value)){var o="";C(t)&&(o=t({value:o,selection:null},{value:n.value,selection:n.previousSelection},null,n.getBeforeMaskedValueChangeConfig()).value);var i=o!==n.getInputValue();i&&n.setInputValue(o),i&&C(n.props.onChange)&&n.props.onChange(e)}C(n.props.onBlur)&&n.props.onBlur(e)},n.onMouseDown=function(e){if(!n.focused&&document.addEventListener){n.mouseDownX=e.clientX,n.mouseDownY=e.clientY,n.mouseDownTime=(new Date).getTime();var t=function e(t){if(document.removeEventListener("mouseup",e),n.focused){var r=Math.abs(t.clientX-n.mouseDownX),o=Math.abs(t.clientY-n.mouseDownY),i=Math.max(r,o),a=(new Date).getTime()-n.mouseDownTime;(i<=10&&a<=200||i<=5&&a<=300)&&n.setCursorToEnd()}};document.addEventListener("mouseup",t)}C(n.props.onMouseDown)&&n.props.onMouseDown(e)},n.onPaste=function(e){C(n.props.onPaste)&&n.props.onPaste(e),e.defaultPrevented||(n.beforePasteState={value:n.getInputValue(),selection:n.getSelection()},n.setInputValue(""))},n.handleRef=function(e){null==n.props.children&&C(n.props.inputRef)&&n.props.inputRef(e)};var r=t.mask,o=t.maskChar,i=t.formatChars,a=t.alwaysShowMask,l=t.beforeMaskedValueChange,d=t.defaultValue,p=t.value;n.maskOptions=f(r,o,i),null==d&&(d=""),null==p&&(p=d);var v=S(p);if(n.maskOptions.mask&&(a||v)&&(v=y(n.maskOptions,v),C(l))){var m=t.value;null==t.value&&(m=d),v=l({value:v,selection:null},{value:m=S(m),selection:null},null,n.getBeforeMaskedValueChangeConfig()).value}return n.value=v,n}a(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.getInputDOMNode()&&(this.isWindowsPhoneBrowser=E(),this.maskOptions.mask&&this.getInputValue()!==this.value&&this.setInputValue(this.value))},n.componentDidUpdate=function(){var e=this.previousSelection,t=this.props,n=t.beforeMaskedValueChange,r=t.alwaysShowMask,o=t.mask,i=t.maskChar,a=t.formatChars,l=this.maskOptions,s=r||this.isFocused(),u=null!=this.props.value,c=u?S(this.props.value):this.value,d=e?e.start:null;if(this.maskOptions=f(o,i,a),this.maskOptions.mask){!l.mask&&this.isFocused()&&this.runSaveSelectionLoop();var p=this.maskOptions.mask&&this.maskOptions.mask!==l.mask;if(l.mask||u||(c=this.getInputValue()),(p||this.maskOptions.mask&&(c||s))&&(c=y(this.maskOptions,c)),p){var m=g(this.maskOptions,c);(null===d||m<d)&&(d=v(this.maskOptions,c)?m:_(this.maskOptions,m))}!this.maskOptions.mask||!h(this.maskOptions,c)||s||u&&this.props.value||(c="");var b={start:d,end:d};if(C(n)){var w=n({value:c,selection:b},{value:this.value,selection:this.previousSelection},null,this.getBeforeMaskedValueChangeConfig());c=w.value,b=w.selection}this.value=c;var x=this.getInputValue()!==this.value;x?(this.setInputValue(this.value),this.forceUpdate()):p&&this.forceUpdate();var k=!1;null!=b.start&&null!=b.end&&(k=!e||e.start!==b.start||e.end!==b.end),(k||x)&&this.setSelection(b.start,b.end)}else l.mask&&(this.stopSaveSelectionLoop(),this.forceUpdate())},n.componentWillUnmount=function(){this.mounted=!1,null!==this.selectionDeferId&&N(this.selectionDeferId),this.stopSaveSelectionLoop()},n.render=function(){var e,t=this.props,n=(t.mask,t.alwaysShowMask,t.maskChar,t.formatChars,t.inputRef,t.beforeMaskedValueChange,t.children),r=l(t,["mask","alwaysShowMask","maskChar","formatChars","inputRef","beforeMaskedValueChange","children"]);if(n){C(n)||P(!1);var o=["onChange","onPaste","onMouseDown","onFocus","onBlur","value","disabled","readOnly"],a=i({},r);o.forEach(function(e){return delete a[e]}),e=n(a),o.filter(function(t){return null!=e.props[t]&&e.props[t]!==r[t]}).length&&P(!1)}else e=M.createElement("input",i({ref:this.handleRef},r));var s={onFocus:this.onFocus,onBlur:this.onBlur};return this.maskOptions.mask&&(r.disabled||r.readOnly||(s.onChange=this.onChange,s.onPaste=this.onPaste,s.onMouseDown=this.onMouseDown),null!=r.value&&(s.value=this.value)),e=M.cloneElement(e,s)},t}(M.Component);e.exports=F},function(e,t,n){"use strict";"undefined"==typeof Promise&&(n(227).enable(),window.Promise=n(226)),n(239),Object.assign=n(15)},function(e,t){"use strict";function n(e){return null===e||"object"!=typeof e?null:(e=E&&e[E]||e["@@iterator"],"function"==typeof e?e:null)}function r(e,t,n){this.props=e,this.context=t,this.refs=D,this.updater=n||C}function o(){}function i(e,t,n){this.props=e,this.context=t,this.refs=D,this.updater=n||C}function a(e,t,n){var r,o={},i=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(i=""+t.key),t)M.call(t,r)&&!B.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var s=Array(l),u=0;u<l;u++)s[u]=arguments[u+2];o.children=s}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:h,type:e,key:i,ref:a,props:o,_owner:I.current}}function l(e,t){return{$$typeof:h,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function s(e){return"object"==typeof e&&null!==e&&e.$$typeof===h}function u(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}function c(e,t){return"object"==typeof e&&null!==e&&null!=e.key?u(""+e.key):t.toString(36)}function f(e,t,r,o,i){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var u=!1;if(null===e)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case h:case g:u=!0}}if(u)return u=e,i=i(u),e=""===o?"."+c(u,0):o,N(i)?(r="",null!=e&&(r=e.replace(P,"$&/")+"/"),f(i,t,r,"",function(e){return e})):null!=i&&(s(i)&&(i=l(i,r+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(P,"$&/")+"/")+e)),t.push(i)),1;if(u=0,o=""===o?".":o+":",N(e))for(var d=0;d<e.length;d++){a=e[d];var p=o+c(a,d);u+=f(a,t,r,p,i)}else if(p=n(e),"function"==typeof p)for(e=p.call(e),d=0;!(a=e.next()).done;)a=a.value,p=o+c(a,d++),u+=f(a,t,r,p,i);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function d(e,t,n){if(null==e)return e;var r=[],o=0;return f(e,r,"","",function(e){return t.call(n,e,o++)}),r}function p(e){if(-1===e._status){var t=e._result;t=t(),t.then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var h=Symbol.for("react.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),S=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),E=Symbol.iterator,C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,D={};r.prototype.isReactComponent={},r.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},o.prototype=r.prototype;var T=i.prototype=new o;T.constructor=i,O(T,r.prototype),T.isPureReactComponent=!0;var N=Array.isArray,M=Object.prototype.hasOwnProperty,I={current:null},B={key:!0,ref:!0,__self:!0,__source:!0},P=/\/+/g,A={current:null},R={transition:null},F={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:R,ReactCurrentOwner:I};t.Children={map:d,forEach:function(e,t,n){d(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return d(e,function(){t++}),t},toArray:function(e){return d(e,function(e){return e})||[]},only:function(e){if(!s(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=r,t.Fragment=v,t.Profiler=m,t.PureComponent=i,t.StrictMode=y,t.Suspense=_,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=O({},e.props),o=e.key,i=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,a=I.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(s in t)M.call(t,s)&&!B.hasOwnProperty(s)&&(r[s]=void 0===t[s]&&void 0!==l?l[s]:t[s])}var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){l=Array(s);for(var u=0;u<s;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:h,type:e.type,key:o,ref:i,props:r,_owner:a}},t.createContext=function(e){return e={$$typeof:w,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:b,_context:e},e.Consumer=e},t.createElement=a,t.createFactory=function(e){var t=a.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:x,render:e}},t.isValidElement=s,t.lazy=function(e){return{$$typeof:k,_payload:{_status:-1,_result:e},_init:p}},t.memo=function(e,t){return{$$typeof:S,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.2.0"},function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,o=e[r];if(!(void 0!==o&&0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return e=e[0],void 0===e?null:e}function o(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var a=2*(r+1)-1,l=e[a],s=a+1,u=e[s];if(void 0!==l&&0>i(l,n))void 0!==u&&0>i(u,l)?(e[r]=u,e[s]=n,r=s):(e[r]=l,e[a]=n,r=a);else{if(!(void 0!==u&&0>i(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}function a(e){for(var t=r(N);null!==t;){if(null===t.callback)o(N);else{if(!(t.startTime<=e))break;o(N),t.sortIndex=t.expirationTime,n(T,t)}t=r(N)}}function l(e){if(R=!1,a(e),!A)if(null!==r(T))A=!0,u(s);else{var t=r(N);null!==t&&c(l,t.startTime-e)}}function s(e,n){A=!1,R&&(R=!1,f()),P=!0;var i=B;try{for(a(n),I=r(T);null!==I&&(!(I.expirationTime>n)||e&&!t.unstable_shouldYield());){var s=I.callback;if("function"==typeof s){I.callback=null,B=I.priorityLevel;var u=s(I.expirationTime<=n);n=t.unstable_now(),"function"==typeof u?I.callback=u:I===r(T)&&o(T),a(n)}else o(T);I=r(T)}if(null!==I)var d=!0;else{var p=r(N);null!==p&&c(l,p.startTime-n),d=!1}return d}finally{I=null,B=i,P=!1}}var u,c,f,d;if("object"==typeof performance&&"function"==typeof performance.now){var p=performance;t.unstable_now=function(){return p.now()}}else{var h=Date,g=h.now();t.unstable_now=function(){return h.now()-g}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var v=null,y=null,m=function(){if(null!==v)try{var e=t.unstable_now();v(!0,e),v=null}catch(e){throw setTimeout(m,0),e}};u=function(e){null!==v?setTimeout(u,0,e):(v=e,setTimeout(m,0))},c=function(e,t){y=setTimeout(e,t)},f=function(){clearTimeout(y)},t.unstable_shouldYield=function(){return!1},d=t.unstable_forceFrameRate=function(){}}else{var b=window.setTimeout,w=window.clearTimeout;if("undefined"!=typeof console){var x=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof x&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var _=!1,S=null,k=-1,E=5,C=0;t.unstable_shouldYield=function(){return t.unstable_now()>=C},d=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5};var O=new MessageChannel,D=O.port2;O.port1.onmessage=function(){if(null!==S){var e=t.unstable_now();C=e+E;try{S(!0,e)?D.postMessage(null):(_=!1,S=null)}catch(e){throw D.postMessage(null),e}}else _=!1},u=function(e){S=e,_||(_=!0,D.postMessage(null))},c=function(e,n){k=b(function(){e(t.unstable_now())},n)},f=function(){w(k),k=-1}}var T=[],N=[],M=1,I=null,B=3,P=!1,A=!1,R=!1,F=d;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){A||P||(A=!0,u(s))},t.unstable_getCurrentPriorityLevel=function(){return B},t.unstable_getFirstCallbackNode=function(){return r(T)},t.unstable_next=function(e){switch(B){case 1:case 2:case 3:var t=3;break;default:t=B}var n=B;B=t;try{return e()}finally{B=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=B;B=e;try{return t()}finally{B=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"==typeof i&&null!==i?(i=i.delay,i="number"==typeof i&&0<i?a+i:a):i=a,e){case 1:var d=-1;break;case 2:d=250;break;case 5:d=1073741823;break;case 4:d=1e4;break;default:d=5e3}return d=i+d,e={id:M++,callback:o,priorityLevel:e,startTime:i,expirationTime:d,sortIndex:-1},i>a?(e.sortIndex=i,n(N,e),null===r(T)&&e===r(N)&&(R?f():R=!0,c(l,i-a))):(e.sortIndex=d,n(T,e),A||P||(A=!0,u(s))),e},t.unstable_wrapCallback=function(e){var t=B;return function(){var n=B;B=t;try{return e.apply(this,arguments)}finally{B=n}}}},function(e,t,n){"use strict";e.exports=n(235)},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return g[h]=r,p(h),h++}function o(e){delete g[e]}function i(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function a(e){if(v)setTimeout(a,0,e);else{var t=g[e];if(t){v=!0;try{i(t)}finally{o(e),v=!1}}}}function l(){p=function(e){t.nextTick(function(){a(e)})}}function s(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function u(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),p=function(n){e.postMessage(t+n,"*")}}function c(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;a(t)},p=function(t){e.port2.postMessage(t)}}function f(){var e=y.documentElement;p=function(t){var n=y.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}function d(){p=function(e){setTimeout(a,0,e)}}if(!e.setImmediate){var p,h=1,g={},v=!1,y=e.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(e);m=m&&m.setTimeout?m:e,"[object process]"==={}.toString.call(e.process)?l():s()?u():e.MessageChannel?c():y&&"onreadystatechange"in y.createElement("script")?f():d(),m.setImmediate=r,m.clearImmediate=o}}("undefined"==typeof self?"undefined"==typeof e?this:e:self)}).call(t,function(){return this}(),n(225))},function(e,t,n){var r;!function(o,i){"use strict";var a="0.7.28",l="",s="?",u="function",c="undefined",f="object",d="string",p="major",h="model",g="name",v="type",y="vendor",m="version",b="architecture",w="console",x="mobile",_="tablet",S="smarttv",k="wearable",E="embedded",C=255,O={extend:function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2===0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},has:function(e,t){return typeof e===d&&t.toLowerCase().indexOf(e.toLowerCase())!==-1},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===d?e.replace(/[^\d\.]/g,"").split(".")[0]:i},trim:function(e,t){return e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),typeof t===c?e:e.substring(0,C)}},D={rgx:function(e,t){for(var n,r,o,a,l,s,c=0;c<t.length&&!l;){var d=t[c],p=t[c+1];for(n=r=0;n<d.length&&!l;)if(l=d[n++].exec(e))for(o=0;o<p.length;o++)s=l[++r],a=p[o],typeof a===f&&a.length>0?2==a.length?typeof a[1]==u?this[a[0]]=a[1].call(this,s):this[a[0]]=a[1]:3==a.length?typeof a[1]!==u||a[1].exec&&a[1].test?this[a[0]]=s?s.replace(a[1],a[2]):i:this[a[0]]=s?a[1].call(this,s,a[2]):i:4==a.length&&(this[a[0]]=s?a[3].call(this,s.replace(a[1],a[2])):i):this[a]=s?s:i;c+=2}},str:function(e,t){for(var n in t)if(typeof t[n]===f&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(O.has(t[n][r],e))return n===s?i:n}else if(O.has(t[n],e))return n===s?i:n;return e}},T={browser:{oldSafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}},oldEdge:{version:{.1:"12.",21:"13.",31:"14.",39:"15.",41:"16.",42:"17.",44:"18."}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},N={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[g,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[g,"Edge"]],[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6})\b.+version\/([\w\.-]+)/i,/(opera)(?:.+version\/|[\/\s]+)([\w\.]+)/i],[g,m],[/opios[\/\s]+([\w\.]+)/i],[m,[g,"Opera Mini"]],[/\sopr\/([\w\.]+)/i],[m,[g,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(ba?idubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i,/(rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([\w\.]+)/i,/(weibo)__([\d\.]+)/i],[g,m],[/(?:[\s\/]uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[m,[g,"UCBrowser"]],[/(?:windowswechat)?\sqbcore\/([\w\.]+)\b.*(?:windowswechat)?/i],[m,[g,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[m,[g,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[g,"Konqueror"]],[/trident.+rv[:\s]([\w\.]{1,9})\b.+like\sgecko/i],[m,[g,"IE"]],[/yabrowser\/([\w\.]+)/i],[m,[g,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[g,/(.+)/,"$1 Secure Browser"],m],[/focus\/([\w\.]+)/i],[m,[g,"Firefox Focus"]],[/opt\/([\w\.]+)/i],[m,[g,"Opera Touch"]],[/coc_coc_browser\/([\w\.]+)/i],[m,[g,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[g,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[g,"Opera Coast"]],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[m,[g,"MIUI Browser"]],[/fxios\/([\w\.-]+)/i],[m,[g,"Firefox"]],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[g,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[g,/(.+)/,"$1 Browser"],m],[/(comodo_dragon)\/([\w\.]+)/i],[[g,/_/g," "],m],[/\s(electron)\/([\w\.]+)\ssafari/i,/(tesla)(?:\sqtcarbrowser|\/(20[12]\d\.[\w\.-]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/\s]?([\w\.]+)/i],[g,m],[/(MetaSr)[\/\s]?([\w\.]+)/i,/(LBBROWSER)/i],[g],[/;fbav\/([\w\.]+);/i],[m,[g,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[g,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/\s]([\w\.-]+)/i],[g,m],[/\bgsa\/([\w\.]+)\s.*safari\//i],[m,[g,"GSA"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[m,[g,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[g,"Chrome WebView"],m],[/droid.+\sversion\/([\w\.]+)\b.+(?:mobile\ssafari|safari)/i],[m,[g,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[g,m],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[m,[g,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[m,g],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[g,[m,D.str,T.browser.oldSafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[g,m],[/(navigator|netscape)\/([\w\.-]+)/i],[[g,"Netscape"],m],[/ile\svr;\srv:([\w\.]+)\).+firefox/i],[m,[g,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[g,m]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[b,"amd64"]],[/(ia32(?=;))/i],[[b,O.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[b,"ia32"]],[/\b(aarch64|armv?8e?l?)\b/i],[[b,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[b,"armhf"]],[/windows\s(ce|mobile);\sppc;/i],[[b,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[b,/ower/,"",O.lowerize]],[/(sun4\w)[;\)]/i],[[b,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?:64|(?=v(?:[1-7]|[5-7]1)l?|;|eabi))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[b,O.lowerize]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus\s10)/i],[h,[y,"Samsung"],[v,_]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy\snexus)/i,/\ssamsung[\s-]([\w-]+)/i,/sec-(sgh\w+)/i],[h,[y,"Samsung"],[v,x]],[/\((ip(?:hone|od)[\s\w]*);/i],[h,[y,"Apple"],[v,x]],[/\((ipad);[\w\s\),;-]+apple/i,/applecoremedia\/[\w\.]+\s\((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[y,"Apple"],[v,_]],[/\b((?:agr|ags[23]|bah2?|sht?)-a?[lw]\d{2})/i],[h,[y,"Huawei"],[v,_]],[/d\/huawei([\w\s-]+)[;\)]/i,/\b(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?|ele-l\d\d)/i,/\b(\w{2,4}-[atu][ln][01259][019])[;\)\s]/i],[h,[y,"Huawei"],[v,x]],[/\b(poco[\s\w]+)(?:\sbuild|\))/i,/\b;\s(\w+)\sbuild\/hm\1/i,/\b(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/\b(redmi[\s\-_]?(?:note|k)?[\w\s_]+)(?:\sbuild|\))/i,/\b(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[h,/_/g," "],[y,"Xiaomi"],[v,x]],[/\b(mi[\s\-_]?(?:pad)(?:[\w\s_]+))(?:\sbuild|\))/i],[[h,/_/g," "],[y,"Xiaomi"],[v,_]],[/;\s(\w+)\sbuild.+\soppo/i,/\s(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[h,[y,"OPPO"],[v,x]],[/\svivo\s(\w+)(?:\sbuild|\))/i,/\s(v[12]\d{3}\w?[at])(?:\sbuild|;)/i],[h,[y,"Vivo"],[v,x]],[/\s(rmx[12]\d{3})(?:\sbuild|;)/i],[h,[y,"Realme"],[v,x]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)\b[\w\s]+build\//i,/\smot(?:orola)?[\s-](\w*)/i,/((?:moto[\s\w\(\)]+|xt\d{3,4}|nexus\s6)(?=\sbuild|\)))/i],[h,[y,"Motorola"],[v,x]],[/\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[h,[y,"Motorola"],[v,_]],[/((?=lg)?[vl]k\-?\d{3})\sbuild|\s3\.[\s\w;-]{10}lg?-([06cv9]{3,4})/i],[h,[y,"LG"],[v,_]],[/(lm-?f100[nv]?|nexus\s[45])/i,/lg[e;\s\/-]+((?!browser|netcast)\w+)/i,/\blg(\-?[\d\w]+)\sbuild/i],[h,[y,"LG"],[v,x]],[/(ideatab[\w\-\s]+)/i,/lenovo\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+)|yt[\d\w-]{6}|tb[\d\w-]{6})/i],[h,[y,"Lenovo"],[v,_]],[/(?:maemo|nokia).*(n900|lumia\s\d+)/i,/nokia[\s_-]?([\w\.-]*)/i],[[h,/_/g," "],[y,"Nokia"],[v,x]],[/droid.+;\s(pixel\sc)[\s)]/i],[h,[y,"Google"],[v,_]],[/droid.+;\s(pixel[\s\daxl]{0,6})(?:\sbuild|\))/i],[h,[y,"Google"],[v,x]],[/droid.+\s([c-g]\d{4}|so[-l]\w+|xq-a\w[4-7][12])(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[y,"Sony"],[v,x]],[/sony\stablet\s[ps]\sbuild\//i,/(?:sony)?sgp\w+(?:\sbuild\/|\))/i],[[h,"Xperia Tablet"],[y,"Sony"],[v,_]],[/\s(kb2005|in20[12]5|be20[12][59])\b/i,/\ba000(1)\sbuild/i,/\boneplus\s(a\d{4})[\s)]/i],[h,[y,"OnePlus"],[v,x]],[/(alexa)webm/i,/(kf[a-z]{2}wi)(\sbuild\/|\))/i,/(kf[a-z]+)(\sbuild\/|\)).+silk\//i],[h,[y,"Amazon"],[v,_]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[h,"Fire Phone"],[y,"Amazon"],[v,x]],[/\((playbook);[\w\s\),;-]+(rim)/i],[h,y,[v,_]],[/((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10;\s(\w+)/i],[h,[y,"BlackBerry"],[v,x]],[/(?:\b|asus_)(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus\s7|padfone|p00[cj])/i],[h,[y,"ASUS"],[v,_]],[/\s(z[es]6[027][01][km][ls]|zenfone\s\d\w?)\b/i],[h,[y,"ASUS"],[v,x]],[/(nexus\s9)/i],[h,[y,"HTC"],[v,_]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[y,[h,/_/g," "],[v,x]],[/droid[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[h,[y,"Acer"],[v,_]],[/droid.+;\s(m[1-5]\snote)\sbuild/i,/\bmz-([\w-]{2,})/i],[h,[y,"Meizu"],[v,x]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i,/(microsoft);\s(lumia[\s\w]+)/i,/(lenovo)[_\s-]?([\w-]+)/i,/linux;.+(jolla);/i,/droid.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[y,h,[v,x]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i,/[;\/]\s?(le[\s\-]+pan)[\s\-]+(\w{1,9})\sbuild/i,/[;\/]\s?(trinity)[\-\s]*(t\d{3})\sbuild/i,/\b(gigaset)[\s\-]+(q\w{1,9})\sbuild/i,/\b(vodafone)\s([\w\s]+)(?:\)|\sbuild)/i],[y,h,[v,_]],[/\s(surface\sduo)\s/i],[h,[y,"Microsoft"],[v,_]],[/droid\s[\d\.]+;\s(fp\du?)\sbuild/i],[h,[y,"Fairphone"],[v,x]],[/\s(u304aa)\sbuild/i],[h,[y,"AT&T"],[v,x]],[/sie-(\w*)/i],[h,[y,"Siemens"],[v,x]],[/[;\/]\s?(rct\w+)\sbuild/i],[h,[y,"RCA"],[v,_]],[/[;\/\s](venue[\d\s]{2,7})\sbuild/i],[h,[y,"Dell"],[v,_]],[/[;\/]\s?(q(?:mv|ta)\w+)\sbuild/i],[h,[y,"Verizon"],[v,_]],[/[;\/]\s(?:barnes[&\s]+noble\s|bn[rt])([\w\s\+]*)\sbuild/i],[h,[y,"Barnes & Noble"],[v,_]],[/[;\/]\s(tm\d{3}\w+)\sbuild/i],[h,[y,"NuVision"],[v,_]],[/;\s(k88)\sbuild/i],[h,[y,"ZTE"],[v,_]],[/;\s(nx\d{3}j)\sbuild/i],[h,[y,"ZTE"],[v,x]],[/[;\/]\s?(gen\d{3})\sbuild.*49h/i],[h,[y,"Swiss"],[v,x]],[/[;\/]\s?(zur\d{3})\sbuild/i],[h,[y,"Swiss"],[v,_]],[/[;\/]\s?((zeki)?tb.*\b)\sbuild/i],[h,[y,"Zeki"],[v,_]],[/[;\/]\s([yr]\d{2})\sbuild/i,/[;\/]\s(dragon[\-\s]+touch\s|dt)(\w{5})\sbuild/i],[[y,"Dragon Touch"],h,[v,_]],[/[;\/]\s?(ns-?\w{0,9})\sbuild/i],[h,[y,"Insignia"],[v,_]],[/[;\/]\s?((nxa|Next)-?\w{0,9})\sbuild/i],[h,[y,"NextBook"],[v,_]],[/[;\/]\s?(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05]))\sbuild/i],[[y,"Voice"],h,[v,x]],[/[;\/]\s?(lvtel\-)?(v1[12])\sbuild/i],[[y,"LvTel"],h,[v,x]],[/;\s(ph-1)\s/i],[h,[y,"Essential"],[v,x]],[/[;\/]\s?(v(100md|700na|7011|917g).*\b)\sbuild/i],[h,[y,"Envizen"],[v,_]],[/[;\/]\s?(trio[\s\w\-\.]+)\sbuild/i],[h,[y,"MachSpeed"],[v,_]],[/[;\/]\s?tu_(1491)\sbuild/i],[h,[y,"Rotor"],[v,_]],[/(shield[\w\s]+)\sbuild/i],[h,[y,"Nvidia"],[v,_]],[/(sprint)\s(\w+)/i],[y,h,[v,x]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[y,"Microsoft"],[v,x]],[/droid\s[\d\.]+;\s(cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[y,"Zebra"],[v,_]],[/droid\s[\d\.]+;\s(ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[y,"Zebra"],[v,x]],[/\s(ouya)\s/i,/(nintendo)\s([wids3utch]+)/i],[y,h,[v,w]],[/droid.+;\s(shield)\sbuild/i],[h,[y,"Nvidia"],[v,w]],[/(playstation\s[345portablevi]+)/i],[h,[y,"Sony"],[v,w]],[/[\s\(;](xbox(?:\sone)?(?!;\sxbox))[\s\);]/i],[h,[y,"Microsoft"],[v,w]],[/smart-tv.+(samsung)/i],[y,[v,S]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[y,"Samsung"],[v,S]],[/(?:linux;\snetcast.+smarttv|lg\snetcast\.tv-201\d)/i],[[y,"LG"],[v,S]],[/(apple)\s?tv/i],[y,[h,"Apple TV"],[v,S]],[/crkey/i],[[h,"Chromecast"],[y,"Google"],[v,S]],[/droid.+aft([\w])(\sbuild\/|\))/i],[h,[y,"Amazon"],[v,S]],[/\(dtv[\);].+(aquos)/i],[h,[y,"Sharp"],[v,S]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[y,O.trim],[h,O.trim],[v,S]],[/[\s\/\(](android\s|smart[-\s]?|opera\s)tv[;\)\s]/i],[[v,S]],[/((pebble))app\/[\d\.]+\s/i],[y,h,[v,k]],[/droid.+;\s(glass)\s\d/i],[h,[y,"Google"],[v,k]],[/droid\s[\d\.]+;\s(wt63?0{2,3})\)/i],[h,[y,"Zebra"],[v,k]],[/(tesla)(?:\sqtcarbrowser|\/20[12]\d\.[\w\.-]+)/i],[y,[v,E]],[/droid .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[h,[v,x]],[/droid .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[h,[v,_]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[v,O.lowerize]],[/(android[\w\.\s\-]{0,9});.+build/i],[h,[y,"Generic"]],[/(phone)/i],[[v,x]]],
engine:[[/windows.+\sedge\/([\w\.]+)/i],[m,[g,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[g,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[g,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,g]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[g,m],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)(?!.+xbox)/i],[g,[m,D.str,T.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[g,"Windows"],[m,D.str,T.os.windows.version]],[/ip[honead]{2,4}\b(?:.*os\s([\w]+)\slike\smac|;\sopera)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[g,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)(?!.+haiku)/i],[[g,"Mac OS"],[m,/_/g,"."]],[/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/\((series40);/i],[g,m],[/\(bb(10);/i],[m,[g,"BlackBerry"]],[/(?:symbian\s?os|symbos|s60(?=;)|series60)[\/\s-]?([\w\.]*)/i],[m,[g,"Symbian"]],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[g,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[g,"webOS"]],[/crkey\/([\d\.]+)/i],[m,[g,"Chromecast"]],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[g,"Chromium OS"],m],[/(nintendo|playstation)\s([wids345portablevuch]+)/i,/(xbox);\s+xbox\s([^\);]+)/i,/(mint)[\/\s\(\)]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?=\slinux)|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus|raspbian)(?:\sgnu\/linux)?(?:\slinux)?[\/\s-]?(?!chrom|package)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i,/\s([frentopc-]{0,4}bsd|dragonfly)\s?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku)\s(\w+)/i],[g,m],[/(sunos)\s?([\w\.\d]*)/i],[[g,"Solaris"],m],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[g,m]]},M=function(e,t){if("object"==typeof e&&(t=e,e=i),!(this instanceof M))return new M(e,t).getResult();var n=e||("undefined"!=typeof o&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:l),r=t?O.extend(N,t):N;return this.getBrowser=function(){var e={name:i,version:i};return D.rgx.call(e,n,r.browser),e.major=O.major(e.version),e},this.getCPU=function(){var e={architecture:i};return D.rgx.call(e,n,r.cpu),e},this.getDevice=function(){var e={vendor:i,model:i,type:i};return D.rgx.call(e,n,r.device),e},this.getEngine=function(){var e={name:i,version:i};return D.rgx.call(e,n,r.engine),e},this.getOS=function(){var e={name:i,version:i};return D.rgx.call(e,n,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===d&&e.length>C?O.trim(e,C):e,this},this.setUA(n),this};M.VERSION=a,M.BROWSER={NAME:g,MAJOR:p,VERSION:m},M.CPU={ARCHITECTURE:b},M.DEVICE={MODEL:h,VENDOR:y,TYPE:v,CONSOLE:w,MOBILE:x,SMARTTV:S,TABLET:_,WEARABLE:k,EMBEDDED:E},M.ENGINE={NAME:g,VERSION:m},M.OS={NAME:g,VERSION:m},typeof t!==c?(typeof e!==c&&e.exports&&(t=e.exports=M),t.UAParser=M):(r=function(){return M}.call(t,n,t,e),!(r!==i&&(e.exports=r)));var I="undefined"!=typeof o&&(o.jQuery||o.Zepto);if(I&&!I.ua){var B=new M;I.ua=B.getResult(),I.ua.get=function(){return B.getUA()},I.ua.set=function(e){B.setUA(e);var t=B.getResult();for(var n in t)I.ua[n]=t[n]}}}("object"==typeof window?window:this)},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return y.iterable&&(t[Symbol.iterator]=function(){return t}),t}function o(e){this.map={},e instanceof o?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function i(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function l(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function s(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function u(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function c(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(y.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(y.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(y.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(y.arrayBuffer&&y.blob&&b(e))this._bodyArrayBuffer=c(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!y.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!w(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):y.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},y.blob&&(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(l)}),this.text=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return s(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},y.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function d(e){var t=e.toUpperCase();return x.indexOf(t)>-1?t:e}function p(e,t){t=t||{};var n=t.body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new o(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new o(t.headers)),this.method=d(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function g(e){var t=new o;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}}),t}function v(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new o(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var y={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(y.arrayBuffer)var m=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(e){return e&&DataView.prototype.isPrototypeOf(e)},w=ArrayBuffer.isView||function(e){return e&&m.indexOf(Object.prototype.toString.call(e))>-1};o.prototype.append=function(e,r){e=t(e),r=n(r);var o=this.map[e];this.map[e]=o?o+","+r:r},o.prototype.delete=function(e){delete this.map[t(e)]},o.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},o.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},o.prototype.set=function(e,r){this.map[t(e)]=n(r)},o.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},o.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},o.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},o.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},y.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var x=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},f.call(p.prototype),f.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var _=[301,302,303,307,308];v.redirect=function(e,t){if(_.indexOf(t)===-1)throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},e.Headers=o,e.Request=p,e.Response=v,e.fetch=function(e,t){return new Promise(function(n,r){var o=new p(e,t),i=new XMLHttpRequest;i.onload=function(){var e={status:i.status,statusText:i.statusText,headers:g(i.getAllResponseHeaders()||"")};e.url="responseURL"in i?i.responseURL:e.headers.get("X-Request-URL");var t="response"in i?i.response:i.responseText;n(new v(t,e))},i.onerror=function(){r(new TypeError("Network request failed"))},i.ontimeout=function(){r(new TypeError("Network request failed"))},i.open(o.method,o.url,!0),"include"===o.credentials&&(i.withCredentials=!0),"responseType"in i&&y.blob&&(i.responseType="blob"),o.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),i.send("undefined"==typeof o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)}]));
//# sourceMappingURL=main.719826c3.js.map